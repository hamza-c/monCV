if (self.CavalryLogger) { CavalryLogger.start_js(["SIv08"]); }

__d("SignalsSimpleFadeOutContainer.react",["Animation","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={show:!0},b}a.prototype.componentDidMount=function(){var a=this.props,c=a.delay;a=a.duration;var d=b("ReactDOM").findDOMNode(this);d&&(this.$1=new(b("Animation"))(d).from("opacity",1).to("opacity",1).duration(c*1e3).checkpoint().from("opacity",1).to("opacity",0).duration(a*1e3).ondone(function(){this.setState({show:!1})}.bind(this)).go())};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.stop()};a.prototype.render=function(){var a=this.props,c=a.className;a=a.children;var d=this.state.show;return d?b("React").createElement("div",{className:b("joinClasses")(c)},a):null};e.exports=a}),null);
__d("PaneGeometryMixin.react",["React"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c={propTypes:{top:a.number,left:a.number,width:a.number,height:a.number,minwidth:a.number,minheight:a.number},getStyle:function(){return{top:this.props.top,left:this.props.left,width:this.props.width,height:this.props.height}}};e.exports=c}),null);
__d("InnerPane.react",["cx","DOMDimensions","PaneGeometryMixin.react","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g){a=b("React").PropTypes;c=b("React").createClass({displayName:"InnerPane",mixins:[b("PaneGeometryMixin.react")],propTypes:{collapsible:a.bool},getSize:function(a){var c=b("ReactDOM").findDOMNode(this),d=b("ReactDOM").findDOMNode(this.refs.content);d=b("DOMDimensions").getElementDimensions(d)[a];d+=b("DOMDimensions").measureElementBox(c,a,1,1,1);return d},render:function(){var a=b("joinClasses")(this.props.className,"pane");return b("React").createElement("div",babelHelpers["extends"]({},this.props,{style:this.getStyle(),className:a}),b("React").createElement("div",{className:"paneScroll _4l3f"},b("React").createElement("div",{className:"paneContent",ref:"content"},this.props.children)))}});e.exports=c}),null);
__d("SplitPane.react",["cx","invariant","DOMDimensions","Event","PaneGeometryMixin.react","React","ReactDOM","clearImmediate","getElementPosition","getViewportDimensions","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;var j=b("React").createClass({displayName:"Item",mixins:[b("PaneGeometryMixin.react")],render:function(){return b("React").createElement("div",babelHelpers["extends"]({},this.props,{style:this.getStyle()}),this.props.children)}});d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={separatorWidth:0,dragging:!1},this.$1=function(a,b){return this.state.orientation==="vertical"?a:{width:a[b.width],height:a[b.height],top:a[b.top],left:a[b.left]}}.bind(this),this.$2=function(a,b,c){var d={},e={},f={};if(a[c.width]){var g=a[c.width];e=this.$1({left:0,top:0,width:Math.max(Math.floor((g-b)*this.state.proportion),0),height:a[c.height]},c);d=this.$1({left:e[c.width],top:0,height:a[c.height]},c);f=this.$1({left:b+d[c.left],top:0,width:Math.max(g-e[c.width]-b,0),height:a[c.height]},c)}return{separator:d,firstPane:e,secondPane:f}}.bind(this),this.collapse=function(){this.refs.firstPane.props.collapsible?this.setState({proportion:0}):this.refs.secondPane.props.collapsible&&this.setState({proportion:1})}.bind(this),this.getDimensions=function(){return{height:this.state.height,width:this.state.width}}.bind(this),this.getSize=function(a){return a==="width"&&this.state.orientation==="vertical"||a==="height"&&this.state.orientation==="horizontal"?0:Math.max(this.refs.firstPane.getSize(a),this.refs.secondPane.getSize(a))}.bind(this),this.$4=function(event){if(event.altKey){this.$5();return}document.body.style.MozUserSelect="none";var a=this.$3();this.setState({dragging:!0,dragStart:event[a.clientX],dragProportion:this.state.proportion})}.bind(this),this.$6=function(event){__p&&__p();if(!this.state.dragging)return;var a=this.$3(),b=this.state[a.width],c=(event[a.clientX]-this.state.dragStart)/b,d=this.state.separatorWidth;b=b-d;d=this.refs.firstPane.props[a.minwidth]||0;a=this.refs.secondPane.props[a.minwidth]||0;c=this.state.dragProportion+c;c=Math.max(c,d/b);c=Math.min(c,1-a/b);c=Math.max(0,Math.min(c,1));this.state.proportion!=c&&(this.props.onProportionChanged&&this.props.onProportionChanged(c),this.setState({proportion:c}))}.bind(this),this.$7=function(event){if(!this.state.dragging)return;document.body.style.MozUserSelect="";this.setState({dragging:!1});this.props.onDragEnd&&this.props.onDragEnd(this.state.proportion)}.bind(this),this.$8=function(event){this.state.dragging&&event.kill()}.bind(this),this.$3=function(){if(this.state.orientation==="vertical")return{top:"top",bottom:"bottom",left:"left",right:"right",width:"width",height:"height",clientX:"clientX",maxwidth:"maxwidth",maxheight:"maxheight",minwidth:"minwidth",minheight:"minheight",x:"x",y:"y"};else return{top:"left",bottom:"right",left:"top",right:"bottom",width:"height",height:"width",clientX:"clientY",maxwidth:"maxheight",maxheight:"maxwidth",minwidth:"minheight",minheight:"minwidth",x:"y",y:"x"}}.bind(this),this.$11=function(){__p&&__p();var a=b("ReactDOM").findDOMNode(this),c=a.parentNode,d=b("ReactDOM").findDOMNode(this.refs.separator);c=b("DOMDimensions").getElementDimensions(c);var e=b("getElementPosition")(a),f=b("getViewportDimensions").withoutScrollbars(),g=this.$3();d=b("DOMDimensions").getElementDimensions(d);d[g.width]!==this.state.separatorWidth&&this.setState({separatorWidth:d[g.width]});d={height:this.props.heightPolicy,width:this.props.widthPolicy};this.props.height!==undefined&&(d.height="fixed");this.props.width!==undefined&&(d.width="fixed");d[g.width]==="grow"&&(d[g.width]="auto");var h={};d[g.width]==="auto"?h[g.width]=c[g.width]:d[g.width]==="fixed"?h[g.width]=this.props[g.width]:d[g.width]==="full"&&(h[g.width]=f[g.width]-e[g.x]-this.$12(g.right,a));this.props[g.maxwidth]!==undefined&&h[g.width]>this.props[g.maxwidth]&&(h[g.width]=this.props[g.maxwidth]);if(d[g.height]==="auto")h[g.height]=c[g.height];else if(d[g.height]==="fixed")h[g.height]=this.props[g.height];else if(d[g.height]==="full")h[g.height]=f[g.height]-e[g.y]-this.$12(g.bottom,a);else if(d[g.height]==="grow"){c=this.refs.firstPane.getSize(g.height);f=this.refs.secondPane.getSize(g.height);h[g.height]=Math.max(c,f)}this.props[g.maxheight]!==undefined&&h[g.height]>this.props[g.maxheight]&&(h[g.height]=this.props[g.maxheight]);(this.state.width!==h.width||this.state.height!==h.height)&&(this.setState(h),this.props.onResize&&this.props.onResize())}.bind(this),this.$12=function(a,c){this.nestedBox===undefined&&(this.nestedBox={});if(this.nestedBox[a]!==undefined)return this.nestedBox[a];var d=0;do d+=b("DOMDimensions").measureElementBox(c,a,1,1,1);while(c!==document.body&&(c=c.parentNode));this.nestedBox[a]=d;return d}.bind(this),c}a.prototype.render=function(){"use strict";var a=[];b("React").Children.forEach(this.props.children,function(b){b&&a.push(b)});a.length===2||h(0,undefined);var c=this.$2(this.state,this.state.separatorWidth,this.$3()),d=b("joinClasses")("splitPane"+(this.props.bossPane?" splitPaneBoss":"")+(this.state.orientation==="vertical"?" vertical":"")+(this.state.orientation==="horizontal"?" horizontal":"")+(this.props.nostyling?"":" default")+(this.state.dragging?" dragging":""),this.props.className),e=b("React").createElement(j,babelHelpers["extends"]({ref:"separator",className:"separator"},c.separator,{onMouseDown:this.$4,onMouseOver:this.props.onMouseOverSeparator,onMouseLeave:this.props.onMouseLeaveSeparator}),b("React").createElement("div",{className:"grip",ref:"grid"})),f=b("React").cloneElement(a[0],babelHelpers["extends"]({},c.firstPane,{ref:"firstPane",bossPane:!1}));c=b("React").cloneElement(a[1],babelHelpers["extends"]({},c.secondPane,{ref:"secondPane",bossPane:!1}));return b("React").createElement(j,babelHelpers["extends"]({ref:"container"},this.props,{width:this.state.width,height:this.state.height,className:d}),e,b("React").createElement("div",{className:"guide",ref:"guide"}),b("React").createElement("div",{className:"voile",ref:"voile"}),f,c)};a.prototype.$5=function(){"use strict";if(this.props.flippable){var a=this.state.orientation==="vertical"?"horizontal":"vertical";this.props.onOrientation&&this.props.onOrientation(a);this.setState({orientation:a})}};a.prototype.UNSAFE_componentWillMount=function(){"use strict";document.addEventListener("mousemove",this.$6),document.addEventListener("mouseup",this.$7),document.addEventListener("selectstart",this.$8),this.setState({height:this.props.height,width:this.props.width,orientation:this.props.orientation,proportion:this.props.proportion})};a.prototype.componentWillUnmount=function(){"use strict";document.removeEventListener("mousemove",this.$6),document.removeEventListener("mouseup",this.$7),document.removeEventListener("selectstart",this.$8),this.$9!=null&&(this.$9.remove(),delete this.$9),this.$10!=null&&b("clearImmediate")(this.$10)};a.prototype.componentDidMount=function(){"use strict";this.$11(),(this.props.heightPolicy==="full"||this.props.widthPolicy==="full"||this.props.alwaysUpdateOnWindowResize)&&(this.$9=b("Event").listen(window,"resize",this.$11))};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";a.proportion!==this.props.proportion&&this.setState({proportion:a.proportion}),this.$10=b("setImmediate")(this.$11)};a.propTypes={widthPolicy:c.oneOf(["auto","full","fixed","grow"]),heightPolicy:c.oneOf(["auto","full","fixed","grow"]),orientation:c.oneOf(["vertical","horizontal"]),nostyling:c.bool,flippable:c.bool,maxwidth:c.number,maxheight:c.number,width:c.number,height:c.number,proportion:c.number,onProportionChanged:c.func,onDragEnd:c.func,bossPane:c.bool,onResize:c.func,onOrientation:c.func,alwaysUpdateOnWindowResize:c.bool,onMouseOverSeparator:c.func,onMouseLeaveSeparator:c.func};a.defaultProps={widthPolicy:"auto",heightPolicy:"grow",orientation:"vertical",nostyling:!1,flippable:!1,proportion:.5,bossPane:!0};e.exports=a}),null);
__d("FBRTCCallControlPopover.react",["AlignmentEnum","PositionEnum","React","RTCCallControlsButton.react","RTCCallControlsToggleScreenSharingWithFunnelButton.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$2=function(){return this.props.referenceElement}.bind(this),b}a.prototype.render=function(){if(!this.props.referenceElement)return null;return!this.props.title&&!this.props.body?null:b("React").createElement(b("XUIContextualDialog.react"),babelHelpers["extends"]({label:this.props.label},this.$1()),this.props.title?b("React").createElement(b("XUIContextualDialogTitle.react"),{className:this.props.className},this.props.title):null,this.props.body?b("React").createElement(b("XUIContextualDialogBody.react"),{className:this.props.className},this.props.body):null)};a.prototype.$1=function(){var a={alignment:b("AlignmentEnum").left,contextRef:this.$2,dialogRole:"dialog",hasActionableContext:!1,hideOnBlur:this.props.hideOnBlur,hideOnEscape:!0,hoverContextRef:this.$2,position:b("PositionEnum").above,shown:!1,width:this.props.width};return a};e.exports=a}),null);
__d("FBRTCEnterRoomLinkButton.react",["cx","fbt","AbstractButton.react","FBRTCSupport","React","RTCUtils","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=babelHelpers["extends"]({},a);a=c.errorMessage;var d=c.isRejoin===!0?h._("Join Again"):h._("Join Video Chat");return b("React").createElement("div",{className:"_6qy3"},a===null?null:b("React").createElement(b("XUIText.react"),{color:"negative",size:"body3"},a),b("React").createElement(b("AbstractButton.react"),{className:b("joinClasses")(c.className,"_6qy2"),label:d,onClick:function(){b("FBRTCSupport").isMobileDevice()&&b("RTCUtils").requestFullScreen(),c.onClick&&c.onClick()}}))};e.exports=a}),null);
__d("FBRTCGroupCallFluidGridView.react",["cx","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={landscape:!0},this.$1=function(){this.setState({landscape:window.innerHeight<=window.innerWidth})}.bind(this),b}a.prototype.componentDidMount=function(){this.$1(),window.addEventListener("resize",this.$1)};a.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.$1)};a.prototype.render=function(){return b("React").createElement("div",{className:"_2rid"+(this.state.landscape?"":" column")+(this.props.hidden?" hide":"")},b("React").createElement(i,{landscape:this.state.landscape,remoteUsers:this.props.remoteUsers,renderUser:this.props.renderUser}))};var i=function a(c){var d=c.remoteUsers,e=c.landscape,f=c.renderUser;return d.size===1?f(d.first()):j(d).map(function(c,d){return b("React").createElement("div",{className:"_2rip"+(e?" column":"")+(c.size===3?" big":""),key:d},b("React").createElement(a,{landscape:!e,remoteUsers:c,renderUser:f}))})};function j(a){if(a.size===2)return a.map(function(a){return b("immutable").List([a])});else if(a.size<7||a.size%2===0)return b("immutable").Range(0,a.size,2).map(function(b){return a.slice(b,b+2)}).toList();else return b("immutable").Range(0,a.size-3,2).map(function(b){return a.slice(b,b+2)}).toList().push(a.takeLast(3))}e.exports=a}),null);
__d("FBRTCMobileBrowserInCallView.react",["cx","fbt","ix","CurrentUser","FBRTCGroupCallFluidGridView.react","FBRTCVideo.react","Image.react","React","RTCCallActions","RTCConferenceState","RTCIncallAudio.react","RTCMediaStreamReadyContainer.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;function k(a){return h._("Your camera is off")}function l(a){return h._("L\u2019appareil photo de {name} n\u2019est pas allum\u00e9e",[h._param("name",a)])}function m(a){return a.FBID===b("CurrentUser").getID()}function n(a){return a===b("RTCConferenceState").NEW||a===b("RTCConferenceState").CONNECTING}function o(a){var c=a.user,d=a.conferenceState;a=a.rtcUsers;d=n(d)||a.size===1;return b("React").createElement(b("Image.react"),{className:"_6nps"+(m(c)&&!d&&c.isAudioMuted()?" _6np1":""),src:i("421475")})}function p(a){var c=a.user,d=a.conferenceState,e=a.rtcUsers,f=c.streams.first(),g=n(d)&&e.size===1;return b("React").createElement("div",{className:"_6np2"},b("React").createElement("div",{className:"_6ov3"+(g?"":" hide")},h._("En attente d\u2019autres personnes.")),b("React").createElement(b("RTCMediaStreamReadyContainer.react"),{mediaStream:f},function(a){return b("React").createElement("div",{className:"_6np3"+(a?" active":"")+" _6np6"+(g?" _6np7":"")},b("React").createElement(b("FBRTCVideo.react"),{mediaStream:f,muted:m(c)}))}),b("React").createElement(o,a))}function q(a){var c=a.user,d=c.streams.first();return b("React").createElement("div",{className:"_6np2"},b("React").createElement(b("Image.react"),{className:"_6np8",src:c.profilePictureUrl}),b("React").createElement(b("Image.react"),{alt:h._("Photo de profil"),className:"_6np9",src:c.profilePictureUrl}),b("React").createElement("p",{className:"_6npa"},m(c)?k(c.userShortName):l(c.userShortName)),m(c)?null:b("React").createElement(b("RTCIncallAudio.react"),{mediaStream:d}),b("React").createElement(o,a))}function r(a,c){var d=s(a);return b("React").createElement("div",{className:"_6npb"},d?b("React").createElement(p,babelHelpers["extends"]({user:a},c)):b("React").createElement(q,babelHelpers["extends"]({user:a},c)))}function s(a){var b=a.streams.first();return b&&!a.areAllTracksMuted(b.getVideoTracks())}c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){j.constructor.call(this,a),this.isVideoMutedByLocalUser=!1,this.$2=function(){switch(document.visibilityState){case"hidden":this.isVideoMutedByLocalUser=this.props.localUser.isVideoMuted();b("RTCCallActions").toggleMuteVideo(!1);break;case"visible":this.isVideoMutedByLocalUser||b("RTCCallActions").toggleMuteVideo(!0)}}.bind(this),this.$3=function(a){a&&(this.incallView=a)}.bind(this),document.body&&(document.body.style.overflow="hidden")}a.prototype.componentDidMount=function(){this.incallView&&this.incallView.addEventListener("touchstart",this.$1),document.addEventListener("visibilitychange",this.$2)};a.prototype.componentWillUnmount=function(){this.incallView&&this.incallView.removeEventListener("touchstart",this.$1),document.removeEventListener("visibilitychange",this.$2)};a.prototype.$1=function(event){event.touches.length>1&&event.preventDefault()};a.prototype.render=function(){return b("React").createElement("div",{className:"_6npc",ref:this.$3},b("React").createElement(b("FBRTCGroupCallFluidGridView.react"),{hidden:!1,remoteUsers:this.props.rtcUsers,renderUser:function(a){return r(a,this.props)}.bind(this)}))};e.exports=a}),null);
__d("RTCNotificationUtils",["fbt","immutable","intlList"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={addingUsersToCallText:function(a,c){if(c&&c.size>0){c=c.toArray().map(function(a){return a.short_name});c=a?g._("Ajouter {names of users being added to call} \u00e0 votre appel...",[g._param("names of users being added to call",b("intlList")(c,b("intlList").CONJUNCTIONS.AND))]):g._("Ajout de {names of users being added to call} \u00e0 votre discussion vid\u00e9o...",[g._param("names of users being added to call",b("intlList")(c,b("intlList").CONJUNCTIONS.AND))])}else c=a?g._("Ajout d\u2019un participant \u00e0 votre appel..."):g._("Ajout d\u2019un participant \u00e0 votre appel vid\u00e9o...");return c},unableToAddUsersToCallText:function(a,c){if(c&&c.size>0){c=c.toArray().map(function(a){return a.short_name});return g._("Impossible d\u2019ajouter {names of users being added to call}",[g._param("names of users being added to call",b("intlList")(c,b("intlList").CONJUNCTIONS.OR))])}return a?g._("Impossible d\u2019ajouter un participant \u00e0 votre appel"):g._("Impossible d\u2019ajouter un participant \u00e0 l\u2019appel vid\u00e9o")}};e.exports=a}),null);
__d("RTCCallNotificationReducer",["RTCAppDispatcher","RTCCallActionTypes","RTCCallStore","RTCGroupCallEscalationActionTypes","RTCGroupCallEscalationStore","RTCNotificationUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){switch(c.type){case b("RTCGroupCallEscalationActionTypes").GROUP_ESCALATION_START:c=!b("RTCCallStore").hasRemoteVideo()&&!b("RTCCallStore").hasLocalVideo();c=b("RTCNotificationUtils").addingUsersToCallText(c,b("RTCGroupCallEscalationStore").getState().usersToRing);return a.set("notificationText",c).set("useTimeout",!1)}return a}function c(a,c){switch(c.type){case b("RTCCallActionTypes").ON_CONFERENCE_STATE:b("RTCAppDispatcher").waitFor([b("RTCGroupCallEscalationStore").getDispatchToken()]);return b("RTCGroupCallEscalationStore").getState().readyToTransition?a.set("notificationText",null).set("useTimeout",!1):a}return a}function d(a,c){switch(c.type){case b("RTCGroupCallEscalationActionTypes").GROUP_ESCALATION_CANCEL:c=!b("RTCCallStore").hasRemoteVideo()&&!b("RTCCallStore").hasLocalVideo();c=b("RTCNotificationUtils").unableToAddUsersToCallText(c,b("RTCGroupCallEscalationStore").getState().usersToRing);return a.set("notificationText",c).set("useTimeout",!0)}return a}function f(a,c){switch(c.type){case b("RTCCallActionTypes").HANGUP:case b("RTCCallActionTypes").END_CALL:case b("RTCCallActionTypes").HANGUP_ERROR:case b("RTCCallActionTypes").HANGUP_SUCCESS:return a.withMutations(function(a){a.set("notificationText",null).set("useTimeout",!0)})}return a}e.exports={clearStore:f,onEscalationStarted:a,onEscalationCompletion:c,onAbortedEscalation:d}}),null);
__d("RTCCallNotificationStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c={useTimeout:!0,notificationText:null};g=babelHelpers.inherits(a,b("immutable").Record(c));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("RTCCallNotificationStore",["FluxReduceStore","RTCAppDispatcher","RTCCallNotificationReducer","RTCCallNotificationStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[b("RTCCallNotificationReducer").clearStore,b("RTCCallNotificationReducer").onEscalationStarted,b("RTCCallNotificationReducer").onEscalationCompletion,b("RTCCallNotificationReducer").onAbortedEscalation];g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return new(b("RTCCallNotificationStoreState"))()};a.prototype.reduce=function(a,b){return h.reduce(function(a,c){return c(a,b)},a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("RTCAppDispatcher"))}),null);
__d("RTCCallNotificationContainer.react",["PageHooks","FluxContainer","RTCCallNotificationStore","MessengerBannerOverlay.react","React","RTCConferenceState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("PageHooks");a=babelHelpers.inherits(h,b("React").PureComponent);g=a&&a.prototype;h.getStores=function(){return[b("RTCCallNotificationStore")]};h.calculateState=function(){var a=b("RTCCallNotificationStore").getState(),c=a.notificationText;a=a.useTimeout;return{notificationText:c,useTimeout:a}};function h(a){g.constructor.call(this,a),this.state=babelHelpers["extends"]({},h.calculateState())}h.prototype.render=function(){var a=this.state,c=a.notificationText;a=a.useTimeout;return b("React").createElement(b("MessengerBannerOverlay.react"),{display:this.props.conferenceState!==b("RTCConferenceState").TERMINATED,useTimeout:a},c)};e.exports=b("FluxContainer").create(h)}),null);
__d("RTCGroupCallPeerImage.react",["cx","CurrentUser","MercuryParticipantsImage.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerProfileImageWrapperReact.bs").jsComponent,i=b("MessengerThreadImageReact.bs").jsComponent;function a(a){if(j(a))return null;var c=a.participants.filter(function(a,b){return!a.is_parties_user}),d=Array.from(a.participants.filter(function(a,b){return a.is_parties_user}).map(function(a,b){return a.image_src}).values());return a.thread?b("React").createElement(i,{className:"_4j_j",participants:a.participants,size:100,thread:a.thread,viewer:b("CurrentUser").getID()}):b("React").createElement(h,{className:"_4j_j",showBadge:!1,size:100},b("React").createElement(b("MercuryParticipantsImage.react"),{participants:Object.keys(c.toJS()),partiesProfileImages:d,size:100}))}function j(a){return!!(a.participants.size<=1&&a.linkHash)}e.exports=a}),null);
__d("XFacebookMessengerInboxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/t/{?thread_key}/",{thread_key:{type:"String"},mid:{type:"String"},ref:{type:"String"},ds:{type:"Int"},sender:{type:"Bool",defaultValue:!1},hide_header:{type:"Bool",defaultValue:!1}})}),null);
__d("FBRTCGroupCallUserPopoverMenu.react",["cx","fbt","MessengerMenu.react","MessengerPopoverMenu.react","React","URI","XFacebookMessengerInboxController","XMessengerDotComMainController","isMessengerDotComURI"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerMenu.react").Item,j=b("MessengerMenu.react").Separator;a=function(a){var c=a.children,d=a.user;a=b("React").createElement(b("MessengerMenu.react"),{className:"_2vmq"},b("React").createElement(i,{label:d.userName,disabled:!0}),b("React").createElement(j,null),b("React").createElement(i,{label:h._("Contacter"),onclick:function(){return k(d.FBID)}}),b("React").createElement(i,{label:h._("Voir le profil"),onclick:function(){return l(d.profileUrl)}}));return b("React").createElement(b("MessengerPopoverMenu.react"),{menu:a},c)};function k(a){var c=b("isMessengerDotComURI")(b("URI").getRequestURI())?b("XMessengerDotComMainController"):b("XFacebookMessengerInboxController");window.open(c.getURIBuilder().setString("thread_key",a).getURI())}function l(a){a&&window.open(a)}e.exports=a}),null);
__d("RTCGroupCallDraggableComponent.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;var h=5;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$2=!1,this.$3=0,this.$4=0,this.$5=0,this.$10=function(a){a&&(this.$1=a)}.bind(this),this.$8=function(a){this.$2&&(a.stopPropagation(),this.$2=!1)}.bind(this),this.$9=function(a){var b=a.clientX;a=a.clientY;this.$1&&(this.$3=b,this.$4=a,this.$5=this.$1.scrollLeft+b,document.addEventListener("mousemove",this.$6),document.addEventListener("mouseup",this.$7))}.bind(this),this.$6=function(a){var b=a.clientX;a=a.clientY;this.$1&&(this.$1.scrollLeft=this.$5-b,(Math.abs(b-this.$3)>h||Math.abs(a-this.$4)>h)&&(this.$2=!0))}.bind(this),this.$7=function(){document.removeEventListener("mousemove",this.$6),document.removeEventListener("mouseup",this.$7)}.bind(this),b}a.prototype.componentWillUnmount=function(){document.removeEventListener("mousemove",this.$6),document.removeEventListener("mouseup",this.$7)};a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className,onClickCapture:this.$8,onMouseDown:this.$9,ref:this.$10},this.props.children)};e.exports=a}),null);
__d("RTCGroupCallRosterRow.react",["cx","FBRTCGroupCallUserPopoverMenu.react","FBRTCParticipantCallState","React","RTCCallUser.react","RTCGroupCallDraggableComponent.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.localUser;a=a.remoteUsers;return b("React").createElement(b("RTCGroupCallDraggableComponent.react"),{className:"_1a8c"},a.filter(function(a){return h(a.participantState)}).map(function(a){return b("React").createElement(b("FBRTCGroupCallUserPopoverMenu.react"),{key:a.FBID,user:a},b("React").createElement(b("RTCCallUser.react"),{isLocal:!1,isP2PCall:!1,user:a}))}),b("React").createElement(b("RTCCallUser.react"),{isLocal:!0,isP2PCall:!1,user:c}))};function h(a){if(a)switch(a.state){case b("FBRTCParticipantCallState").CONTACTING:case b("FBRTCParticipantCallState").RINGING:case b("FBRTCParticipantCallState").CONNECTING:case b("FBRTCParticipantCallState").CONNECTED:return!0}return!1}e.exports=a}),null);
__d("RTCGroupCallStateInfo.react",["cx","fbt","CurrentUser","FBRTCCallTimer.react","FBRTCParticipantCallState","MercuryThreadTitle.react","React","RTCAppSpinner.react","RTCCallTitle.react","RTCConferenceState","RTCGroupCallPeerImage.react","RTCGroupCallRosterRow.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=b("RTWebClientFeatureGating").callUnification();function k(a){return a.conferenceState===b("RTCConferenceState").AWAITING_USER_START?b("React").createElement("p",{className:(j?"":"_fjp")+(j?" _6to4":"")},h._("Pr\u00eat(e) \u00e0 appeler {name}\u00a0?",[h._param("name",a.thread?b("React").createElement(b("MercuryThreadTitle.react"),{thread:a.thread,viewer:b("CurrentUser").getID()}):b("React").createElement(b("RTCCallTitle.react"),{participants:a.participants,viewer:b("CurrentUser").getID()}))])):b("React").createElement("p",{className:(j?"":"_fjp")+(j?" _6to4":"")},a.thread?b("React").createElement(b("MercuryThreadTitle.react"),{thread:a.thread,viewer:b("CurrentUser").getID()}):b("React").createElement(b("RTCCallTitle.react"),{participants:a.participants,viewer:b("CurrentUser").getID()}))}function l(a){var c=a.callMessage;return b("React").createElement("p",{className:(j?"":"_fjq")+(j?" _6to5":"")},c||b("React").createElement(m,babelHelpers["extends"]({start:a.start},a)))}function m(a){switch(a.conferenceState){case b("RTCConferenceState").CONNECTING:return a.linkHash?h._("En attente d\u2019autres personnes."):h._("Mise en relation...");case b("RTCConferenceState").CONNECTED:return a.start>0?b("React").createElement(b("FBRTCCallTimer.react"),{start:a.start}):null;case b("RTCConferenceState").TERMINATING:return h._("D\u00e9marrage...");case b("RTCConferenceState").TERMINATED:return h._("Appel termin\u00e9");case b("RTCConferenceState").NEW:return b("React").createElement(b("RTCAppSpinner.react"),null);default:return null}}function n(a){return a.conferenceState!==b("RTCConferenceState").CONNECTING&&a.conferenceState!==b("RTCConferenceState").CONNECTED?null:b("React").createElement("div",{className:"_5-tc"},b("React").createElement(b("RTCGroupCallRosterRow.react"),{localUser:a.localUser,remoteUsers:a.remoteUsers}))}d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={start:0},b}a.getDerivedStateFromProps=function(a,c){var d=a.conferenceState;a=a.initialStartTime;a=a||Date.now();return c.start===0&&d===b("RTCConferenceState").CONNECTED?babelHelpers["extends"]({},c,{start:Math.floor(a/1e3)}):null};a.prototype.render=function(){var a=this.props,c=a.remoteUsers.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED});c=b("RTWebClientFeatureGating").callUnification()?c.size>=1:!a.isAudioCall&&a.conferenceState!==b("RTCConferenceState").TERMINATED;return c?null:b("React").createElement("div",{className:"_4j_i"},b("React").createElement(b("RTCGroupCallPeerImage.react"),a),b("React").createElement(k,a),b("React").createElement(l,babelHelpers["extends"]({start:this.state.start},a)),b("React").createElement(n,a))};e.exports=a}),null);
__d("FBRTCMobileBrowserAppViewContent.react",["cx","fbt","FBRTCEnterRoomLinkButton.react","FBRTCMobileBrowserInCallView.react","FBRTCParticipantCallState","MessengerChatLinksFunnelLogger","React","RTCAppViewMain.react","RTCConferenceState","RTCGroupCallEscalationStore","RTCGroupCallPeerImage.react","RTCGroupCallStateInfo.react","RTCRingBackTone.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();a.endCallReason;var c=a.remoteUsers;switch(a.conferenceState){case b("RTCConferenceState").NEW:case b("RTCConferenceState").CONNECTING:case b("RTCConferenceState").CONNECTED:case b("RTCConferenceState").TERMINATING:c=c.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED});return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},b("React").createElement(b("FBRTCMobileBrowserInCallView.react"),{conferenceState:a.conferenceState,localUser:a.localUser,rtcUsers:b("immutable").List([a.localUser]).concat(c)}),a.conferenceState===b("RTCConferenceState").CONNECTING?b("React").createElement(b("RTCRingBackTone.react"),{active:!0}):null);case b("RTCConferenceState").TERMINATED:c=b("RTCGroupCallEscalationStore").getState();c=c.p2pCallSummary;c?c.getConnectedStartTime():0;c=h._("Vous avez quitt\u00e9 la discussion vid\u00e9o");return b("React").createElement(b("RTCAppViewMain.react"),{className:"_6qx6",fullBleed:!0},b("React").createElement("div",{className:"_4j_i"},b("React").createElement(b("RTCGroupCallPeerImage.react"),a),b("React").createElement("p",{className:"_fjp"},c)),b("React").createElement(b("FBRTCEnterRoomLinkButton.react"),{className:"_6qx7",isRejoin:!0,onClick:function(){b("MessengerChatLinksFunnelLogger").appendAction("click_rejoin_call"),a.rejoinCall()}}));default:return null}};e.exports=a}),null);
__d("FBRTCMobileBrowserAppViewFooter.react",["cx","FBRTCHangupReason","React","RTCAppViewFooter.react","RTCCallControls.react","RTCCallControlsEndCallButton.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleVideoButton.react","RTCCallControlsVideoEscalationButton.react","RTCConferenceState","RTCMWProtocolHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("RTCMWProtocolHandler").endCall(this.props.conferenceName,this.props.serverInfoData,b("FBRTCHangupReason").HANGUP_CALL)}.bind(this),c}a.prototype.render=function(){switch(this.props.conferenceState){case b("RTCConferenceState").TERMINATED:return b("React").createElement(b("RTCAppViewFooter.react"),null);default:return b("React").createElement(b("RTCAppViewFooter.react"),null,b("React").createElement(b("RTCCallControls.react"),{autoHide:!0,className:"_5rdt"},this.props.localUser.hasVideo()?b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:this.props.conferenceState,initializeVideo:!0,isP2P:!1,videoMuted:this.props.localUser.isVideoMuted()}):b("React").createElement(b("RTCCallControlsVideoEscalationButton.react"),{disabled:!this.props.hasVideoInput,onClick:function(){return b("RTCMWProtocolHandler").escalateLocalStream()}}),b("React").createElement(b("RTCCallControlsEndCallButton.react"),{conferenceState:this.props.conferenceState,isP2P:!1,onClick:this.$1}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:this.props.localUser.isAudioMuted(),conferenceState:this.props.conferenceState,isP2P:!1})))}};e.exports=a}),null);
__d("RTCSlidingLogoContainer.react",["cx","Link.react","React","RTCLogo.react"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=a.onClick;return b("React").createElement(b("Link.react"),{onClick:a,target:"_blank"},b("React").createElement("div",{className:"_6qxs"},b("React").createElement(b("RTCLogo.react"),{className:"_4key",mode:"mono"})))};e.exports=a}),null);
__d("VideoChatLinksLoggingComponent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSENGER_APP_STORE_LINK:"messenger_app_store_link",MESSENGER_APP_DEEP_LINK:"messenger_app_deep_link",CREATE_LINK_BUTTON:"create_link_button",CREATE_VIDEO_CALL_LINK_BUTTON:"create_video_call_link_button",IMESSAGE_TRAY_BUTTON:"imessage_tray_button",IMESSAGE_LINK_MESSAGE:"imessage_link_message",IMESSAGE_LINK_MESSAGE_PREVIEW:"imessage_link_message_preview",IMESSAGE_LOGIN_BUTTON:"imessage_login_button",IMESSAGE_OPEN_MESSENGER_BUTTON:"imessage_open_messenger_button",INCALL_SHARE_LINK_CTA_BUTTON:"incall_share_link_cta_button",SHARE_TO_FACEBOOK_BUTTON:"share_to_facebook_button",SHARE_TO_MESSENGER_BUTTON:"share_to_messenger_button",SHARE_TO_INSTAGRAM_BUTTON:"share_to_instagram_button",SHARE_TO_REVOKE_BUTTON:"link_revoke_button",SHARE_TO_SMS_BUTTON:"share_to_sms_button",SHARE_TO_COPY_BUTTON:"share_to_copy_button",SHARE_TO_MORE_BUTTON:"share_to_more_button"})}),null);
__d("VideoChatLinksLoggingEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TAP:"tap",IMPRESSION:"impression",ERROR:"error",SURFACE_ENTER:"surface_enter",SURFACE_EXIT:"surface_exit",LINK_CREATED:"link_created",LINK_SENT:"link_sent",LINK_SEND_CANCELLED:"link_send_cancelled",LINK_OPENED:"link_opened",LINK_REVOKED:"link_revoked",LINK_CALL_CREATED:"link_call_created",LINK_CALL_STARTED:"link_call_started",LINK_ATTACHED_TO_THREAD:"link_attached_to_thread"})}),null);
__d("VideoChatLinksLoggingSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMESSAGE_THREAD:"imessage_thread",IMESSAGE_TRAY:"imessage_tray",IMESSAGE_EXTENSION_MAIN:"imessage_extension_main",IMESSAGE_EXTENSION_LOGIN:"imessage_extension_login",MESSENGER_CALLS_TAB:"messenger_calls_tab",MESSENGER_LINKS_LIST:"messenger_links_list",MESSENGER_THREAD:"messenger_thread",MDOTME_REDIRECT:"mdotme_redirect",MESSENGER_GROUPS_TAB:"messenger_groups_tab",MESSENGER_LINK_SHARE_SHEET:"messenger_link_share_sheet",MESSENGER_LINK_IN_CALL:"messenger_link_in_call",WWW_LOGIN:"www_login",WWW_INTERSTITIAL:"www_interstitial",WWW_INCALL:"www_incall",WWW_POSTCALL:"www_postcall",WWW_MOBILE_APP_STORE_REDIRECT:"www_mobile_app_store_redirect"})}),null);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setClientAppVersion=function(a){this.$1.client_app_version=a;return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setComponent=function(a){this.$1.component=a;return this};a.prototype.setConferenceName=function(a){this.$1.conference_name=a;return this};a.prototype.setDeviceID=function(a){this.$1.device_id=a;return this};a.prototype.setErrorDetails=function(a){this.$1.error_details=a;return this};a.prototype.setErrorType=function(a){this.$1.error_type=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setGroupSize=function(a){this.$1.group_size=a;return this};a.prototype.setLinkShareTo=function(a){this.$1.link_share_to=a;return this};a.prototype.setReason=function(a){this.$1.reason=a;return this};a.prototype.setReferralSurface=function(a){this.$1.referral_surface=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setThreadID=function(a){this.$1.thread_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoCallLinkHash=function(a){this.$1.video_call_link_hash=a;return this};a.prototype.setVideoCallLinkIDRaw=function(a){this.$1.video_call_link_id_raw=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={client_app_version:!0,clienttime:!0,component:!0,conference_name:!0,device_id:!0,error_details:!0,error_type:!0,event:!0,group_size:!0,link_share_to:!0,reason:!0,referral_surface:!0,surface:!0,thread_id:!0,vc:!0,video_call_link_hash:!0,video_call_link_id_raw:!0};e.exports=a}),null);
__d("FBRTCMobileBrowserAppViewHeader.react",["cx","FlexLayout.react","Link.react","MessengerChatLinksFunnelLogger","React","RTCAppViewHeader.react","RTCCallControls.react","RTCCallControlsToggleFullScreenButton.react","RTCConferenceState","RTCLogo.react","RTCSlidingLogoContainer.react","VideoChatLinksLoggingComponent","VideoChatLinksLoggingEvent","VideoChatLinksLoggingSurface","VideoChatLinksUserActionsTypedLogger","XUIText.react","goURI","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i="https://play.google.com/store/apps/details?id=com.facebook.orca";c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.onLinkClick=function(){this.$1().setEvent(b("VideoChatLinksLoggingEvent").TAP).log(),b("goURI")(this.props.appstoreLink!==null&&this.props.appstoreLink!==undefined?this.props.appstoreLink:i)}.bind(this),c}a.prototype.componentDidMount=function(){this.$1().setEvent(b("VideoChatLinksLoggingEvent").IMPRESSION).log()};a.prototype.$1=function(){return new(b("VideoChatLinksUserActionsTypedLogger"))().setSurface(this.props.conferenceState===b("RTCConferenceState").TERMINATED?b("VideoChatLinksLoggingSurface").WWW_POSTCALL:b("VideoChatLinksLoggingSurface").WWW_INCALL).setComponent(b("VideoChatLinksLoggingComponent").MESSENGER_APP_STORE_LINK).setVideoCallLinkHash(this.props.linkHash)};a.prototype.render=function(){var a=this.props,c=a.isAudioCall;a=a.conferenceState;switch(a){case b("RTCConferenceState").TERMINATING:return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:c});case b("RTCConferenceState").TERMINATED:return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:c},b("React").createElement(b("Link.react"),{onClick:function(){b("MessengerChatLinksFunnelLogger").appendAction("click_app_download_in_call"),this.onLinkClick()}.bind(this),target:"_blank"},b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_6qxt"},b("React").createElement(b("RTCLogo.react"),{className:"_4key _6qy5",mode:"color"}),b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{className:"_6qxu",display:"block",size:"body2"},"Download Messenger"),b("React").createElement(b("XUIText.react"),{className:"_6qxv",color:"secondary",display:"block",size:"body2"},"Join this chat with the Messenger app")))));default:return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:c},b("React").createElement(b("RTCCallControls.react"),{autoHide:!0},b("React").createElement(b("RTCSlidingLogoContainer.react"),{onClick:this.onLinkClick}),b("React").createElement(b("RTCCallControlsToggleFullScreenButton.react"),{className:b("joinClasses")("semiopaque","_6tcw"),isP2P:!1})))}};e.exports=a}),null);
__d("FBRTCGroupCallFixedHeightGridViewUtils",["getViewportDimensions","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){this.users=[],this.numUnits=0}a=b("keyMirror")({PORTRAIT:null,LANDSCAPE:null});function h(a){return a.sort(function(a,b){return a.user.FBID.localeCompare(b.user.FBID)})}function i(a,b,c){c===void 0&&(c=0);var d=document.createElement("video");d.srcObject=a;d.onloadeddata=function(){d.videoHeight===d.videoWidth&&c<5?i(a,b,c+1):b(d.videoHeight,d.videoWidth)}}c={Orientations:a,FixedHeightGridRow:g,getVideoDimensions:i,videoIsDisabled:function(a){return a==null||typeof a.getVideoTracks!=="function"||a.getVideoTracks()==null||!((a=a.getVideoTracks())!=null?(a=a[0])!=null?a.enabled:a:a)},calculateUnitDimensions:function(a){var c=a.filter(function(a){return a.numUnits>0}).length;a=a[0].numUnits;var d=b("getViewportDimensions").withoutScrollbars(),e=d.width;d=d.height;d=d/c;c=d*3/4;c*a>e&&(c=e/a,d=c*4/3);return{unitHeight:d,unitWidth:c}},getWindowIsLandscape:function(){var a=b("getViewportDimensions").withoutScrollbars();return a.width>a.height},setUpGrid:function(a,b,c){__p&&__p();var d=[new g(),new g(),new g(),new g()];if(c){if(a.length===0&&(b.length===2||b.length===3)){d[0].users=b;d[0].numUnits=b.length;return d}if(a.length===1&&b.length===1){d[0].users.push(a[0]);d[0].users.push(b[0]);d[0].numUnits=3;return d}if(a.length<6){c=Math.ceil(a.length/2);d[0].users=a.slice(0,c);d[0].numUnits=c*2;d[1].users=a.slice(c);d[1].numUnits=(a.length-c)*2}else d[0].users=a.slice(0,3),d[0].numUnits=3*2,d[1].users=a.slice(3,6),d[1].numUnits=3*2,d[2].users=a.slice(6),d[2].numUnits=(a.length-6)*2;b.forEach(function(a,b){d[1].numUnits<d[0].numUnits?(d[1].users.push(a),d[1].numUnits+=1):d[0].numUnits<6||d[1].numUnits<6?b%2===0?(d[0].users.push(a),d[0].numUnits+=1):(d[1].users.push(a),d[1].numUnits+=1):(d[2].users.push(a),d[2].numUnits+=1)});return d}else if(a.length*2+b.length<=6){a.forEach(function(a,b){d[b].users.push(a),d[b].numUnits=2});c=a.length;for(var e=0;e<b.length;e+=2)d[c].users.push(b[e]),d[c].numUnits+=1,b[e+1]&&(d[c].users.push(b[e+1]),d[c].numUnits+=1,c++);return d}else{e=0;for(var c=0;c<a.length;c+=2)d[e].users.push(a[c]),d[e].numUnits+=2,a[c+1]&&(d[e].users.push(a[c+1]),d[e].numUnits+=2,e++);for(var c=0;c<b.length;c++)d[e].numUnits>=4&&e++,d[e].users.push(b[c]),d[e].numUnits+=1;return d}},sortRTCUserAndOrientation:h,arraysEqual:function(a,b){if(a.length!==b.length)return!1;a=h(a);for(var c=0;c<a.length;c++)if(a[c].user.FBID!==b[c].user.FBID)return!1;return!0}};e.exports=c}),null);
__d("RTCUIVideo.react",["cx","invariant","FBLogger","FBRTCUtils","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props;a.audioSinkID;a.stream;var c=a.className;a=babelHelpers.objectWithoutProperties(a,["audioSinkID","stream","className"]);return b("React").createElement("video",babelHelpers["extends"]({autoPlay:!0,className:b("joinClasses")("_1yvx",c),onContextMenu:function(a){return a.preventDefault()},ref:function(a){return this.$1=a}.bind(this)},a))};a.prototype.componentDidMount=function(){j(this.$1,this.props.stream),k(this.$1,this.props.audioSinkID)};a.prototype.componentDidUpdate=function(a){this.props.stream!==a.stream&&j(this.$1,this.props.stream),this.props.audioSinkID!==a.audioSinkID&&k(this.$1,this.props.audioSinkID)};function a(){i.apply(this,arguments)}a.defaultProps={muted:!1};function j(a,c){if(a==null||c==null)return;try{b("FBRTCUtils").attachMediaStream(a,c)}catch(a){b("FBLogger")("rtc_www_ui").catching(a)}}function k(a,c){if(!b("FBRTCUtils").supportsSetSink()||a==null||c==null||c==="")return;try{typeof a.setSinkId==="function"||h(0,undefined),a.setSinkId(c)}catch(a){b("FBLogger")("rtc_www_ui").catching(a)}}e.exports=a}),null);
__d("FBRTCGroupCallFixedHeightGridView.react",["cx","fbt","FBRTCGroupCallFixedHeightGridViewUtils","Image.react","React","RTCIncallAudio.react","RTCUIVideo.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBRTCGroupCallFixedHeightGridViewUtils").FixedHeightGridRow,k=b("FBRTCGroupCallFixedHeightGridViewUtils").Orientations,l=b("FBRTCGroupCallFixedHeightGridViewUtils").arraysEqual,m=b("FBRTCGroupCallFixedHeightGridViewUtils").calculateUnitDimensions,n=b("FBRTCGroupCallFixedHeightGridViewUtils").getVideoDimensions,o=b("FBRTCGroupCallFixedHeightGridViewUtils").getWindowIsLandscape,p=b("FBRTCGroupCallFixedHeightGridViewUtils").setUpGrid,q=b("FBRTCGroupCallFixedHeightGridViewUtils").sortRTCUserAndOrientation,r=b("FBRTCGroupCallFixedHeightGridViewUtils").videoIsDisabled,s=1500;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={fixedHeightGridRows:[new j(),new j(),new j()],isLandscape:!0,unitWidth:0,unitHeight:0},this.prevOrientations={landscapes:[],portraits:[],totalNumUnits:0},this.$2=function(){this.setState(function(a){var b=o();if(b!==a.isLandscape){var c=p(this.prevOrientations.landscapes,this.prevOrientations.portraits,b);return babelHelpers["extends"]({},m(c),{fixedHeightGridRows:c,isLandscape:b})}else return m(a.fixedHeightGridRows)}.bind(this))}.bind(this),b}a.prototype.componentDidMount=function(){this.$1(this.props.remoteUsers),this.detectOrientationInterval=setInterval(function(){this.$1(this.props.remoteUsers)}.bind(this),s),window.addEventListener("resize",this.$2)};a.prototype.componentWillUnmount=function(){clearInterval(this.detectOrientationInterval),window.removeEventListener("resize",this.$2)};a.prototype.$1=function(a){var b=[],c=[];a.forEach(function(d){var e=d.getStream();e===null||e===undefined||r(e)?(this.prevOrientations.landscapes.find(function(a){return a.user.FBID===d.FBID})?b.push({user:d,orientation:k.LANDSCAPE}):c.push({user:d,orientation:k.PORTRAIT}),this.$3(b,c,a)):n(e,function(e,f){f>e?b.push({user:d,orientation:k.LANDSCAPE}):c.push({user:d,orientation:k.PORTRAIT}),this.$3(b,c,a)}.bind(this))}.bind(this))};a.prototype.$3=function(a,b,c){if(a.length+b.length===c.size&&!(l(a,this.prevOrientations.landscapes)&&l(b,this.prevOrientations.portraits))){c=a.length*2+b.length;this.prevOrientations={landscapes:q(a),portraits:q(b),totalNumUnits:c};this.setState(function(c){c=p(a,b,c.isLandscape);return babelHelpers["extends"]({},m(c),{fixedHeightGridRows:c})})}};a.prototype.$4=function(a){var c=1;return a.map(function(a){var d={};a.orientation===k.LANDSCAPE?(d={gridColumnStart:c,gridColumnEnd:c+2},c+=2):c+=1;a=a.user;var e=a.getStream(),f=e!==undefined&&e!==null&&!a.areAllTracksMuted(e.getVideoTracks());return f?b("React").createElement("div",{key:a.FBID,style:babelHelpers["extends"]({},d,{overflow:"hidden"})},b("React").createElement(b("RTCUIVideo.react"),{className:"_6qk5",stream:e})):b("React").createElement("div",{className:"_2_gq",key:a.FBID,style:d},b("React").createElement(b("Image.react"),{className:"_2_gr",src:a.profilePictureUrl}),b("React").createElement(b("Image.react"),{alt:h._("Profile Picture"),className:"_2_gs",src:a.profilePictureUrl}),b("React").createElement("p",{className:"_5ka3"},h._("{name}'s camera is off",[h._param("name",a.userShortName)])),b("React").createElement(b("RTCIncallAudio.react"),{mediaStream:e}))})};a.prototype.$5=function(){var a=this.state.unitWidth,c=this.state.unitHeight,d={gridTemplateRows:c},e=[];this.state.fixedHeightGridRows.forEach(function(c,f){if(c.users.length===0)return;e.push(b("React").createElement("div",{className:"_6ppt",key:f,style:babelHelpers["extends"]({},d,{gridTemplateColumns:(a+"px ").repeat(c.numUnits),width:a*c.numUnits+"px"})},this.$4(c.users)))}.bind(this));return e};a.prototype.render=function(){return b("React").createElement("div",{className:"_6ots"+(this.props.hidden?" hide":"")},b("React").createElement("div",{className:"_6ppu"},this.$5()))};e.exports=a}),null);
__d("FBRTCGroupCallIncallVideo.react",["cx","fbt","Image.react","React","RTCIncallAudio.react","RTCIncallVideo.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){var c=a.displayNone;c=c===void 0?!1:c;var d=a.isAudioCall;d=d===void 0?!1:d;a=a.user;var e=a.getStream();return e&&!a.areAllTracksMuted(e.getVideoTracks())?b("React").createElement(b("RTCIncallVideo.react"),{className:"_5k9_"+(c?" none":""),mediaStream:e}):b("React").createElement("div",{className:"_5k9_"+(c?" none":"")+(d&&!b("RTWebClientFeatureGating").callUnification()?" hidden":"")},b("React").createElement("div",{className:"_2_gq"},b("React").createElement(b("Image.react"),{className:"_2_gr",src:a.profilePictureUrl}),b("React").createElement(b("Image.react"),{alt:h._("Photo de profil"),className:"_2_gs",src:a.profilePictureUrl}),b("React").createElement("p",{className:"_5ka3"},d?h._("{name}",[h._param("name",a.userName)]):h._("L\u2019appareil photo de {name} n\u2019est pas allum\u00e9e",[h._param("name",a.userShortName)])),b("React").createElement(b("RTCIncallAudio.react"),{mediaStream:e})))};e.exports=a}),null);
__d("RTCRemoteViewPopoverMenuButton.react",["cx","FBRTCGroupCallUserPopoverMenu.react","React","RTCSVGIcon.react","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=a.user;return b("React").createElement(b("FBRTCGroupCallUserPopoverMenu.react"),{user:a},b("React").createElement(b("ShimButton.react"),{className:"_1b12",onClick:h,role:"presentation"},b("React").createElement(b("RTCSVGIcon.react"),null,b("React").createElement("svg",{viewBox:"-10 -6 24 24"},b("React").createElement("path",{d:"M2.157 11.057c-1.013 0-1.843.83-1.843 1.843 0 1.014.83 1.843 1.843 1.843C3.17 14.743 4 13.913 4 12.9c0-1.014-.83-1.843-1.843-1.843zm0-1.843C3.17 9.214 4 8.384 4 7.37c0-1.012-.83-1.84-1.843-1.84S.314 6.357.314 7.37c0 1.015.83 1.844 1.843 1.844zm0-5.528C3.17 3.686 4 2.856 4 1.843 4 .83 3.17 0 2.157 0S.314.83.314 1.843s.83 1.843 1.843 1.843z"})))))};function h(a){a.stopPropagation()}e.exports=a}),null);
__d("FBRTCGroupCallIncallView.react",["cx","FBRTCConstants","FBRTCGroupCallFixedHeightGridView.react","FBRTCGroupCallFluidGridView.react","FBRTCGroupCallIncallVideo.react","FBRTCGroupCallStore","FluxContainer","React","RTCRemoteViewPopoverMenuButton.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").GroupVideoViewLayout,i=6;d=function(a){var c=a.dominantSpeakerFBID,d=a.isAudioCall,e=a.layout,f=a.pinnedSpeakerFBID,g=a.remoteUsers;switch(e){case h.DOMINANT_SPEAKER:a=g.find(function(a){return a.FBID===(f||c)});return a?b("React").createElement("div",{className:"_ncs"},b("React").createElement(b("FBRTCGroupCallIncallVideo.react"),{isAudioCall:d,user:a})):null;case h.GRID:return!d&&b("RTWebClientFeatureGating").fixedHeightGridView()?b("React").createElement(b("FBRTCGroupCallFixedHeightGridView.react"),{hidden:d,remoteUsers:g}):b("React").createElement(b("FBRTCGroupCallFluidGridView.react"),{hidden:b("RTWebClientFeatureGating").callUnification()?g.size<1:d,remoteUsers:g,renderUser:function(a){return b("React").createElement("div",{className:"_2rik"},b("React").createElement(b("FBRTCGroupCallIncallVideo.react"),{isAudioCall:d,user:a}),b("React").createElement("div",{className:g.size>1?"_2ril":null},b("React").createElement(b("RTCRemoteViewPopoverMenuButton.react"),{user:a})))}});default:return b("React").createElement("div",{className:"_ncs"},g.map(function(a,c){return b("React").createElement(b("FBRTCGroupCallIncallVideo.react"),{displayNone:c>=i,isAudioCall:d,key:a.FBID,user:a})}))}};function a(){return[b("FBRTCGroupCallStore")]}function c(a,c){a===void 0&&({});a=b("FBRTCGroupCallStore").getState();var d=a.dominantSpeakerFBID;a=a.pinnedSpeakerFBID;return babelHelpers["extends"]({dominantSpeakerFBID:d,pinnedSpeakerFBID:a},c)}e.exports=b("FluxContainer").createFunctional(d,a,c,{withProps:!0})}),null);
__d("RTCThreadInfo.react",["cx","CurrentUser","MercuryParticipantsConstants","MercuryParticipantsImage.react","MercuryThreadTitle.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","RTCCallTitle.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerProfileImageWrapperReact.bs").jsComponent,i=b("MessengerThreadImageReact.bs").jsComponent;a=function(a){var c=a.participants;a=a.thread;return a?b("React").createElement("div",{className:"_dzr"},b("React").createElement(i,{className:"_dzs",participants:c,size:100,thread:a,viewer:b("CurrentUser").getID()}),b("React").createElement(b("MercuryThreadTitle.react"),{className:"_dzt",thread:a,viewer:b("CurrentUser").getID()})):b("React").createElement("div",{className:"_dzr"},b("React").createElement(h,{className:"_4j_j",size:b("MercuryParticipantsConstants").BIG_IMAGE_SIZE,showBadge:!1},b("React").createElement(b("MercuryParticipantsImage.react"),{participants:Object.keys(c.toJS()),size:b("MercuryParticipantsConstants").BIG_IMAGE_SIZE})),b("React").createElement(b("RTCCallTitle.react"),{className:"_dzt",participants:c,viewer:b("CurrentUser").getID()}))};e.exports=a}),null);
__d("RTCMWAppViewContent.react",["cx","fbt","CurrentUser","FBRTCGroupCallIncallView.react","FBRTCGroupCallStore","FBRTCLogger","FBRTCParticipantCallState","MessengerRTCGroupCallParticipantsPickerDialogController","React","RTCAppViewMain.react","RTCCallConnectionStatus.react","RTCCallState","RTCCallStateInfo.react","RTCConferenceState","RTCGroupCallEscalationStore","RTCGroupCallStateInfo.react","RTCRingBackTone.react","RTCStarRating.react","RTCTextButton.react","RTCThreadInfo.react","RTCUtils","VideoCallWebDriverIDs","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBRTCLogger").Trigger;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={wasStarRatingDone:!1},this.$3=function(){this.setState({wasStarRatingDone:!0})}.bind(this),b}a.prototype.render=function(){__p&&__p();var a,c=this.props,d=c.endCallReason,e=c.remoteUsers;c=babelHelpers.objectWithoutProperties(c,["endCallReason","remoteUsers"]);switch(this.props.conferenceState){case b("RTCConferenceState").AWAITING_USER_START:var f=h._("Rejoindre l\u2019appel"),g=(a=this.props)!=null?(a=a.thread)!=null?(a=a.rtc_call_data)!=null?a.server_info_data:a:a:a,i=(a=this.props)!=null?(a=a.thread)!=null?(a=a.rtc_call_data)!=null?a.call_state:a:a:a;i&&i===b("RTCCallState").NO_ONGOING_CALL&&(f=h._("D\u00e9marrer l\u2019appel"));return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("React").createElement(b("RTCThreadInfo.react"),{participants:this.props.participants,thread:this.props.thread}),b("React").createElement(b("RTCCallConnectionStatus.react"),null,h._("Pr\u00eat(e) \u00e0 appeler\u00a0?")),b("React").createElement(b("RTCTextButton.react"),{className:"green _2fst","data-testid":b("VideoCallWebDriverIDs").RTC_APP_VIEW_START_CALL_BUTTON,label:f,onClick:function(){return this.$1(i,g)}.bind(this)})));case b("RTCConferenceState").NEW:case b("RTCConferenceState").CONNECTING:case b("RTCConferenceState").CONNECTED:case b("RTCConferenceState").TERMINATING:a=e.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED});return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},b("React").createElement(b("FBRTCGroupCallIncallView.react"),babelHelpers["extends"]({remoteUsers:a},c)),this.props.conferenceState===b("RTCConferenceState").CONNECTING?b("React").createElement(b("RTCRingBackTone.react"),{active:!0}):null,this.$2());case b("RTCConferenceState").TERMINATED:if(this.props.wasConnected&&!b("RTCUtils").isBonfireCall(this.props.conferenceName)&&!this.state.wasStarRatingDone)return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},b("React").createElement(b("RTCStarRating.react"),{isAudioCall:!b("FBRTCGroupCallStore").hadVideoDuration(),isGroupCall:!0,onDone:this.$3}));else return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},this.$2(d?d.toString():null));default:return null}};a.prototype.$2=function(a){var c=b("RTCGroupCallEscalationStore").getState();c=c.p2pCallSummary;c=c?c.getConnectedStartTime():0;return b("React").createElement(b("RTCGroupCallStateInfo.react"),babelHelpers["extends"]({callMessage:a,initialStartTime:c},this.props))};a.prototype.$1=function(a,c){a=a!==b("RTCCallState").NO_ONGOING_CALL;a?this.props.onStartCallClick(this.props.remoteUsers.toArray().map(function(a){return a.FBID}),j.MULTIWAY_POPUP_START_CALL_BUTTON):b("MessengerRTCGroupCallParticipantsPickerDialogController").render({conferenceName:this.props.conferenceName,handleCall:function(a){return this.props.onStartCallClick(a,j.MULTIWAY_POPUP_START_CALL_BUTTON,c)}.bind(this),hasVideo:!0,participants:this.props.participants.filter(function(a){a=a.fbid;return a!==b("CurrentUser").getID()}),thread:this.props.thread,trigger:j.MULTIWAY_POPUP_START_CALL_BUTTON,viewerID:b("CurrentUser").getID()})};e.exports=a}),null);
__d("RTCGroupCallRemoteViewThumbnail.react",["cx","FBRTCVideo.react","Image.react","React","RTCRemoteViewPopoverMenuButton.react","RTCSVGIcon.react","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.isDominantSpeaker,d=a.isPinnedSpeaker,e=a.onClick;a=a.user;return b("React").createElement("div",{className:"_30dp"+(c?" dominant":""),"data-testid":b("VideoCallWebDriverIDs").REMOTE_VIEW_THUMBNAIL+a.FBID,onClick:e},b("React").createElement("div",{className:"_30dq"},b("React").createElement(b("RTCRemoteViewPopoverMenuButton.react"),{user:a})),d?b("React").createElement("div",null,b("React").createElement(b("RTCSVGIcon.react"),{className:"_5-vf"},b("React").createElement("svg",{viewBox:"0 0 36 36"},b("React").createElement("path",{d:"M0 0h32a4 4 0 0 1 4 4v32"}))),b("React").createElement(b("RTCSVGIcon.react"),{className:"_5-vg"},b("React").createElement("svg",{viewBox:"0 0 19 19"},b("React").createElement("path",{d:"M2.5 6.65h13a1 1 0 0 1 1 1v9.637a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V7.65a1 1 0 0 1 1-1M9.192 0h.616a4 4 0 0 1 4 4v.313a4 4 0 0 1-.754 2.337H5.946a4 4 0 0 1-.754-2.337V4a4 4 0 0 1 4-4m0 1h.616a3 3 0 0 1 3 3v.313a3 3 0 0 1-1.12 2.337H7.312a3 3 0 0 1-1.12-2.337V4a3 3 0 0 1 3-3",fillRule:"evenodd"})))):null,c||a.isVideoMuted()?b("React").createElement(b("Image.react"),{src:a.profilePictureUrl}):b("React").createElement(b("FBRTCVideo.react"),{mediaStream:a.getStream()}))};e.exports=a}),null);
__d("RTCGroupCallRemoteView.react",["cx","FBRTCGroupCallStore","FluxContainer","React","RTCGroupCallActions","RTCGroupCallDraggableComponent.react","RTCGroupCallRemoteViewThumbnail.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();d=function(a){var c=a.dominantSpeakerFBID,d=a.pinnedSpeakerFBID;a=a.remoteUsers;return b("React").createElement(b("RTCGroupCallDraggableComponent.react"),{className:"_1qwn"},a.map(function(a){return b("React").createElement(b("RTCGroupCallRemoteViewThumbnail.react"),{isDominantSpeaker:a.FBID===(d||c),isPinnedSpeaker:a.FBID===d,key:a.FBID,onClick:function(){a.FBID===d?b("RTCGroupCallActions").setPinnedSpeaker(null):b("RTCGroupCallActions").setPinnedSpeaker(a.FBID)},user:a})}))};function a(){return[b("FBRTCGroupCallStore")]}function c(a,c){a===void 0&&({});a=b("FBRTCGroupCallStore").getState();var d=a.dominantSpeakerFBID;a=a.pinnedSpeakerFBID;return babelHelpers["extends"]({dominantSpeakerFBID:d,pinnedSpeakerFBID:a},c)}e.exports=b("FluxContainer").createFunctional(d,a,c,{withProps:!0})}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("performance-now-0.2.0",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){__p&&__p();(function(){var a,b,c;typeof performance!=="undefined"&&performance!==null&&performance.now?g.exports=function(){return performance.now()}:typeof process!=="undefined"&&process!==null&&process.hrtime?(g.exports=function(){return(a()-c)/1e6},b=process.hrtime,a=function(){var a;a=b();return a[0]*1e9+a[1]},c=a()):Date.now?(g.exports=function(){return Date.now()-c},c=Date.now()):(g.exports=function(){return new Date().getTime()-c},c=new Date().getTime())}).call(this)}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case undefined:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("prop-types-15.6.0",["fbjs-0.8.16","object-assign-4.1.1"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("fbjs-0.8.16"));a(b("object-assign-4.1.1"));c={};var h={exports:c};function i(){var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";h.exports=a}var j=!1,k=function(){j||(j=!0,i());return h.exports};d={};var l={exports:d};function m(){__p&&__p();var a=g("/lib/emptyFunction"),b=g("/lib/invariant"),c=k();l.exports=function(){__p&&__p();function d(a,d,e,f,g,h){if(h===c)return;b(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}d.isRequired=d;function e(){return d}e={array:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:e,element:d,instanceOf:e,node:d,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};e.checkPropTypes=a;e.PropTypes=e;return e}}var n=!1,o=function(){n||(n=!0,m());return l.exports};f={};var p={exports:f};function q(){p.exports=o()()}var r=!1,s=function(){r||(r=!0,q());return p.exports};a=function(a){switch(a){case undefined:return s()}};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("performance-now-2.1.0",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){__p&&__p();(function(){var a,b,c,d,e,f;typeof performance!=="undefined"&&performance!==null&&performance.now?g.exports=function(){return performance.now()}:typeof process!=="undefined"&&process!==null&&process.hrtime?(g.exports=function(){return(a()-e)/1e6},b=process.hrtime,a=function(){var a;a=b();return a[0]*1e9+a[1]},d=a(),f=process.uptime()*1e9,e=d-f):Date.now?(g.exports=function(){return Date.now()-c},c=Date.now()):(g.exports=function(){return new Date().getTime()-c},c=new Date().getTime())}).call(this)}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case undefined:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("raf-3.4.0",["performance-now-2.1.0"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function c(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c(b("performance-now-2.1.0"));d={};var h={exports:d};function i(){__p&&__p();var b=g(),c=typeof window==="undefined"?a:window,d=["moz","webkit"],e="AnimationFrame",f=c["request"+e],i=c["cancel"+e]||c["cancelRequest"+e];for(var j=0;!f&&j<d.length;j++)f=c[d[j]+"Request"+e],i=c[d[j]+"Cancel"+e]||c[d[j]+"CancelRequest"+e];if(!f||!i){var k=0,l=0,m=[],n=1e3/60;f=function(a){__p&&__p();if(m.length===0){var c=b(),d=Math.max(0,n-(c-k));k=d+c;setTimeout(function(){var b=m.slice(0);m.length=0;for(var a=0;a<b.length;a++)if(!b[a].cancelled)try{b[a].callback(k)}catch(a){setTimeout(function(){throw a},0)}},Math.round(d))}m.push({handle:++l,callback:a,cancelled:!1});return l};i=function(b){for(var a=0;a<m.length;a++)m[a].handle===b&&(m[a].cancelled=!0)}}h.exports=function(a){return f.call(c,a)};h.exports.cancel=function(){i.apply(c,arguments)};h.exports.polyfill=function(a){a||(a=c),a.requestAnimationFrame=f,a.cancelAnimationFrame=i}}var j=!1,k=function(){j||(j=!0,i());return h.exports};f=function(a){switch(a){case undefined:return k()}};e.exports=f}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("react-motion-0.5.2",["performance-now-0.2.0","raf-3.4.0","react-0.0.0","prop-types-15.6.0"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("performance-now-0.2.0")),h=a(b("raf-3.4.0")),i=a(b("react-0.0.0")),j=a(b("prop-types-15.6.0")),k={},l={exports:k};function m(){k.__esModule=!0;k["default"]=a;function a(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=0);return b}l.exports=k["default"]}var n=!1,o=function(){n||(n=!0,m());return l.exports},p={},q={exports:p};function r(){__p&&__p();p.__esModule=!0;p["default"]=a;function a(a){var b={};for(var c in a){if(!Object.prototype.hasOwnProperty.call(a,c))continue;b[c]=typeof a[c]==="number"?a[c]:a[c].val}return b}q.exports=p["default"]}var s=!1,t=function(){s||(s=!0,r());return q.exports},u={},v={exports:u};function w(){__p&&__p();u.__esModule=!0;u["default"]=b;var a=[0,0];function b(b,c,d,e,f,g,h){__p&&__p();f=-f*(c-e);g=-g*d;f=f+g;g=d+f*b;d=c+g*b;if(Math.abs(g)<h&&Math.abs(d-e)<h){a[0]=e;a[1]=0;return a}a[0]=d;a[1]=g;return a}v.exports=u["default"]}var x=!1,y=function(){x||(x=!0,w());return v.exports},z={},A={exports:z};function aa(){__p&&__p();z.__esModule=!0;z["default"]=a;function a(a,b,c){__p&&__p();for(var d in b){if(!Object.prototype.hasOwnProperty.call(b,d))continue;if(c[d]!==0)return!1;var e=typeof b[d]==="number"?b[d]:b[d].val;if(a[d]!==e)return!1}return!0}A.exports=z["default"]}var B=!1,C=function(){B||(B=!0,aa());return A.exports},D={},E={exports:D};function ba(){__p&&__p();D.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=g();var n=c(f);f=h();var p=c(f);f=C();var q=c(f);f=i();var r=c(f);f=j();var s=c(f),u=1e3/60;c=function(c){__p&&__p();e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyle:s["default"].objectOf(s["default"].number),style:s["default"].objectOf(s["default"].oneOfType([s["default"].number,s["default"].object])).isRequired,children:s["default"].func.isRequired,onRest:s["default"].func},enumerable:!0}]);function f(b){__p&&__p();var e=this;d(this,f);c.call(this,b);this.wasAnimating=!1;this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyle=null;this.clearUnreadPropStyle=function(b){var c=!1,d=e.state,f=d.currentStyle,g=d.currentVelocity,h=d.lastIdealStyle;d=d.lastIdealVelocity;for(var i in b){if(!Object.prototype.hasOwnProperty.call(b,i))continue;var j=b[i];typeof j==="number"&&(c||(c=!0,f=a({},f),g=a({},g),h=a({},h),d=a({},d)),f[i]=j,g[i]=0,h[i]=j,d[i]=0)}c&&e.setState({currentStyle:f,currentVelocity:g,lastIdealStyle:h,lastIdealVelocity:d})};this.startAnimationIfNecessary=function(){__p&&__p();e.animationID=p["default"](function(a){__p&&__p();var b=e.props.style;if(q["default"](e.state.currentStyle,b,e.state.currentVelocity)){e.wasAnimating&&e.props.onRest&&e.props.onRest();e.animationID=null;e.wasAnimating=!1;e.accumulatedTime=0;return}e.wasAnimating=!0;a=a||n["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>u*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/u)*u)/u;c=Math.floor(e.accumulatedTime/u);var d={},f={},g={},h={};for(var i in b){if(!Object.prototype.hasOwnProperty.call(b,i))continue;var j=b[i];if(typeof j==="number")g[i]=j,h[i]=0,d[i]=j,f[i]=0;else{var k=e.state.lastIdealStyle[i],l=e.state.lastIdealVelocity[i];for(var o=0;o<c;o++){var p=m["default"](u/1e3,k,l,j.val,j.stiffness,j.damping,j.precision);k=p[0];l=p[1]}p=m["default"](u/1e3,k,l,j.val,j.stiffness,j.damping,j.precision);o=p[0];j=p[1];g[i]=k+(o-k)*a;h[i]=l+(j-l)*a;d[i]=k;f[i]=l}}e.animationID=null;e.accumulatedTime-=c*u;e.unreadPropStyle=null;e.startAnimationIfNecessary();e.setState({currentStyle:g,currentVelocity:h,lastIdealStyle:d,lastIdealVelocity:f})})};this.state=this.defaultState()}f.prototype.defaultState=function(){var a=this.props,b=a.defaultStyle;a=a.style;b=b||l["default"](a);a=k["default"](b);return{currentStyle:b,currentVelocity:a,lastIdealStyle:b,lastIdealVelocity:a}};f.prototype.componentDidMount=function(){this.prevTime=n["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyle!=null&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=a.style,this.animationID==null&&(this.prevTime=n["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.animationID!=null&&(p["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=this.props.children(this.state.currentStyle);return a&&r["default"].Children.only(a)};return f}(r["default"].Component);D["default"]=c;E.exports=D["default"]}var F=!1,ca=function(){F||(F=!0,ba());return E.exports},G={},H={exports:G};function da(){__p&&__p();G.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=g();var n=c(f);f=h();var p=c(f);f=C();var q=c(f);f=i();var r=c(f);f=j();var s=c(f),u=1e3/60;function v(a,b,c){for(var d=0;d<a.length;d++)if(!q["default"](a[d],b[d],c[d]))return!1;return!0}c=function(c){__p&&__p();e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyles:s["default"].arrayOf(s["default"].objectOf(s["default"].number)),styles:s["default"].func.isRequired,children:s["default"].func.isRequired},enumerable:!0}]);function f(b){__p&&__p();var e=this;d(this,f);c.call(this,b);this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyles=null;this.clearUnreadPropStyle=function(b){__p&&__p();var c=e.state,d=c.currentStyles,f=c.currentVelocities,g=c.lastIdealStyles;c=c.lastIdealVelocities;var h=!1;for(var i=0;i<b.length;i++){var j=b[i],k=!1;for(var l in j){if(!Object.prototype.hasOwnProperty.call(j,l))continue;var m=j[l];typeof m==="number"&&(k||(k=!0,h=!0,d[i]=a({},d[i]),f[i]=a({},f[i]),g[i]=a({},g[i]),c[i]=a({},c[i])),d[i][l]=m,f[i][l]=0,g[i][l]=m,c[i][l]=0)}}h&&e.setState({currentStyles:d,currentVelocities:f,lastIdealStyles:g,lastIdealVelocities:c})};this.startAnimationIfNecessary=function(){__p&&__p();e.animationID=p["default"](function(a){__p&&__p();var b=e.props.styles(e.state.lastIdealStyles);if(v(e.state.currentStyles,b,e.state.currentVelocities)){e.animationID=null;e.accumulatedTime=0;return}a=a||n["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>u*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/u)*u)/u;c=Math.floor(e.accumulatedTime/u);var d=[],f=[],g=[],h=[];for(var i=0;i<b.length;i++){var j=b[i],k={},l={},o={},p={};for(var q in j){if(!Object.prototype.hasOwnProperty.call(j,q))continue;var r=j[q];if(typeof r==="number")k[q]=r,l[q]=0,o[q]=r,p[q]=0;else{var s=e.state.lastIdealStyles[i][q],t=e.state.lastIdealVelocities[i][q];for(var w=0;w<c;w++){var x=m["default"](u/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);s=x[0];t=x[1]}x=m["default"](u/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);w=x[0];r=x[1];k[q]=s+(w-s)*a;l[q]=t+(r-t)*a;o[q]=s;p[q]=t}}g[i]=k;h[i]=l;d[i]=o;f[i]=p}e.animationID=null;e.accumulatedTime-=c*u;e.unreadPropStyles=null;e.startAnimationIfNecessary();e.setState({currentStyles:g,currentVelocities:h,lastIdealStyles:d,lastIdealVelocities:f})})};this.state=this.defaultState()}f.prototype.defaultState=function(){var a=this.props,b=a.defaultStyles;a=a.styles;b=b||a().map(l["default"]);a=b.map(function(a){return k["default"](a)});return{currentStyles:b,currentVelocities:a,lastIdealStyles:b,lastIdealVelocities:a}};f.prototype.componentDidMount=function(){this.prevTime=n["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyles!=null&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=a.styles(this.state.lastIdealStyles),this.animationID==null&&(this.prevTime=n["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.animationID!=null&&(p["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=this.props.children(this.state.currentStyles);return a&&r["default"].Children.only(a)};return f}(r["default"].Component);G["default"]=c;H.exports=G["default"]}var I=!1,ea=function(){I||(I=!0,da());return H.exports},J={},K={exports:J};function fa(){__p&&__p();J.__esModule=!0;J["default"]=a;function a(a,b,c){__p&&__p();var d={};for(var e=0;e<a.length;e++)d[a[e].key]=e;var f={};for(var e=0;e<b.length;e++)f[b[e].key]=e;var g=[];for(var e=0;e<b.length;e++)g[e]=b[e];for(var e=0;e<a.length;e++)if(!Object.prototype.hasOwnProperty.call(f,a[e].key)){var h=c(e,a[e]);h!=null&&g.push(h)}return g.sort(function(a,c){__p&&__p();var e=f[a.key],g=f[c.key],h=d[a.key],i=d[c.key];if(e!=null&&g!=null)return f[a.key]-f[c.key];else if(h!=null&&i!=null)return d[a.key]-d[c.key];else if(e!=null){for(var a=0;a<b.length;a++){c=b[a].key;if(!Object.prototype.hasOwnProperty.call(d,c))continue;if(e<f[c]&&i>d[c])return-1;else if(e>f[c]&&i<d[c])return 1}return 1}for(var a=0;a<b.length;a++){c=b[a].key;if(!Object.prototype.hasOwnProperty.call(d,c))continue;if(g<f[c]&&h>d[c])return 1;else if(g>f[c]&&h<d[c])return-1}return-1})}K.exports=J["default"]}var L=!1,ga=function(){L||(L=!0,fa());return K.exports},M={},N={exports:M};function ha(){__p&&__p();M.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=ga();var n=c(f);f=g();var p=c(f);f=h();var q=c(f);f=C();var r=c(f);f=i();var s=c(f);f=j();var u=c(f),v=1e3/60;function w(a,b,c){var d=b;return d==null?a.map(function(a,b){return{key:a.key,data:a.data,style:c[b]}}):a.map(function(a,b){for(var e=0;e<d.length;e++)if(d[e].key===a.key)return{key:d[e].key,data:d[e].data,style:c[b]};return{key:a.key,data:a.data,style:c[b]}})}function x(a,b,c,d){if(d.length!==b.length)return!1;for(var e=0;e<d.length;e++)if(d[e].key!==b[e].key)return!1;for(var e=0;e<d.length;e++)if(!r["default"](a[e],b[e].style,c[e]))return!1;return!0}function z(a,b,c,d,e,f,g,h,i){__p&&__p();e=n["default"](d,e,function(a,d){__p&&__p();var e=b(d);if(e==null){c({key:d.key,data:d.data});return null}if(r["default"](f[a],e,g[a])){c({key:d.key,data:d.data});return null}return{key:d.key,data:d.data,style:e}});var j=[],l=[],m=[],o=[];for(var p=0;p<e.length;p++){var q=e[p],s=null;for(var t=0;t<d.length;t++)if(d[t].key===q.key){s=t;break}if(s==null){t=a(q);j[p]=t;m[p]=t;t=k["default"](q.style);l[p]=t;o[p]=t}else j[p]=f[s],m[p]=h[s],l[p]=g[s],o[p]=i[s]}return[e,j,l,m,o]}c=function(c){__p&&__p();e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyles:u["default"].arrayOf(u["default"].shape({key:u["default"].string.isRequired,data:u["default"].any,style:u["default"].objectOf(u["default"].number).isRequired})),styles:u["default"].oneOfType([u["default"].func,u["default"].arrayOf(u["default"].shape({key:u["default"].string.isRequired,data:u["default"].any,style:u["default"].objectOf(u["default"].oneOfType([u["default"].number,u["default"].object])).isRequired}))]).isRequired,children:u["default"].func.isRequired,willEnter:u["default"].func,willLeave:u["default"].func,didLeave:u["default"].func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(a){return l["default"](a.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]);function f(b){__p&&__p();var e=this;d(this,f);c.call(this,b);this.unmounting=!1;this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyles=null;this.clearUnreadPropStyle=function(b){__p&&__p();var c=z(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,b,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities),d=c[0],f=c[1],g=c[2],h=c[3];c=c[4];for(var i=0;i<b.length;i++){var j=b[i].style,k=!1;for(var l in j){if(!Object.prototype.hasOwnProperty.call(j,l))continue;var m=j[l];typeof m==="number"&&(k||(k=!0,f[i]=a({},f[i]),g[i]=a({},g[i]),h[i]=a({},h[i]),c[i]=a({},c[i]),d[i]={key:d[i].key,data:d[i].data,style:a({},d[i].style)}),f[i][l]=m,g[i][l]=0,h[i][l]=m,c[i][l]=0,d[i].style[l]=m)}}e.setState({currentStyles:f,currentVelocities:g,mergedPropsStyles:d,lastIdealStyles:h,lastIdealVelocities:c})};this.startAnimationIfNecessary=function(){__p&&__p();if(e.unmounting)return;e.animationID=q["default"](function(a){__p&&__p();if(e.unmounting)return;var b=e.props.styles;b=typeof b==="function"?b(w(e.state.mergedPropsStyles,e.unreadPropStyles,e.state.lastIdealStyles)):b;if(x(e.state.currentStyles,b,e.state.currentVelocities,e.state.mergedPropsStyles)){e.animationID=null;e.accumulatedTime=0;return}a=a||p["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>v*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/v)*v)/v;c=Math.floor(e.accumulatedTime/v);b=z(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,b,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities);var d=b[0],f=b[1],g=b[2],h=b[3];b=b[4];for(var i=0;i<d.length;i++){var j=d[i].style,k={},l={},n={},o={};for(var q in j){if(!Object.prototype.hasOwnProperty.call(j,q))continue;var r=j[q];if(typeof r==="number")k[q]=r,l[q]=0,n[q]=r,o[q]=0;else{var s=h[i][q],t=b[i][q];for(var u=0;u<c;u++){var y=m["default"](v/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);s=y[0];t=y[1]}y=m["default"](v/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);u=y[0];r=y[1];k[q]=s+(u-s)*a;l[q]=t+(r-t)*a;n[q]=s;o[q]=t}}h[i]=n;b[i]=o;f[i]=k;g[i]=l}e.animationID=null;e.accumulatedTime-=c*v;e.unreadPropStyles=null;e.startAnimationIfNecessary();e.setState({currentStyles:f,currentVelocities:g,lastIdealStyles:h,lastIdealVelocities:b,mergedPropsStyles:d})})};this.state=this.defaultState()}f.prototype.defaultState=function(){__p&&__p();var a=this.props,b=a.defaultStyles,c=a.styles,d=a.willEnter,e=a.willLeave;a=a.didLeave;var f=typeof c==="function"?c(b):c;c=undefined;b==null?c=f:c=b.map(function(a){for(var b=0;b<f.length;b++)if(f[b].key===a.key)return f[b];return a});var g=b==null?f.map(function(a){return l["default"](a.style)}):b.map(function(a){return l["default"](a.style)});b=b==null?f.map(function(a){return k["default"](a.style)}):b.map(function(a){return k["default"](a.style)});d=z(d,e,a,c,f,g,b,g,b);e=d[0];a=d[1];c=d[2];g=d[3];b=d[4];return{currentStyles:a,currentVelocities:c,lastIdealStyles:g,lastIdealVelocities:b,mergedPropsStyles:e}};f.prototype.componentDidMount=function(){this.prevTime=p["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);a=a.styles;typeof a==="function"?this.unreadPropStyles=a(w(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=a;this.animationID==null&&(this.prevTime=p["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.unmounting=!0,this.animationID!=null&&(q["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=w(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles);a=this.props.children(a);return a&&s["default"].Children.only(a)};return f}(s["default"].Component);M["default"]=c;N.exports=M["default"]}var O=!1,ia=function(){O||(O=!0,ha());return N.exports},P={},Q={exports:P};function ja(){P.__esModule=!0,P["default"]={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},Q.exports=P["default"]}var R=!1,S=function(){R||(R=!0,ja());return Q.exports},T={},U={exports:T};function ka(){__p&&__p();T.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};T["default"]=d;function b(a){return a&&a.__esModule?a:{"default":a}}d=S();b=b(d);var c=a({},b["default"].noWobble,{precision:.01});function d(b,d){return a({},c,d,{val:b})}U.exports=T["default"]}var V=!1,la=function(){V||(V=!0,ka());return U.exports},W={},X={exports:W};function ma(){W.__esModule=!0;W["default"]=a;function a(){}X.exports=W["default"]}var Y=!1,na=function(){Y||(Y=!0,ma());return X.exports},Z={},oa={exports:Z};function pa(){__p&&__p();Z.__esModule=!0;function a(a){return a&&a.__esModule?a["default"]:a}var b=ca();Z.Motion=a(b);b=ea();Z.StaggeredMotion=a(b);b=ia();Z.TransitionMotion=a(b);b=la();Z.spring=a(b);b=S();Z.presets=a(b);b=t();Z.stripStyle=a(b);b=na();Z.reorderKeys=a(b)}var $=!1,qa=function(){$||($=!0,pa());return oa.exports};c=function(a){switch(a){case undefined:return qa()}};e.exports=c}),null);
__d("RTCMWAppViewFooter.react",["cx","Promise","CollabRTCChromeScreenSharingExtension","FBRTCConstants","FBRTCHangupReason","FBRTCParticipantCallState","FBRTCScreenSharingUtils","React","RTCAppViewFooter.react","RTCCallControls.react","RTCCallControlsAddGroupMembersButton.react","RTCCallControlsCloseWindowButton.react","RTCCallControlsEndCallButton.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleScreenSharingWithFunnelButton.react","RTCCallControlsToggleVideoButton.react","RTCCallControlsVideoEscalationButton.react","RTCChromeScreenSharingUtils","RTCConferenceState","RTCGroupCallRemoteView.react","RTCMWProtocolHandler","RTCSelfView.react","RTWebClientFeatureGating","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBRTCConstants").GroupVideoViewLayout,j=b("RTCChromeScreenSharingUtils").getMediaRequestSourceAppId;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=0,this.$2=0,this.$3=0,this.$5=0,this.$6=null,this.$9=function(){b("RTCMWProtocolHandler").endCall(this.props.conferenceName,this.props.serverInfoData,b("FBRTCHangupReason").HANGUP_CALL)}.bind(this),this.$7=function(a){a=a.width;if(this.$1===a)return;this.$1=a;this.$12()}.bind(this),this.$8=function(a){a=a.width;if(this.$3===a)return;this.$3=a;this.$12()}.bind(this),this.$10=function(a){a=a.width;if(this.$2===a)return;this.$2=a;this.$12()}.bind(this),c}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.hasVideoInput,d=a.isAudioCall,e=a.layout;a=a.localUser;e=e===i.DOMINANT_SPEAKER;switch(this.props.conferenceState){case b("RTCConferenceState").CONNECTING:case b("RTCConferenceState").CONNECTED:var f=a&&a.getScreenStream(),g=a.isGuestUser?null:b("React").createElement(b("RTCCallControlsAddGroupMembersButton.react"),{className:e?"addMember":"",conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,isP2P:!1,localUser:a,participants:this.props.participants,remoteUsers:this.props.remoteUsers,thread:this.props.thread}),h=(!d||b("RTWebClientFeatureGating").callUnification())&&e;return b("React").createElement(b("RTCAppViewFooter.react"),{onResize:this.$7},b("React").createElement(b("RTCCallControls.react"),{autoHide:!d,className:"_5rdt"+(h?" video":""),onResize:this.$8,ref:function(a){return this.$4=a?a.getDOMNode():a}.bind(this)},a.hasLiveVideoTracks()?b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:this.props.conferenceState,disabled:!!f,initializeVideo:!0,isP2P:!1,videoMuted:a.isVideoMuted()}):b("React").createElement(b("RTCCallControlsVideoEscalationButton.react"),{disabled:!c,onClick:function(){return b("RTCMWProtocolHandler").escalateLocalStream()}}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:a.isAudioMuted(),conferenceState:this.props.conferenceState,isP2P:!1}),b("FBRTCScreenSharingUtils").isGroupCallScreenSharingSupported()?b("React").createElement(b("RTCCallControlsToggleScreenSharingWithFunnelButton.react"),{conferenceState:this.props.conferenceState,disabled:!a.hasScreenStream()&&(d||a.isVideoMuted()),isP2P:!1,onExtensionInstallStart:function(){return b("UserAgent").isBrowser("Chrome")?b("CollabRTCChromeScreenSharingExtension").install(j()):b("Promise").reject("unexpected browser")},onShareStarted:b("RTCMWProtocolHandler").startScreenStream,onShareStop:b("RTCMWProtocolHandler").stopScreenStream,onShareStreamUpdate:b("RTCMWProtocolHandler").updateScreenStream,stream:f}):null,e?null:g,b("React").createElement(b("RTCCallControlsEndCallButton.react"),{conferenceState:this.props.conferenceState,isP2P:!1,onClick:this.$9})),e?g:null,h?b("React").createElement(b("RTCGroupCallRemoteView.react"),{remoteUsers:this.props.remoteUsers.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED})}):null,b("React").createElement(b("RTCSelfView.react"),{className:"_3kqh"+(h?" video":""),hideCameraViewWhenScreenSharing:!0,isAudioCall:d,isDominantSpeaker:e,isP2P:!1,onResize:this.$10,onScreenSharingStop:b("RTCMWProtocolHandler").stopScreenStream,user:a}));case b("RTCConferenceState").TERMINATING:return b("React").createElement(b("RTCAppViewFooter.react"),{onResize:this.$7},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_5rdt",onResize:this.$8,ref:function(a){return this.$4=a?a.getDOMNode():a}.bind(this)},b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:this.props.conferenceState,disabled:!0,initializeVideo:!0,isP2P:!1,videoMuted:!0}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:!0,conferenceState:this.props.conferenceState,disabled:!0,isP2P:!1}),b("React").createElement(b("RTCCallControlsEndCallButton.react"),{conferenceState:this.props.conferenceState,disabled:!0,isP2P:!1})));case b("RTCConferenceState").TERMINATED:return b("React").createElement(b("RTCAppViewFooter.react"),{onResize:this.$7},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_5rdt",onResize:this.$8,ref:function(a){return this.$4=a?a.getDOMNode():a}.bind(this)},this.$11()?null:b("React").createElement(b("RTCCallControlsCloseWindowButton.react"),null)));default:return b("React").createElement(b("RTCAppViewFooter.react"),null)}};a.prototype.$12=function(){__p&&__p();if(this.$1===0||this.$3===0)return;var a=Math.min(0,this.$1/2-(this.$3/2+this.$2));if(a===this.$5)return;this.$5=a;if(this.$4){var b=this.$4.style;b.transition="none";this.$6=requestAnimationFrame(function(){b.transform="translateX("+this.$5+"px)",b.transition=""}.bind(this))}};a.prototype.$11=function(){return!window.opener};a.prototype.componentWillUnmount=function(){cancelAnimationFrame(this.$6)};e.exports=a}),null);
__d("RTCUIDominantSpeakerLayoutIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1="",this.$2=function(a){a&&(this.$1=a.getURL(),this.forceUpdate())}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.shadow;a=babelHelpers.objectWithoutProperties(a,["shadow"]);return c?b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement("defs",null,b("React").createElement(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})),b("React").createElement("g",{filter:this.$1},b("React").createElement(h,null)))):b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement(h,null)))};a.defaultProps={shadow:!1};var h=function(){return b("React").createElement("path",{d:"M16.5 14.5h17a2 2 0 0 1 2 2v17a2 2 0 0 1-2 2h-17a2 2 0 0 1-2-2v-17a2 2 0 0 1 2-2zm0 2h17v11h-17zm0 13h4v4h-4zm6.5 0h4v4h-4zm6.5 0h4v4h-4z",fillRule:"evenodd"})};e.exports=a}),null);
__d("RTCCallControlsDominantSpeakerSwitchButton.react",["cx","fbt","FBRTCConstants","React","RTCCallControlsButton.react","RTCGroupCallActions","RTCUIDominantSpeakerLayoutIcon.react","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBRTCConstants").GroupVideoViewLayout;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("RTCCallControlsButton.react"),{className:"transparent icon-50","data-testid":b("VideoCallWebDriverIDs").DOMINANT_SPEAKER_SWITCH_BUTTON,onClick:this.$1,title:h._("Passer \u00e0 l\u2019affichage de la personne qui parle")},b("React").createElement(b("RTCUIDominantSpeakerLayoutIcon.react"),{shadow:!0}))};a.prototype.$1=function(){b("RTCGroupCallActions").setLayout(j.DOMINANT_SPEAKER)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("RTCUIGridLayoutIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1="",this.$2=function(a){a&&(this.$1=a.getURL(),this.forceUpdate())}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.shadow;a=babelHelpers.objectWithoutProperties(a,["shadow"]);return c?b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement("defs",null,b("React").createElement(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})),b("React").createElement("g",{filter:this.$1},b("React").createElement(h,null)))):b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement(h,null)))};a.defaultProps={shadow:!1};var h=function(){return b("React").createElement("path",{d:"M16.5 14.5h17a2 2 0 0 1 2 2v17a2 2 0 0 1-2 2h-17a2 2 0 0 1-2-2v-17a2 2 0 0 1 2-2zm0 2H24V24h-7.5zm9.5 0h7.5V24H26zM16.5 26H24v7.5h-7.5zm9.5 0h7.5v7.5H26z",fillRule:"evenodd"})};e.exports=a}),null);
__d("RTCCallControlsGridSwitchButton.react",["cx","fbt","FBRTCConstants","React","RTCCallControlsButton.react","RTCGroupCallActions","RTCUIGridLayoutIcon.react","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBRTCConstants").GroupVideoViewLayout;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("RTCCallControlsButton.react"),{className:"transparent icon-50","data-testid":b("VideoCallWebDriverIDs").GRID_SWITCH_BUTTON,onClick:this.$1,title:h._("Passer en mode grille")},b("React").createElement(b("RTCUIGridLayoutIcon.react"),{shadow:!0}))};a.prototype.$1=function(){b("RTCGroupCallActions").setLayout(j.GRID)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("RTCMWAppViewHeader.react",["FBRTCConstants","React","RTCAppViewHeader.react","RTCCallControls.react","RTCCallControlsChatButton.react","RTCCallControlsDominantSpeakerSwitchButton.react","RTCCallControlsGridSwitchButton.react","RTCCallControlsToggleFullScreenButton.react","RTCConferenceState","RTWebClientFeatureGating"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").GroupVideoViewLayout;a=function(a){var c=a.conferenceState,d=a.hideLayoutSwitchButton,e=a.isAudioCall,f=a.layout;a=a.showChatButton;switch(c){case b("RTCConferenceState").CONNECTED:var h=!e||b("RTWebClientFeatureGating").callUnification();a=a?b("React").createElement(b("RTCCallControlsChatButton.react"),{conferenceState:c,isP2P:!1}):null;return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:e},b("React").createElement(b("RTCCallControls.react"),{autoHide:h,compact:!0},h&&!d&&f!==g.DOMINANT_SPEAKER?b("React").createElement(b("RTCCallControlsDominantSpeakerSwitchButton.react"),null):null,h&&!d&&f!==g.GRID?b("React").createElement(b("RTCCallControlsGridSwitchButton.react"),null):null,b("React").createElement(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:e,isP2P:!1}),a));default:return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:e},b("React").createElement(b("RTCCallControls.react"),{autoHide:!e,compact:!0},b("React").createElement(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:e,isP2P:!1})))}};e.exports=a}),null);
__d("RTCGroupCallView.react",["cx","invariant","Promise","FBRTCConsoleLogger","FBRTCConstants","FBRTCMobileBrowserAppViewContent.react","FBRTCMobileBrowserAppViewFooter.react","FBRTCMobileBrowserAppViewHeader.react","FBRTCParticipantCallState","FBRTCSupport","React","RTCAppView.react","RTCChatViewWrapper.react","RTCConferenceState","RTCGrantUserMediaAccessView.react","RTCMWAppViewContent.react","RTCMWAppViewFooter.react","RTCMWAppViewHeader.react","RTCPeerConnectionStats.react","RTCUserMediaRequestState"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBRTCConstants").GroupVideoViewLayout;c=b("React").PureComponent;var k=2,l=8;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={hasVideoInput:!1,wasConnected:!1},this.$2=function(){this.setState({wasConnected:!1})}.bind(this),b}a.prototype.render=function(){var a=this.props.userMediaRequest;switch(a.state){case b("RTCUserMediaRequestState").PENDING:case b("RTCUserMediaRequestState").REJECTED:return b("React").createElement(b("RTCGrantUserMediaAccessView.react"),{isAudioCall:this.props.isAudioCall,userMediaRequest:a});default:return this.$1()}};a.prototype.$1=function(){__p&&__p();var a=this.props,c=a.layout;a=babelHelpers.objectWithoutProperties(a,["layout"]);var d=this.props.thread?this.props.thread.thread_id:"0";!this.props.chatWindowVisible||this.props.thread!=null||h(0,undefined);var e=b("FBRTCSupport").isMobileDevice();c=this.getLayoutSpecifics(c,e);var f=c.hideLayoutSwitchButton;c=c.remoteUsersLayout;this.props.conferenceState===b("RTCConferenceState").CONNECTED&&this.setState({wasConnected:!0});return b("React").createElement(b("RTCChatViewWrapper.react"),{callerID:this.props.localUser.FBID,chatWindowVisible:this.props.chatWindowVisible,threadID:d},b("React").createElement("div",{className:"_38jq _li"+(this.props.conferenceState===b("RTCConferenceState").TERMINATED?" _17cj":"")},b("React").createElement(b("RTCAppView.react"),{isAudioCall:this.props.isAudioCall},e?b("React").createElement(m,babelHelpers["extends"]({hasVideoInput:this.state.hasVideoInput},this.props)):b("React").createElement(n,babelHelpers["extends"]({hasVideoInput:this.state.hasVideoInput,hideLayoutSwitchButton:f,layout:c,onRedial:this.$2,wasConnected:this.state.wasConnected},a)))))};a.prototype.getLayoutSpecifics=function(a,c){if(c)return{hideLayoutSwitchButton:!1,remoteUsersLayout:j.GRID};a=this.props.remoteUsers.count(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED});c=a>l||a<k;a=a<k?j.GRID:c?j.DOMINANT_SPEAKER:this.props.layout;return{hideLayoutSwitchButton:c,remoteUsersLayout:a}};a.prototype.componentDidMount=function(){new(b("Promise"))(function(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?a(navigator.mediaDevices.enumerateDevices().then(function(a){return a.some(function(a){a=a.kind;return a==="videoinput"})})):a(!0)}).then(function(a){return this.setState({hasVideoInput:a})}.bind(this))["catch"](function(a){})};function m(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FBRTCMobileBrowserAppViewHeader.react"),a),b("React").createElement(b("FBRTCMobileBrowserAppViewContent.react"),a),b("React").createElement(b("FBRTCMobileBrowserAppViewFooter.react"),a))}function n(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCMWAppViewHeader.react"),babelHelpers["extends"]({showChatButton:a.thread!=null},a)),b("React").createElement(b("RTCMWAppViewContent.react"),a),b("React").createElement(b("RTCMWAppViewFooter.react"),a),b("React").createElement(b("RTCPeerConnectionStats.react"),{connection:a.connection,style:{marginBottom:40}}))}e.exports=a}),null);
__d("RTCMediaDevicesActionTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENUMERATE_MEDIA_DEVICES:"ENUMERATE_MEDIA_DEVICES"})}),null);
__d("RTCMediaDevicesActions",["RTCAppDispatcher","RTCMediaDevicesActionTypes"],(function(a,b,c,d,e,f){"use strict";a={enumerate:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCMediaDevicesActionTypes").ENUMERATE_MEDIA_DEVICES,devices:a})}};e.exports=a}),null);
__d("RTCMediaDevicesStore",["FBRTCConsoleLogger","FluxReduceStore","RTCAppDispatcher","RTCMediaDevices","RTCMediaDevicesActions","RTCMediaDevicesActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxReduceStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("RTCAppDispatcher")),this.$RTCMediaDevicesStore1(),b("RTCMediaDevices").addEventListener("devicechange",this.$RTCMediaDevicesStore1)}a.prototype.$RTCMediaDevicesStore1=function(){b("RTCMediaDevices").enumerateDevices().then(function(a){return b("RTCMediaDevicesActions").enumerate(a)})["catch"](function(a){})};a.prototype.getInitialState=function(){return null};a.prototype.reduce=function(a,c){var d=c.type;c=c.devices;switch(d){case b("RTCMediaDevicesActionTypes").ENUMERATE_MEDIA_DEVICES:return[].concat(c);default:return a}};a.prototype.refresh=function(){this.$RTCMediaDevicesStore1()};a.prototype.getByLabel=function(a,b){var c=this.getState();return!c?null:c.find(function(c){return c.kind===b&&c.label===a})||c.find(function(c){return c.kind===b&&i(c.label,a)})};a.__moduleID=e.id;var h=/#\d+\s(\([\da-f]{4}:[\da-f]{4}\))$|\s#\d+$/;function i(a,b){return a.replace(h,"$1")===b.replace(h,"$1")}e.exports=new a()}),null);
__d("CollabInitStreamTriggerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ESCALATION_APPROVED:"escalation_approved",ESCALATION_INITIATED:"escalation_initiated",REDIAL:"redial",USER_MEDIA_REQUEST:"user_media_request",USER_SETTINGS_CHANGED:"user_settings_changed"})}),null);
__d("RTCP2PIncallView.react",["cx","fbt","FBRTCConstants","FluxContainer","React","RTCAppDispatcher","RTCCallNUXActions","RTCCallNUXIDs","RTCCallNUXStore","RTCCallStore","RTCIncallAudio.react","RTCIncallVideo.react","ShimButton.react","VideoCallWebDriverIDs","XUIAmbientNUX.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBRTCConstants").SignalingProtocol;a=b("React").PureComponent;function k(a){var c=a.audioSinkID;a=a.streams;return a.toArray().map(function(a,d){return b("React").createElement(b("RTCIncallAudio.react"),babelHelpers["extends"]({key:d},{audioSinkID:c,mediaStream:a}))})}c=babelHelpers.inherits(l,a);i=c&&c.prototype;l.getStores=function(){return[b("RTCCallNUXStore")]};l.calculateState=function(a){a===void 0&&(a={});return babelHelpers["extends"]({},a,{showNux:b("RTCCallNUXStore").getState().showRemoteStreamsSliderNUX})};function l(a){__p&&__p();i.constructor.call(this,a),this.state=l.calculateState({ratio:.5,resizing:!1}),this.$11=function(){document.addEventListener("keydown",this.$14)}.bind(this),this.$9=function(){document.removeEventListener("keydown",this.$14)}.bind(this),this.$14=function(a){a=a.key;var b=this.state.ratio;switch(a){case"ArrowLeft":this.$15(b-.025);break;case"ArrowRight":this.$15(b+.025);break;case"Escape":this.$10();break}}.bind(this),this.$10=function(){this.setState({ratio:.5})}.bind(this),this.$12=function(a){__p&&__p();var b=a.clientX;if(!this.$1)return;this.$3=this.$1.offsetLeft;this.$4=this.$1.offsetWidth;this.setState({resizing:!0},function(){return this.$16({clientX:b})}.bind(this));document.addEventListener("mousemove",this.$16);document.addEventListener("mouseup",this.$17);this.state.showNux&&this.$18()}.bind(this),this.$16=function(a){a=a.clientX;if(!this.state.resizing)return;this.$15((a-this.$3)/this.$4)}.bind(this),this.$17=function(){this.$19(),this.setState({resizing:!1})}.bind(this),this.$13=function(a){this.$2=a&&a.getDOMNode?a.getDOMNode():a}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")])}l.prototype.render=function(){__p&&__p();var a=this.props.user;if(!a)return null;var c=a.streams,d=a.screenStreams;if(this.props.isAudioCall)return b("React").createElement("section",{className:"_1b9s"+(this.state.resizing?" resizing":""),ref:function(a){return this.$1=a}.bind(this)},this.props.children,b("React").createElement("div",{className:"_1b9t"},b("React").createElement(k,{audioSinkID:this.props.audioSinkID,streams:c}),b("React").createElement(k,{audioSinkID:this.props.audioSinkID,streams:d})));var e=!(c.isEmpty()||d.isEmpty()||!this.props.renderScreenStreams);return b("React").createElement("section",{className:"_1b9s"+(this.state.resizing?" resizing":""),ref:function(a){return this.$1=a}.bind(this)},this.props.children,this.$5(d,e),this.$6(e),this.$7(e),this.$8(c,e,a.isVideoMuted()))};l.prototype.$6=function(a){return!a?null:b("React").createElement(b("ShimButton.react"),{className:"_1b9u",onBlur:this.$9,onDoubleClick:this.$10,onFocus:this.$11,onMouseDown:this.$12,ref:this.$13,role:"button",tabIndex:0})};l.prototype.$15=function(a){this.setState({ratio:Math.min(.85,Math.max(.15,a))})};l.prototype.$19=function(){document.removeEventListener("mousemove",this.$16),document.removeEventListener("mouseup",this.$17)};l.prototype.$18=function(){b("RTCCallNUXActions").dismissNUX(b("RTCCallNUXIDs").RTC_P2P_REMOTE_STREAMS_SLIDER_NUX)};l.prototype.$7=function(a){if(!this.state.showNux||!a||!this.$1)return null;a=(this.$1.clientHeight-32)/2;var c=h._("Contr\u00f4lez la taille de la vid\u00e9o et du contenu partag\u00e9 \u00e0 l\u2019aide du curseur.");b("RTCCallNUXActions").markNUXViewed(b("RTCCallNUXIDs").RTC_P2P_REMOTE_STREAMS_SLIDER_NUX);return b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.$2}.bind(this),customwidth:250,offsetY:a,onCloseButtonClick:this.$18,position:"right",shown:this.state.showNux,width:"custom"},c)};l.prototype.$5=function(a,c){if(a.isEmpty()||!this.props.renderScreenStreams)return null;var d=this.props.audioSinkID;c=c?{flexGrow:this.state.ratio}:null;return b("React").createElement("div",{className:"_1b9t",style:c},a.toArray().map(function(a,c){return b("React").createElement(b("RTCIncallVideo.react"),babelHelpers["extends"]({key:c},{audioSinkID:d,mediaStream:a}))}))};l.prototype.$8=function(a,c,d){__p&&__p();if(a.isEmpty())return null;var e=this.props.audioSinkID;c=c?{flexGrow:1-this.state.ratio}:null;var f=b("RTCCallStore").getConnection(j.P2P);if(!f)return null;var g=b("immutable").Set(f.getRemoteStreams());return b("React").createElement("div",{className:"_1b9t","data-testid":b("VideoCallWebDriverIDs").INCALL_VIDEO_CONTAINER,style:c},a.filter(function(a){return g.has(a)}).toArray().map(function(a,c){return a.getVideoTracks().length>0?b("React").createElement(b("RTCIncallVideo.react"),babelHelpers["extends"]({key:c},{audioSinkID:e,mediaStream:a,muted:d})):b("React").createElement(b("RTCIncallAudio.react"),babelHelpers["extends"]({key:c},{audioSinkID:e,mediaStream:a}))}))};l.prototype.componentWillUnmount=function(){this.$19(),document.removeEventListener("keydown",this.$14)};l.prototype.componentDidUpdate=function(a){this.props.user!==a.user&&this.$10()};l.defaultProps={renderScreenStreams:!0};e.exports=b("FluxContainer").create(l)}),null);
__d("RTCP2PStartCallButton.react",["cx","fbt","FBRTCLogger","React","RTCP2PCallStore","RTCTextButton.react","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("RTWebUserActionLogger").logClick({callType:b("RTWebLoggingCallType").P2P,component:b("RTWebLoggingComponent").START_CALL,conferenceState:this.props.conferenceState,mediaType:b("RTWebUserActionLogger").getMediaType(this.props.isAudio),surface:b("RTWebLoggingSurface").CALL_CONTAINER}),b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.POPUP_CALL_START_BUTTON)}.bind(this),c}a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebLoggingCallType").P2P,component:b("RTWebLoggingComponent").START_CALL,conferenceState:this.props.conferenceState,mediaType:b("RTWebUserActionLogger").getMediaType(this.props.isAudio),surface:b("RTWebLoggingSurface").CALL_CONTAINER})};a.prototype.render=function(){return b("React").createElement(b("RTCTextButton.react"),{className:"green _2fst","data-testid":b("VideoCallWebDriverIDs").RTC_APP_VIEW_START_CALL_BUTTON,label:h._("D\u00e9marrer l\u2019appel"),onClick:this.$1})};e.exports=a}),null);
__d("RTCLoggingActionTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GENERIC_COLLAB_LOG:"GENERIC_COLLAB_LOG"})}),null);
__d("RTCCallLogActions",["RTCAppDispatcher","RTCLoggingActionTypes"],(function(a,b,c,d,e,f){"use strict";a={logEvent:function(event,a){b("RTCAppDispatcher").dispatch({type:b("RTCLoggingActionTypes").GENERIC_COLLAB_LOG,event:event,eventDetails:a})}};e.exports=a}),null);
__d("RTCUserSettingsActionTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USER_SETTINGS_CANCEL_EDITING:"USER_SETTINGS_CANCEL_EDITING",USER_SETTINGS_EDIT:"USER_SETTINGS_EDIT",USER_SETTINGS_SAVE:"USER_SETTINGS_SAVE",USER_SETTINGS_SET_AUDIO_INPUT:"USER_SETTINGS_SET_AUDIO_INPUT",USER_SETTINGS_SET_AUDIO_OUTPUT:"USER_SETTINGS_SET_AUDIO_OUTPUT",USER_SETTINGS_SET_VIDEO_INPUT:"USER_SETTINGS_SET_VIDEO_INPUT"})}),null);
__d("RTCUserSettingsReducers",["RTCCallActionTypes","RTCMediaDevicesStore","RTCUserSettingsActionTypes"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){switch(c.type){case b("RTCUserSettingsActionTypes").USER_SETTINGS_EDIT:return a.set("editing",!0);case b("RTCUserSettingsActionTypes").USER_SETTINGS_CANCEL_EDITING:return a.set("editing",!1);case b("RTCUserSettingsActionTypes").USER_SETTINGS_SAVE:return a.set("audioInput",c.audioInput).set("audioOutput",c.audioOutput).set("editing",!1).set("videoInput",c.videoInput);case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_INPUT:return a.set("audioInput",c.audioInput);case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_OUTPUT:return a.set("audioOutput",c.audioOutput);case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_VIDEO_INPUT:return a.set("videoInput",c.videoInput);default:return a}}function c(a,c){switch(c.type){case b("RTCCallActionTypes").ADD_LOCAL_STREAM:return a.set("audioInput",g(c.stream.getAudioTracks()[0],"audioinput")||a.audioInput).set("videoInput",g(c.stream.getVideoTracks()[0],"videoinput")||a.videoInput);default:return a}}function g(a,c){if(!a)return null;a=b("RTCMediaDevicesStore").getByLabel(a.label,c);return a?a.deviceId:null}e.exports={activelySetSettings:a,passivelySetSettings:c}}),null);
__d("RTCUserSettingsStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("immutable").Record({audioInput:null,audioOutput:null,editing:!1,videoInput:null}));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("RTCUserSettingsStore",["FluxReduceStore","RTCAppDispatcher","RTCUserSettingsReducers","RTCUserSettingsStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[b("RTCUserSettingsReducers").activelySetSettings,b("RTCUserSettingsReducers").passivelySetSettings];c=babelHelpers.inherits(a,b("FluxReduceStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("RTCAppDispatcher"))}a.prototype.getInitialState=function(){return new(b("RTCUserSettingsStoreState"))()};a.prototype.reduce=function(a,b){return h.reduce(function(a,c){return c(a,b)},a)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("RTCP2PActiveMediaDeviceContainer.react",["CollabCallMessengerBrowserEventEnum","CollabInitStreamTriggerType","FluxContainer","React","RTCAppDispatcher","RTCP2PCallStore","RTCP2PProtocolHandler","RTCUserSettingsStore","RTWebLoggingSurface","RTWebUserActionLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$1=function(a){var c=a.audioInput?a.audioInput:this.state.audioInput;a=a.videoInput?a.videoInput:this.state.videoInput;b("RTCP2PProtocolHandler").initStream(!this.state.isAudioCall,c,a).then(function(a){return b("RTCP2PProtocolHandler").replaceLocalStream(a,!0)})["catch"](function(a){return h(a,b("CollabInitStreamTriggerType").USER_SETTINGS_CHANGED)})}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCP2PCallStore"),b("RTCUserSettingsStore")])}a.getStores=function(){return[b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};a.calculateState=function(){var a=b("RTCUserSettingsStore").getState();return{audioInput:a.audioInput,isAudioCall:b("RTCP2PCallStore").isAudioOnly(),videoInput:a.videoInput}};a.prototype.render=function(){return this.props.children(this.$1)};function h(a,c){b("RTWebUserActionLogger").logError({errorDomain:b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,errorType:JSON.stringify(a),surface:b("RTWebLoggingSurface").CALL_CONTAINER})}e.exports=b("FluxContainer").create(a)}),null);
__d("RTCPreCallAudioOutputPreview.react",["cx","FBRTCUtils","MercurySoundsConfig","React","ReactDOM","RTCSVGIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={isPlaying:!1,mediaStream:null},this.$5=function(){this.setState(function(a){if(this.$1!=null){var b=!a.isPlaying;b?this.$1.play():this.$1.pause();return{isPlaying:b}}return a}.bind(this))}.bind(this),b}a.prototype.componentDidMount=function(){b("promiseDone")(this.$2(this.props.audioOutputSinkID).then(function(a){return this.setState({mediaStream:a})}.bind(this))),this.$3(this.state.mediaStream),this.$4()};a.prototype.componentDidUpdate=function(a,c){a.audioOutputSinkID!==this.props.audioOutputSinkID&&(b("promiseDone")(this.$2(this.props.audioOutputSinkID).then(function(a){c.mediaStream!=null&&b("RTCUtils").stopMediaStream(c.mediaStream),this.setState({mediaStream:a})}.bind(this))),this.$4())};a.prototype.render=function(){return b("React").createElement("div",{className:"_426m",onClick:this.$5,role:"main"},b("React").createElement("audio",{autoPlay:!1,loop:!0,ref:function(a){return this.$1=a}.bind(this)},b("React").createElement("source",{src:b("MercurySoundsConfig").settings_preview_sound_mp3_url,type:"audio/mpeg"}),b("React").createElement("source",{src:b("MercurySoundsConfig").settings_preview_sound_ogg_url,type:"audio/ogg"})),this.state.isPlaying?b("React").createElement(j,null):b("React").createElement(i,null))};a.prototype.$2=function(a){return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(a)})};a.prototype.$3=function(a){this.$1&&a&&b("FBRTCUtils").attachMediaStream(this.$1,a)};a.prototype.$4=function(){if(!b("FBRTCUtils").supportsSetSink())return;var a=b("ReactDOM").findDOMNode(this.$1);this.props.audioOutputSinkID&&a!=null&&a.setSinkId(this.props.audioOutputSinkID)};var i=function(){return b("React").createElement(b("RTCSVGIcon.react"),{className:"_6p8c"},b("React").createElement("svg",{height:"61",width:"61"},b("React").createElement("path",{d:"M30.302 0C13.566 0 0 13.568 0 30.302c0 16.736 13.568 30.303 30.302 30.303 16.738 0 30.303-13.568 30.303-30.302C60.605 13.566 47.04 0 30.303 0zm11.284 31.973L24.097 42.07a1.733 1.733 0 0 1-1.727 0 1.73 1.73 0 0 1-.862-1.497V20.381c0-.617.33-1.186.862-1.496a1.733 1.733 0 0 1 1.727 0l17.486 10.097c.535.307.865.879.862 1.496a1.72 1.72 0 0 1-.86 1.494z",fillRule:"evenodd"})))},j=function(){return b("React").createElement(b("RTCSVGIcon.react"),{className:"_6p8c"},b("React").createElement("svg",{height:"60",viewBox:"0 0 60 60",width:"60"},b("React").createElement("path",{d:"M74,31 C90.568,31 104,44.432 104,61 C104,77.568 90.568,91 74,91 C57.432,91 44,77.568 44,61 C44,44.432 57.432,31 74,31 Z M66.7142857,50.7142857 C65.0574315,50.7142857 63.7142857,52.0574315 63.7142857,53.7142857 L63.7142857,69.1428571 C63.7142857,70.7997114 65.0574315,72.1428571 66.7142857,72.1428571 L82.1428571,72.1428571 C83.7997114,72.1428571 85.1428571,70.7997114 85.1428571,69.1428571 L85.1428571,53.7142857 C85.1428571,52.0574315 83.7997114,50.7142857 82.1428571,50.7142857 L66.7142857,50.7142857 Z",fillRule:"evenodd",transform:"translate(-44 -31)"})))};e.exports=a}),null);
__d("SUIMessengerRTCThemeConstants",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={DARK_MAPPING:{buttonDefault:"#4a4a4a",buttonHover:"#373948",buttonActive:"#4a4a4a",buttonDisabled:"#4a4a4a",buttonBorder:"#828282",buttonBorderDisabled:"#828282",buttonText:"#ffffff",buttonTextDisabled:"#828282",buttonPrimaryDefault:"#008FFF",buttonPrimaryHover:"#0077EC",buttonPrimaryActive:"#0060C5",buttonPrimaryDisabled:"#479EBA",buttonPrimaryBorder:"#008FFF",buttonPrimaryText:"#FFFFFF",buttonPrimaryTextDisabled:"#F5F7F9",dropdownShadowMedium:"0 4px 8px 0 rgba(0,0,0,0.15)",glyphPrimary:"#D9E0E7",glyphSecondary:"#A0A6B7",rowBackgroundDefault:"#FFFFFF",rowBackgroundHover:"#0084ff",rowBackgroundActive:"#0084ff",rowBackgroundDisabled:"#373948",highlightedBackgroundColor:"#EBEDF0",rowBorder:"#FFFFFF",rowTextDefault:"#000000",rowTextHover:"#000000",rowTextActive:"#000000",rowTextSelected:"#F9FAFB",rowTextDisabled:"#6E7285",textPrimary:"#CFD6E0",textSecondary:"#A0A6B7",textDisabled:"#6E7285",textInteractive:"#008FFF",textInverted:"#FFFFFF",textLabel:"#A0A6B7",textHighlightBackground:"#FFD34C",textDark:"#272834",washAccent:"#008FFF",washBorder:"#15151D",washEmpty:"#FFFFFF",washPrimary:"#20212C",washSecondary:"#272834",washTertiary:"#2F303E",washDark:"#15151D"},LIGHT_MAPPING:{buttonDefault:"#FFFFFF",buttonHover:"#EAEFF2",buttonActive:"#D9E0E7",buttonDisabled:"#F5F7F9",buttonBorder:"#828282",buttonBorderDisabled:"#D9E0E7",buttonText:"#272834",buttonTextDisabled:"#A0A6B7",buttonPrimaryDefault:"#008FFF",buttonPrimaryHover:"#0077EC",buttonPrimaryActive:"#0060C5",buttonPrimaryDisabled:"#6FC7FF",buttonPrimaryBorder:"#008FFF",buttonPrimaryText:"#FFFFFF",buttonPrimaryTextDisabled:"#F5F7F9",dropdownShadowMedium:"0 4px 8px 0 rgba(0,0,0,0.15)",glyphPrimary:"#272834",glyphSecondary:"#6E7285",rowBackgroundDefault:"#FFFFFF",rowBackgroundHover:"#0084ff",rowBackgroundActive:"#0084ff",rowBackgroundDisabled:"#373948",highlightedBackgroundColor:"#EBEDF0",rowBorder:"#FFFFFF",rowTextDefault:"#000000",rowTextHover:"#000000",rowTextActive:"#000000",rowTextSelected:"#F9FAFB",rowTextDisabled:"#6E7285",textPrimary:"#272834",textSecondary:"#6E7285",textDisabled:"#C1C8D6",textInteractive:"#008FFF",textInverted:"#FFFFFF",textLabel:"#272834",textHighlightBackground:"#FFD34C",textDark:"#272834",washAccent:"#008FFF",washBorder:"#D9E0E7",washEmpty:"#FFFFFF",washPrimary:"#F9FAFB",washSecondary:"#F5F7F9",washTertiary:"#F1F4F6",washDark:"#272834"}};e.exports=a}),null);
__d("messengerRTCCreateSUITheme",["ix","cssVar","Image.react","React","SUIBusinessThemeComponents","SUITheme","SUITypeStyle","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a){return new(b("SUITypeStyle"))(babelHelpers["extends"]({},a,{letterSpacing:undefined,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased"}))};function a(a,c){var d=i({color:a.textPrimary,fontFamily:"Helvetica Neue, Segoe UI, Helvetica, Arial, sans-serif",fontSize:"12px",fontWeight:"bold"}),e=b("React").createElement(b("Image.react"),{src:g("376185")}),f=b("React").createElement(b("Image.react"),{src:g("382797")});f=babelHelpers["extends"]({},b("SUIBusinessThemeComponents"),{SUIButton:{height:{normal:32,"short":28,tall:36},padding:{normal:{button:"12px",icon:"6px",onlyIcon:"8px"},"short":{button:"12px",icon:"6px",onlyIcon:"8px"},tall:{button:"12px",icon:"6px",onlyIcon:"8px"}},typeStyle:d,use:{confirm:{active:{background:a.buttonPrimaryActive,borderColor:a.buttonPrimaryActive,color:a.buttonPrimaryText},disabled:{background:a.buttonPrimaryDisabled,borderColor:a.buttonPrimaryDisabled,color:a.buttonPrimaryTextDisabled},hover:{background:a.buttonPrimaryHover,borderColor:a.buttonPrimaryHover,color:a.buttonPrimaryText},normal:{background:a.buttonPrimaryDefault,borderColor:a.buttonPrimaryDefault,color:a.buttonPrimaryText}},"default":{active:{background:a.buttonActive,borderColor:a.buttonBorder,color:a.buttonText},disabled:{background:a.buttonDisabled,borderColor:a.buttonBorderDisabled,color:a.buttonTextDisabled},hover:{background:a.buttonHover,borderColor:a.buttonBorder,color:a.buttonText},normal:{background:a.buttonDefault,borderColor:a.buttonBorder,color:a.buttonText}},special:{active:{background:a.buttonActive,borderColor:a.buttonBorder,color:a.buttonText},disabled:{background:a.buttonDisabled,borderColor:a.buttonBorderDisabled,color:a.buttonTextDisabled},hover:{background:a.buttonHover,borderColor:a.buttonBorder,color:a.buttonText},normal:{background:a.buttonDefault,borderColor:a.buttonBorder,color:a.buttonText}},flat:{active:{background:"transparent",borderColor:"transparent",color:a.buttonText},disabled:{background:"transparent",borderColor:"transparent",color:a.buttonTextDisabled},hover:{background:"transparent",borderColor:"transparent",color:a.buttonText},normal:{background:"transparent",borderColor:"transparent",color:a.buttonText}},flatWhite:{active:{background:"transparent",borderColor:"transparent",color:a.buttonText},disabled:{background:"transparent",borderColor:"transparent",color:a.buttonTextDisabled},hover:{background:"transparent",borderColor:"transparent",color:a.buttonText},normal:{background:"transparent",borderColor:"transparent",color:a.buttonText}}}},SUISelector:{backgroundColor:a.washEmpty,borderColor:a.buttonBorder,boxShadow:a.dropdownShadowMedium},SUISelectorButton:{use:{"default":{chevron:f}},padding:"8px",paddingLeft:"8px",paddingRight:"4px"},SUISelectorOption:{activeBackgroundColor:a.rowBackgroundActive,activeColor:a.rowTextActive,color:a.rowTextDefault,descriptionColor:a.textSecondary,descriptionSelectedColor:a.rowTextDefault,disabledBackgroundColor:a.rowBackgroundDisabled,disabledColor:a.rowTextDisabled,highlightedBackgroundColor:a.highlightedBackgroundColor,highlightedColor:a.rowTextDefault,padding:{bottom:"8px",left:"32px",right:"20px",top:"8px"},paddingWhenNoValue:{bottom:"8px",left:"16px",right:"20px",top:"8px"},selectedBackgroundColor:a.rowBackgroundHover,selectedColor:a.rowTextSelected,selectedIcon:e,selectedTypeStyle:d,selectedIconMarginRight:"8px",selectedIconMarginLeft:"-4px",typeStyle:d}});return new(b("SUITheme"))({id:c,components:f})}e.exports=a}),null);
__d("SUIMessengerRTCLightTheme",["SUIMessengerRTCThemeConstants","messengerRTCCreateSUITheme"],(function(a,b,c,d,e,f){"use strict";a=b("SUIMessengerRTCThemeConstants").LIGHT_MAPPING;e.exports=b("messengerRTCCreateSUITheme")(a,"messenger-rtc-light")}),null);
__d("RTCSettingsMediaDeviceSelector.react",["fbt","React","SUIMessengerRTCLightTheme","SUISelector.react","SUISelectorOption.react","SUITheme","SUIThemeContainer.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="---";a=function(a){var c=a.devices,d=a.disabled===!0?null:a.value||(c.length>0?c[0].deviceId:null);return b("React").createElement(b("SUIThemeContainer.react"),{theme:a.theme?a.theme:b("SUIMessengerRTCLightTheme")},b("React").createElement(b("SUISelector.react"),{buttonBorderedSides:a.buttonBorderedSides,buttonRoundedCorners:a.buttonRoundedCorners,disabled:c.length===0||a.disabled,onChange:a.onChange,placeholder:g._("S\u00e9lectionnez un appareil"),value:d,width:a.width},j(c,a.disabled,a.selectorType)))};var i={videoinput:"Camera",audioinput:"Microphone",audiooutput:"Audio Output"};function j(a,c,d){__p&&__p();if(c===!0&&d!=null)return b("React").createElement(b("SUISelectorOption.react"),{value:null},g._({"Camera":"Camera disabled","Microphone":"Micro d\u00e9sactiv\u00e9","Audio Output":"Audio Output disabled"},[g._enum(i[d],{Camera:"Camera",Microphone:"Microphone","Audio Output":"Audio Output"})]));if(a.length===0){c=d!=null?g._({"camera":"No camera found","microphone":"No microphone found","audio output":"No audio output found"},[g._enum(i[d].toLowerCase(),{camera:"camera",microphone:"microphone","audio output":"audio output"})]):h;return b("React").createElement(b("SUISelectorOption.react"),{value:null},c)}var e=0;return a.map(function(a){var c=a.label?a.label:g._({"Camera":"Cam\u00e9ra{number}","Microphone":"Microphone{number}","Audio Output":"Sortie audio{number}"},[g._enum(i[a.kind],{Camera:"Camera",Microphone:"Microphone","Audio Output":"Audio Output"}),g._param("number",++e)]);return b("React").createElement(b("SUISelectorOption.react"),{key:a.deviceId,value:a.deviceId},c)})}e.exports=a}),null);
__d("RTCUserSettingsActions",["RTCAppDispatcher","RTCUserSettingsActionTypes"],(function(a,b,c,d,e,f){"use strict";a={edit:function(){b("RTCAppDispatcher").dispatch({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_EDIT})},cancel:function(){b("RTCAppDispatcher").dispatch({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_CANCEL_EDITING})},save:function(a){b("RTCAppDispatcher").dispatch(babelHelpers["extends"]({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_SAVE},a))},setAudioInput:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_INPUT,audioInput:a})},setAudioOutput:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_OUTPUT,audioOutput:a})},setVideoInput:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_VIDEO_INPUT,videoInput:a})}};e.exports=a}),null);
__d("SUIMessengerRTCDarkTheme",["SUIMessengerRTCThemeConstants","messengerRTCCreateSUITheme"],(function(a,b,c,d,e,f){"use strict";a=b("SUIMessengerRTCThemeConstants").DARK_MAPPING;e.exports=b("messengerRTCCreateSUITheme")(a,"messenger-rtc-dark")}),null);
__d("RTCPreCallAudioOutputContainer.react",["cx","FBRTCUtils","FluxContainer","React","RTCMediaDevicesStore","RTCPreCallAudioOutputPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=b("FBRTCUtils").supportsSetSink()?a.audioOutputDevices:[];return b("React").createElement("div",{className:"_142c"},b("React").createElement(b("RTCPreCallAudioOutputPreview.react"),{audioOutputSinkID:a.audioOutput}),b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:c,disabled:!b("FBRTCUtils").supportsSetSink(),onChange:h,selectorType:"audiooutput",theme:b("SUIMessengerRTCDarkTheme"),value:a.audioOutput,width:148}))};var h=function(a){b("RTCUserSettingsActions").setAudioOutput(a)};c=function(){return{audioOutput:b("RTCUserSettingsStore").getState().audioOutput,audioOutputDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"audiooutput")}};e.exports=b("FluxContainer").createFunctional(a,function(){return[b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]},c)}),null);
__d("RTCPreCallUnvailableDeviceText.react",["React","SUIMessengerRTCDarkTheme","SUIText.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").createElement("div",{className:a.className},b("React").createElement(b("SUIText.react"),{color:"white",size:"header4",theme:b("SUIMessengerRTCDarkTheme"),weight:"bold"},a.primaryText),b("React").createElement(b("SUIText.react"),{color:"primary",palette:"dark",size:"header4",style:{marginLeft:"16px",marginTop:"8px"},textAlign:"center",theme:b("SUIMessengerRTCDarkTheme")},a.secondaryText))};e.exports=a}),null);
__d("RTCPreCallVideoPreview.react",["cx","fbt","FBRTCVideo.react","React","RTCP2PProtocolHandler","RTCPreCallUnvailableDeviceText.react","RTCUICameraIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={mediaStream:null},b}a.prototype.componentDidMount=function(){var a=this.props.videoInput;a!=null&&b("promiseDone")(this.$1(a).then(function(a){return this.setState({mediaStream:a})}.bind(this)))};a.prototype.componentDidUpdate=function(a,c){a.videoInput!==this.props.videoInput&&b("promiseDone")(this.$1(this.props.videoInput).then(function(a){c.mediaStream&&b("RTCUtils").stopMediaStream(c.mediaStream),this.setState({mediaStream:a})}.bind(this)))};a.prototype.componentWillUnmount=function(){this.state.mediaStream!=null&&b("RTCUtils").stopMediaStream(this.state.mediaStream)};a.prototype.render=function(){return this.props.isVideoMuted?b("React").createElement(j,null,b("React").createElement(k,null)):b("React").createElement(j,null,this.props.videoInput!=null?b("React").createElement("div",null,b("React").createElement(b("FBRTCVideo.react"),{className:"_4fod",mediaStream:this.state.mediaStream,muted:!0})):b("React").createElement(l,null))};a.prototype.$1=function(a){return b("RTCUtils").getUserMediaWithFallbackToEmptyVideoConstraints({video:b("RTCUserMediaConstraints").video(b("RTCP2PProtocolHandler").getDefaultVideoQuality(),a)})};var j=function(a){return b("React").createElement("div",babelHelpers["extends"]({},a,{className:"_68wu"}))},k=function(){return b("React").createElement("div",{className:"_6i3z"},b("React").createElement(b("RTCUICameraIcon.react"),{className:"_6plt",strikeThrough:!0}))},l=function(){return b("React").createElement(b("RTCPreCallUnvailableDeviceText.react"),{className:"_6cky",primaryText:h._("Couldn't find your camera"),secondaryText:h._("Try connecting a different camera, or use WorkChat on your mobile device")})};e.exports=a}),null);
__d("RTCPreCallCameraContainer.react",["cx","FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCMediaDevicesStore","RTCPreCallVideoPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.$1=function(a){b("RTCUserSettingsActions").setVideoInput(a),this.props.onMediaDevicesChange&&this.props.onMediaDevicesChange({videoInput:a})}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")])}a.getStores=function(){return[b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]};a.calculateState=function(){return{isVideoMuted:b("RTCCallStore").getState().localUser.isVideoMuted(),videoDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"videoinput"),videoInput:b("RTCUserSettingsStore").getState().videoInput}};a.prototype.render=function(){return b("React").createElement("div",{className:"_101o"},b("React").createElement(b("RTCPreCallVideoPreview.react"),{isVideoMuted:this.state.isVideoMuted,videoInput:this.state.videoInput}),b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:this.state.videoDevices,disabled:this.state.isVideoMuted,onChange:this.$1,selectorType:"videoinput",theme:b("SUIMessengerRTCDarkTheme"),value:this.state.videoInput,width:306}))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCSettingsAudioInputPreview.react",["cx","fbt","AudioContextSingleton","React","cancelAnimationFrame","joinClasses","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j={fftSize:32,minDecibels:-90,maxDecibels:-10,smoothingTimeConstant:1},k=Math.log2(128+1);d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.state={noAudioTrack:!1},this.$2=b("AudioContextSingleton").get(),this.$3=this.$2.createGain(),this.$3.gain.value=a.gain,this.$4=this.$2.createAnalyser(),Object.assign(this.$4,j)}a.prototype.$7=function(a){__p&&__p();this.$8();if(!(a&&this.$1))return;if(a.getAudioTracks().length<1){this.setState({noAudioTrack:!0});return}var c=this.$1.getContext("2d");if(!c)return;this.$5&&this.$5.disconnect();this.$5=this.$2.createMediaStreamSource(a);this.$5.connect(this.$3);this.$3.connect(this.$4);a=this.$4.frequencyBinCount;var d=new Uint8Array(a);a=this.props;var e=a.width,f=a.height,g,h=function(){this.$4.getByteTimeDomainData(d);var a=l(d,e,f,g);g=a;c.clearRect(0,0,e,f);c.fillStyle=this.props.fillStyle;c.fill(n(a,e,f));this.$6=b("requestAnimationFrame")(h)}.bind(this);this.$6=b("requestAnimationFrame")(h)};a.prototype.$8=function(){b("cancelAnimationFrame")(this.$6)};a.prototype.render=function(){var a=this.props,c=a.className,d=a.gain,e=a.height,f=a.width;a=babelHelpers.objectWithoutProperties(a,["className","gain","height","width"]);var g=this.state.noAudioTrack;this.$3.gain.value=d;return b("React").createElement("div",babelHelpers["extends"]({className:b("joinClasses")("_brl"+(g?" noAudioTrack":""),c)},a),g?b("React").createElement("span",null,this.props.noMicMessage):null,b("React").createElement("canvas",babelHelpers["extends"]({ref:function(a){return this.$1=a}.bind(this)},{width:f,height:e})))};a.prototype.componentDidUpdate=function(a){var b=this.props.mediaStream;b!==a.mediaStream&&(this.setState({noAudioTrack:!1}),this.$7(b))};a.prototype.componentDidMount=function(){this.$7(this.props.mediaStream)};a.prototype.componentWillUnmount=function(){this.$8(),this.$5&&this.$5.disconnect(),this.$3&&this.$3.disconnect()};a.defaultProps={fillStyle:"rgba(255, 255, 255, .5)",gain:3.5,height:26,noMicMessage:h._("Aucun micro"),width:106};function l(a,b,c,d){return[128].concat(m(a),[128]).map(function(a,e,f){a=c*(Math.log2(Math.abs(a)+1)/k);return{x:e*b/(f.length-1),y:d?Math.min(a,c-(c-d[e].y)*.95):a}})}function m(a){var b=[];for(var c=0;c*2<a.length;c++)b[c]=Math.min(a[c*2],a[c*2+1]||0);return b}function n(a,b,c){__p&&__p();var d=new Path2D();d.moveTo(0,c);a.forEach(function(b,c,a){switch(c){case 0:d.lineTo(b.x,b.y);break;case 1:break;case a.length-1:d.bezierCurveTo.apply(d,o(b,a[c-1],b));d.lineTo(b.x,b.y);break;case 2:d.lineTo((5*a[c-2].x+a[c-1].x)/6,(5*a[c-2].y+a[c-1].y)/6);default:d.bezierCurveTo.apply(d,o(b,a[c-2],a[c-1]))}});d.lineTo(b,c);d.closePath();return d}function o(a,b,c){return[(2*b.x+c.x)/3,(2*b.y+c.y)/3,(b.x+2*c.x)/3,(b.y+2*c.y)/3,(b.x+4*c.x+a.x)/6,(b.y+4*c.y+a.y)/6]}e.exports=a}),null);
__d("RTCPreCallMicPreview.react",["cssVar","cx","React","RTCSettingsAudioInputPreview.react","RTCSVGIcon.react","RTCUIMicrophoneIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={mediaStream:null},b}a.prototype.componentDidMount=function(){b("promiseDone")(this.$1(this.props.audioInput).then(function(a){return this.setState({mediaStream:a})}.bind(this)))};a.prototype.componentDidUpdate=function(a,c){a.audioInput!==this.props.audioInput&&b("promiseDone")(this.$1(this.props.audioInput).then(function(a){c.mediaStream&&b("RTCUtils").stopMediaStream(c.mediaStream),this.setState({mediaStream:a})}.bind(this)))};a.prototype.componentWillUnmount=function(){this.state.mediaStream!=null&&b("RTCUtils").stopMediaStream(this.state.mediaStream)};a.prototype.render=function(){var a=this.props.isAudioMuted;return a?b("React").createElement("div",{className:"_2848"},b("React").createElement(j,null)):b("React").createElement("div",{className:"_2848"},b("React").createElement(k,null),b("React").createElement(b("RTCSettingsAudioInputPreview.react"),{className:"_2-0x",gain:6,mediaStream:this.state.mediaStream}))};a.prototype.$1=function(a){return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(a)})};var j=function(){return b("React").createElement("div",{className:"_6i3z"},b("React").createElement(b("RTCUIMicrophoneIcon.react"),{className:"_6plt",strikeThrough:!0}))},k=function(){return b("React").createElement(b("RTCSVGIcon.react"),{style:{marginTop:"8px"}},b("React").createElement("svg",{fill:"none",height:"100",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"80"},b("React").createElement("path",{d:"M19 10v2a7 6 0 0 1-14 0v-2"}),b("React").createElement("line",{x1:"8",x2:"16",y1:"22",y2:"22"})))};e.exports=a}),null);
__d("RTCPreCallMicrophoneContainer.react",["cx","FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCMediaDevicesStore","RTCPreCallMicPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.$1=function(a){b("RTCUserSettingsActions").setAudioInput(a),this.props.onMediaDevicesChange&&this.props.onMediaDevicesChange({audioInput:a})}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")])}a.getStores=function(){return[b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]};a.calculateState=function(){return{audioInput:b("RTCUserSettingsStore").getState().audioInput,audioDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"audioinput"),isAudioMuted:b("RTCCallStore").getState().localUser.isAudioMuted()}};a.prototype.render=function(){return b("React").createElement("div",{className:"_142c"},b("React").createElement(b("RTCPreCallMicPreview.react"),{audioInput:this.state.audioInput,isAudioMuted:this.state.isAudioMuted}),b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:this.state.audioDevices,disabled:this.state.isAudioMuted,onChange:this.$1,selectorType:"audioinput",theme:b("SUIMessengerRTCDarkTheme"),value:this.state.audioInput,width:148}))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCRemotePeerInfo.react",["cx","fbt","Image.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){a=a.peer;return b("React").createElement("div",{className:"_1h0c"},b("React").createElement("div",{className:"_6f_i"},b("React").createElement("p",{className:"_6f_j"},a.meetingID!=null?"#"+a.meetingID:a.userName),b("React").createElement("p",{className:"_6f_k"},b("React").createElement(i,{peer:a}))),b("React").createElement(b("Image.react"),{alt:h._("Room Profile Picture"),className:"_1h11",src:a.profilePictureUrl}))};var i=function(a){var b=a.peer;return b.meetingID!=null?a.peer.meetingPassword!=null?h._("Password: {number}",[h._param("number",a.peer.meetingPassword)]):h._("Meeting ID"):b.roomLocation!=null?b.roomLocation:null};e.exports=a}),null);
__d("RTCPreCallSetup.react",["ix","cx","fbt","Image.react","React","RTCConferenceState","RTCP2PActiveMediaDeviceContainer.react","RTCPreCallAudioOutputContainer.react","RTCPreCallCameraContainer.react","RTCPreCallMicrophoneContainer.react","RTCRemotePeerInfo.react","RTCTextButton.react","VideoCallWebDriverIDs","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.render=function(){switch(this.props.conferenceState){case b("RTCConferenceState").NEW:case b("RTCConferenceState").AWAITING_USER_START:return b("React").createElement(k,{callButtonLabel:this.props.peer.meetingID!=null?i._("Join Meeting"):i._("D\u00e9marrer l\u2019appel"),dataTestId:b("VideoCallWebDriverIDs").RTC_APP_VIEW_START_CALL_BUTTON,isAudioMuted:this.props.isAudioMuted,isVideoMuted:this.props.isVideoMuted,onClick:this.$1(this.props.conferenceState),peer:this.props.peer,showEndCallReason:!1});case b("RTCConferenceState").TERMINATED:return b("React").createElement(k,{callButtonLabel:i._("Recomposer le num\u00e9ro"),dataTestId:b("VideoCallWebDriverIDs").REDIAL_BUTTON,endCallReason:this.props.endCallReason,isAudioMuted:this.props.isAudioMuted,isVideoMuted:this.props.isVideoMuted,onClick:this.$1(this.props.conferenceState),peer:this.props.peer,showEndCallReason:!0});default:return null}};a.prototype.$1=function(a){return function(){return this.props.onClick(a)}.bind(this)};function a(){j.apply(this,arguments)}var k=function(a){return b("React").createElement("div",{className:"_4m1g"},b("React").createElement("div",{className:"_6p8a"},b("React").createElement(b("RTCRemotePeerInfo.react"),{peer:a.peer}),b("React").createElement("div",{className:"_2pil"},a.showEndCallReason?a.endCallReason?b("React").createElement("div",{className:"_6pls"},a.endCallReason.toString(!0)):null:b("React").createElement(l,{isAudioMuted:a.isAudioMuted,isVideoMuted:a.isVideoMuted}),b("React").createElement(b("RTCTextButton.react"),{className:"precall","data-testid":a.dataTestId,label:a.callButtonLabel,onClick:a.onClick}))),b("React").createElement("div",{className:"_6p8b"},b("React").createElement(m,{className:"_3v59"},i._("Test your Camera and Microphone")),b("React").createElement(b("RTCP2PActiveMediaDeviceContainer.react"),null,function(a){return b("React").createElement("div",null,b("React").createElement(b("RTCPreCallCameraContainer.react"),{onMediaDevicesChange:a}),b("React").createElement(m,null,b("React").createElement(b("RTCPreCallMicrophoneContainer.react"),{onMediaDevicesChange:a}),b("React").createElement(b("RTCPreCallAudioOutputContainer.react"),null)))})))},l=function(a){if(!a.isVideoMuted&&!a.isAudioMuted)return null;a.isVideoMuted?a=a.isAudioMuted?i._("You will be joining this call with microphone and camera disabled"):i._("You will be joining this call with audio only"):a=i._("You will be joining the call with your microphone disabled");return b("React").createElement("div",{className:"_6pls"},b("React").createElement("div",{className:"_6uo2"},b("React").createElement(b("Image.react"),{src:g("504082")})),b("React").createElement("div",{className:"_3-93"},a))},m=function(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_4m1o"),style:a.style},a.children)};e.exports=a}),null);
__d("RTCPreCallSetupContainer.react",["CollabCallMessengerBrowserEventEnum","CollabInitStreamTriggerType","FBRTCLogger","FluxContainer","React","RTCAppDispatcher","RTCCallActions","RTCCallLogActions","RTCCallStore","RTCConferenceState","RTCP2PCallStore","RTCP2PProtocolHandler","RTCPreCallSetup.react","RTCUserSettingsStore","generateRTCCallID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){g.constructor.call(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")])}a.getStores=function(){return[b("RTCCallStore"),b("RTCP2PCallStore")]};a.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo,d=a.localUser;a=a.remoteUsers;var e=b("RTCP2PCallStore").getState();e=e.endCallReason;return{conferenceState:c.conferenceState,endCallReason:e,isAudioMuted:d.isAudioMuted(),isVideoMuted:d.isVideoMuted(),peer:a.first()}};a.prototype.componentDidUpdate=function(a,c){if(c.conferenceState===b("RTCConferenceState").TERMINATING&&this.state.conferenceState===b("RTCConferenceState").TERMINATED){a=b("RTCUserSettingsStore").getState();c=a.audioInput;a=a.videoInput;b("RTCP2PProtocolHandler").initStream(!0,c,a).then(function(a){return b("RTCCallActions").addLocalStream(a)})["catch"](function(a){b("RTCCallLogActions").logEvent(b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,{error:a.name,constraint:a.constraint,trigger:b("CollabInitStreamTriggerType").REDIAL})})}};a.prototype.$1=function(a){a===b("RTCConferenceState").TERMINATED?(b("RTCCallActions").reset(b("generateRTCCallID")().toString()),b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.REDIAL_BUTTON)):b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.VC_PRECALL_SETUP)};a.prototype.render=function(){return b("React").createElement(b("RTCPreCallSetup.react"),babelHelpers["extends"]({},this.state,{onClick:this.$1}))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PAppViewContent.react",["cx","fbt","FBRTCConfig","React","RTCAppSpinner.react","RTCAppViewMain.react","RTCCallConnectionStatus.react","RTCCallStateInfo.react","RTCCallUser.react","RTCConferenceState","RTCP2PCallActions","RTCP2PConnectionStatus","RTCP2PIncallView.react","RTCP2PProtocolHandler","RTCP2PStartCallButton.react","RTCPreCallSetupContainer.react","RTCRingBackTone.react","RTCStarRating.react","RTCUtils","SignalsSimpleFadeOutContainer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();if(a.remoteUser==null)return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},b("React").createElement(b("RTCAppSpinner.react"),null));var c=a.awaitingEscalationACK,d=a.conferenceState,e=a.connectionStatus,f=a.endCallReason,g=a.escalationInProgress,m=a.escalationRequest,n=a.isAudioCall,o=a.isScreenContentPoppedOut,p=a.remoteUser,q=a.wasStarRatingDone;switch(d){case b("RTCConferenceState").NEW:return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("RTCUtils").showPreCallSetup(a.isCaller)?b("React").createElement(b("RTCPreCallSetupContainer.react"),null):b("React").createElement(b("RTCCallUser.react"),{isP2PCall:!0,user:p}),b("React").createElement(b("RTCAppSpinner.react"),null)));case b("RTCConferenceState").AWAITING_USER_START:return b("RTCUtils").showPreCallSetup(a.isCaller)?b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("React").createElement(b("RTCPreCallSetupContainer.react"),null))):b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("React").createElement(b("RTCCallUser.react"),{isP2PCall:!0,user:p}),b("React").createElement(b("RTCCallConnectionStatus.react"),null,h._("Pr\u00eat(e) \u00e0 appeler\u00a0?")),b("React").createElement(b("RTCP2PStartCallButton.react"),{conferenceState:d,isAudio:n})));case b("RTCConferenceState").CONNECTING:case b("RTCConferenceState").CONNECTED:var r=m&&c||g;return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!n},b("React").createElement(b("RTCP2PIncallView.react"),babelHelpers["extends"]({audioSinkID:a.audioOutput,renderScreenStreams:!o,user:p},{isAudioCall:n}),b("React").createElement(b("RTCCallStateInfo.react"),{className:n?"":"_2fsu"},b("React").createElement(b("RTCCallUser.react"),{isP2PCall:!0,user:p}),b("React").createElement(b("RTCCallConnectionStatus.react"),{connectionStatus:e},r?b("React").createElement(i,{awaitingEscalationACK:c,escalationInProgress:g,escalationRequest:m}):null),k(a.failureReason))),b("React").createElement(j,{conferenceState:d,connectionStatus:e}));case b("RTCConferenceState").TERMINATING:case b("RTCConferenceState").TERMINATED:o=b("RTCP2PProtocolHandler").showRedialButton();r=!o&&!q;if(r)return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCStarRating.react"),babelHelpers["extends"]({isGroupCall:!1,onDone:l,shouldCloseWindow:!0},{isAudioCall:n})));else return b("RTCUtils").showPreCallSetup(a.isCaller)?b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("React").createElement(b("RTCPreCallSetupContainer.react"),null))):b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1},b("React").createElement(b("RTCCallStateInfo.react"),null,b("React").createElement(b("RTCCallUser.react"),{isP2PCall:!0,user:p}),b("React").createElement(b("RTCCallConnectionStatus.react"),{connectionStatus:e},f?f.toString(b("FBRTCConfig").isVCEndpointCall()):null)))}return b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!1})};var i=function(a){if(a.escalationRequest)return a.awaitingEscalationACK?h._("Envoi de la r\u00e9ponse"):b("React").createElement("div",null,h._("Voudrait lancer une discussion vid\u00e9o..."),b("React").createElement("br",null),b("React").createElement("div",{className:"_46la _43ut"},h._("Cela activera votre vid\u00e9o.")));return a.escalationInProgress?h._("Demande de vid\u00e9o..."):null},j=function(a){return a.conferenceState===b("RTCConferenceState").CONNECTING?b("React").createElement(b("RTCRingBackTone.react"),{active:a.connectionStatus===b("RTCP2PConnectionStatus").RINGING}):null};function k(a){__p&&__p();var c;switch(a){case"denied":c=h._("Video request was denied...");break;case"cancelled":c=h._("Video request was cancelled...");break;case"timeout":c=h._("Video request timed out...");break;default:return null}return b("React").createElement("div",{className:"_46la"},b("React").createElement(b("SignalsSimpleFadeOutContainer.react"),{delay:1,duration:2},c))}function l(){b("RTCP2PCallActions").starRatingDone(!0)}e.exports=a}),null);
__d("RTCP2PAppViewContentContainer.react",["FluxContainer","React","RTCP2PAppViewContent.react","RTCP2PCallEscalationStore","RTCP2PCallStore","RTCUserSettingsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("RTCP2PCallEscalationStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};a.calculateState=function(){var a=b("RTCP2PCallEscalationStore").getState(),c=b("RTCP2PCallStore").getState(),d=c.isCaller;c=c.wasStarRatingDone;var e=b("RTCUserSettingsStore").getState();e=e.audioOutput;return{audioOutput:e,awaitingEscalationACK:a.awaitingACK,escalationInProgress:a.inProgress,escalationRequest:Boolean(a.request),isCaller:d,wasStarRatingDone:c,failureReason:a.failureReason}};a.prototype.render=function(){return b("React").createElement(b("RTCP2PAppViewContent.react"),babelHelpers["extends"]({},this.props,this.state))};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("RTCCallControlsEscalationAcceptButton.react",["cx","React","RTCCallControlsButtonWithLabel.react","RTCUICameraIcon.react","VideoCallWebDriverIDs","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.className;a=babelHelpers.objectWithoutProperties(a,["className"]);return b("React").createElement(b("RTCCallControlsButtonWithLabel.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"opaque redial icon-48"),"data-testid":b("VideoCallWebDriverIDs").ACCEPT_ESCALATION_CALL_BUTTON},a),b("React").createElement(b("RTCUICameraIcon.react"),null))};e.exports=a}),null);
__d("RTCCallControlsEscalationDeclineButton.react",["cx","React","RTCCallControlsButtonWithLabel.react","RTCUIXIcon.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.className;a=babelHelpers.objectWithoutProperties(a,["className"]);return b("React").createElement(b("RTCCallControlsButtonWithLabel.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"icon-48 closeWindow")},a),b("React").createElement(b("RTCUIXIcon.react"),null))};e.exports=a}),null);
__d("RTCP2PAppViewFooterUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getScreenSharingCallControlPopoverBody:function(a,b,c,d,e){if(a)return d?g._("Screen sharing is not currently available for Messenger to room calls."):g._("Le partage d\u2019\u00e9cran est d\u00e9sactiv\u00e9 pour cet appel, car l\u2019appareil de {name} ne prend pas en charge cette fonctionnalit\u00e9.",[g._param("name",e)]);else if(b)return g._("{name} partage d\u00e9j\u00e0 son \u00e9cran. Vous pourrez partager le v\u00f4tre d\u00e8s qu\u2019il ne partagera plus le sien.",[g._param("name",e)]);else if(c)return g._("Screen sharing is only available for video calls.");return null},getVideoCallControlPopoverTitle:function(a,b){return!a&&b?g._("Cam\u00e9ra introuvable"):null},getVideoCallControlPopoverBody:function(a,b,c,d){if(a)return g._("La vid\u00e9o est d\u00e9sactiv\u00e9e pour cet appel, car l\u2019appareil de {name} ne prend pas en charge la vid\u00e9o.",[g._param("name",d)]);else if(b)return g._("Connectez votre cam\u00e9ra et actualisez la page pour activer la vid\u00e9o. Si votre cam\u00e9ra est d\u00e9j\u00e0 connect\u00e9e, essayez de red\u00e9marrer votre navigateur.");else if(c)return g._("La vid\u00e9o est en pause car votre connexion est lente.");return null}};e.exports=a}),null);
__d("RTCP2PRedialButton.react",["cx","fbt","Bootloader","CollabCallMessengerBrowserEventEnum","CollabInitStreamTriggerType","FBRTCConfig","FBRTCConsoleLogger","FBRTCLogger","MessengerRTCFunnelLogger","React","RTCCallActions","RTCCallControlsButtonWithLabel.react","RTCCallStore","RTCP2PCallStore","RTCP2PProtocolHandler","RTCUIPhoneIcon.react","RTCUserSettingsStore","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","VideoCallWebDriverIDs","generateRTCCallID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;function j(event,a,c,d){if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],function(b){return b.log(event,{peerID:d.FBID,callID:Number(c),eventDetails:a})},"RTCP2PRedialButton.react")}function k(){__p&&__p();b("RTCCallActions").reset(b("generateRTCCallID")().toString());var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logClick(babelHelpers["extends"]({},a,{callType:b("RTWebLoggingCallType").P2P,component:b("RTWebLoggingComponent").REDIAL,surface:b("RTWebLoggingSurface").CALL_CONTAINER}));a=b("RTCUserSettingsStore").getState();var c=a.audioInput;a=a.videoInput;var d=b("RTCP2PCallStore").isAudioOnly();b("MessengerRTCFunnelLogger").startFunnel("RedialButton");b("MessengerRTCFunnelLogger").appendAction("user_media_requested");b("RTCP2PProtocolHandler").initStream(!d,c,a).then(function(a){b("MessengerRTCFunnelLogger").appendAction("user_media_succeeded"),b("RTCCallActions").addLocalStream(a),b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.REDIAL_BUTTON)})["catch"](function(a){b("MessengerRTCFunnelLogger").appendAction("user_media_rejected");var c=b("RTCCallStore").getState(),d=c.callInfo.conferenceName;c=c.remoteUsers;j(b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,JSON.stringify({error:a.name,constraint:a.constraint,trigger:b("CollabInitStreamTriggerType").REDIAL}),d,c.first())})}i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.componentDidMount=function(){var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logImpression(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!1),component:b("RTWebLoggingComponent").REDIAL,surface:b("RTWebLoggingSurface").CALL_CONTAINER}))};a.prototype.render=function(){return b("React").createElement(b("RTCCallControlsButtonWithLabel.react"),{className:"semiopaque icon-48","data-testid":b("VideoCallWebDriverIDs").REDIAL_BUTTON,onClick:k,title:h._("Recomposer le num\u00e9ro")},b("React").createElement(b("RTCUIPhoneIcon.react"),{variant:"start call"}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("RTCP2PAppViewFooter.react",["cx","fbt","Promise","Bootloader","CollabCallMessengerBrowserEventEnum","CollabInitStreamTriggerType","CollabRTCChromeScreenSharingExtension","FBRTCCallControlPopover.react","FBRTCConfig","FBRTCConsoleLogger","FBRTCScreenSharingUtils","FBRTCSupport","MercuryIDs","MessengerParticipants.bs","MessengerRTCFunnelLogger","React","RTCAppViewFooter.react","RTCCallActions","RTCCallControls.react","RTCCallControlsAddGroupMembersButton.react","RTCCallControlsButton.react","RTCCallControlsCloseWindowButton.react","RTCCallControlsEndCallButton.react","RTCCallControlsEscalationAcceptButton.react","RTCCallControlsEscalationDeclineButton.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleScreenSharingWithFunnelButton.react","RTCCallControlsToggleVideoButton.react","RTCCallControlsVideoEscalationButton.react","RTCCallStore","RTCChromeScreenSharingUtils","RTCConferenceState","RTCP2PAppViewFooterUtils","RTCP2PCallEscalationActions","RTCP2PCallEscalator","RTCP2PProtocolHandler","RTCP2PRedialButton.react","RTCSelfView.react","RTCUtils","RTWebClientFeatureGating","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","UserAgent","gkx","immutable","keyMirror","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RTCChromeScreenSharingUtils").getMediaRequestSourceAppId,k=1e4,l=b("keyMirror")({READY:null,SHOWN:null,COMPLETE:null}),m=255,n=320;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={forceVisible:l.READY,participants:b("immutable").Map(),showPopovers:!0},this.$1=0,this.$3=0,this.$4=null,this.$8=0,this.$10=0,this.shouldAlwaysShowRedial=!1,this.$14=function(){this.props.protocolHandler.endCall()}.bind(this),this.$13=function(a){b("RTWebClientFeatureGating").stopVideoWhenMute()?a?b("promiseDone")(b("RTCP2PProtocolHandler").initStream(!0),function(a){var c=this.props.localUser.getStream();c?b("RTCCallActions").replaceLocalStream(c,a):b("RTCCallActions").addLocalStream(a)}.bind(this)):b("RTCCallActions").stopLocalVideo():b("RTCCallActions").toggleMuteVideo(a)}.bind(this),this.$17=function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").VIDEO_ESCALATE_ACCEPT,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),b("RTCCallStore").mutateCallSummary(function(a){a.setVidEscalationAcceptedClick(),a.setVidEscalationMediaRequested()}),b("RTCP2PCallEscalator").acceptEscalation().then(function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaSuccess()})})["catch"](function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaFailed()}),this.$23(b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,JSON.stringify({error:a.name,constraint:a.constraint,trigger:b("CollabInitStreamTriggerType").ESCALATION_APPROVED})),b("MessengerRTCFunnelLogger").appendAction("escalation_user_media_rejected")}.bind(this))}.bind(this),this.$19=function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").VIDEO_ESCALATE,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationInitClick()}),this.props.escalationInProgress?b("RTCP2PCallEscalationActions").cancel():(b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaRequested()}),b("RTCP2PCallEscalator").initEscalation().then(function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaSuccess()})})["catch"](function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaFailed()}),b("MessengerRTCFunnelLogger").appendAction("escalation_user_media_rejected"),b("RTWebUserActionLogger").logError({errorDomain:"video_escalation_error",errorType:a.toString()}),this.$23(b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,JSON.stringify({error:a.name,constraint:a.constraint,trigger:b("CollabInitStreamTriggerType").ESCALATION_INITIATED}))}.bind(this)))}.bind(this),this.$20=function(a){this.$9!==a&&(this.$9=a,this.forceUpdate())}.bind(this),this.$21=function(a){this.$7!==a&&(this.$7=a,this.forceUpdate())}.bind(this),this.$11=function(a){a=a.width;if(this.$10===a)return;this.$10=a;this.$24()}.bind(this),this.$12=function(a){a=a.width;if(this.$1===a)return;this.$1=a;this.$24()}.bind(this),this.$22=function(a){a=a.width;if(this.$1===a)return;this.$1=a}.bind(this),this.$18=function(a){this.setState({showPopovers:a})}.bind(this),this.$15=function(a){a=a.width;if(this.$8===a)return;this.$8=a;this.$24()}.bind(this),c}a.prototype.componentDidMount=function(){if(b("gkx")("AT5cptvyk3v4q-mPX6FvPR1r8kJdnP0MgzuDdVra8DpZXuiu89qXhkgPD7OKcZn2j9_1ar1-0wqcgyg_FLY_IdusNDUe63z-hD6N3VThwJfBrw")){var a=b("MercuryIDs").getParticipantIDFromUserID(this.props.remoteUserID);b("MessengerParticipants.bs").get(a,function(c){var d;this.setState({participants:b("immutable").Map((d={},d[a]=c,d))})}.bind(this))}this.shouldAlwaysShowRedial=b("RTWebClientFeatureGating").shouldAlwaysShowRedial()};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.canPeerReceiveScreenSharing,d=a.conferenceState,e=a.escalationInProgress,f=a.hasRemoteScreenStream,g=a.initializeVideo,i=a.isAudioCall,j=a.isRemoteVideoSupported,k=a.localUser,m=a.remotePeerName,n=a.protocolHandler;a=a.wasStarRatingDone;var r=this.state.participants,s=b("RTCP2PProtocolHandler").supportMultipleStreams(),t=k.getScreenStream(),u=b("gkx")("AT5cptvyk3v4q-mPX6FvPR1r8kJdnP0MgzuDdVra8DpZXuiu89qXhkgPD7OKcZn2j9_1ar1-0wqcgyg_FLY_IdusNDUe63z-hD6N3VThwJfBrw")&&this.props.offerEscalationSupport&&b("FBRTCSupport").isGroupCallWebtrcSupported(),v=g||k.hasVideo();switch(d){case b("RTCConferenceState").AWAITING_USER_START:return b("FBRTCConfig").isVCEndpointCall()?b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$12,ref:function(a){return this.$2=a?a.getDOMNode():a}.bind(this)},b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:d,disabled:!b("FBRTCConfig").isVCEndpointCall(),initializeVideo:v,isP2P:!0,onToggle:this.$13,videoMuted:k.isVideoMuted()}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:k.isAudioMuted(),conferenceState:d,isP2P:!0}))):b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-7"});case b("RTCConferenceState").CONNECTING:return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$12,ref:function(a){return this.$2=a?a.getDOMNode():a}.bind(this)},b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:d,disabled:!b("FBRTCConfig").isVCEndpointCall(),initializeVideo:v,isP2P:!0,onToggle:this.$13,videoMuted:k.isVideoMuted()}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:k.isAudioMuted(),conferenceState:d,isP2P:!0}),b("React").createElement(p,{conferenceState:d,disabled:!0,protocolHandler:n,stream:t}),b("React").createElement(b("RTCCallControlsEndCallButton.react"),{conferenceState:d,isP2P:!0,onClick:this.$14})),b("React").createElement(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!s,isAudioCall:i,isP2P:!0,onResize:this.$15,onScreenSharingStop:function(a){return n.stopScreenStream(a)},user:k}));case b("RTCConferenceState").CONNECTED:if(this.props.escalationRequest){var w=this.props.awaitingEscalationACK;return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6"},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7"},b("React").createElement(b("RTCCallControlsEscalationDeclineButton.react"),{disabled:w,onClick:this.$16,title:h._("Refuser")}),b("React").createElement(b("RTCCallControlsEscalationAcceptButton.react"),{disabled:w,onClick:this.$17,title:h._("Accepter")})))}return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11},b("React").createElement(b("RTCCallControls.react"),{autoHide:!i&&this.state.forceVisible!==l.SHOWN,className:"_2s-7",onResize:this.$12,onUpdateVisibility:this.$18,ref:function(a){return this.$2=a?a.getDOMNode():a}.bind(this)},i&&j?b("React").createElement(b("RTCCallControlsVideoEscalationButton.react"),{onClick:this.$19,videoMuted:i&&!e}):b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:d,disabled:!j,initializeVideo:v,isP2P:!0,nodeRef:this.$20,onToggle:this.$13,videoMuted:k.isVideoMuted()}),this.state.showPopovers?b("React").createElement(o,{initializeVideo:g,isRemoteVideoSupported:j,localUser:k,peerName:m,referenceElement:this.$9,videoIsAutoDisabled:this.props.videoIsAutoDisabled}):null),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:k.isAudioMuted(),conferenceState:d,isP2P:!0}),b("React").createElement(p,{conferenceState:d,disabled:i||!c||f,nodeRef:this.$21,protocolHandler:n,stream:t}),this.state.showPopovers?b("React").createElement(q,{canPeerReceiveScreenSharing:c,hasRemoteScreenStream:f,isAudioCall:i,peerName:m,referenceElement:this.$7}):null,u?b("React").createElement(b("RTCCallControlsAddGroupMembersButton.react"),{conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,isEscalatedCall:!0,isP2P:!0,localUser:k,participants:r,remoteUsers:b("immutable").List(this.props.remoteUsers),showNux:this.props.showAddMemberNux,thread:null}):null,b("React").createElement(b("RTCCallControlsEndCallButton.react"),{conferenceState:d,isP2P:!0,onClick:this.$14})),b("React").createElement(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!s,isAudioCall:i,isP2P:!0,onResize:this.$15,onScreenSharingStop:function(a){return n.stopScreenStream(a)},user:k}));case b("RTCConferenceState").TERMINATING:return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$12,ref:function(a){return this.$2=a?a.getDOMNode():a}.bind(this)},b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:d,disabled:!0,initializeVideo:v,isP2P:!0,nodeRef:this.$20,onToggle:this.$13,videoMuted:!0}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:!0,conferenceState:d,disabled:!0,isP2P:!0}),b("React").createElement(p,{conferenceState:d,disabled:!0,nodeRef:this.$21,protocolHandler:n,stream:null}),b("React").createElement(b("RTCCallControlsEndCallButton.react"),{conferenceState:d,disabled:!0,isP2P:!0})),b("React").createElement(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!s,isAudioCall:i,isP2P:!0,onResize:this.$15,user:k}));case b("RTCConferenceState").TERMINATED:w=b("RTCUtils").showPreCallSetup(this.props.isCaller);e=(this.shouldAlwaysShowRedial||b("RTCP2PProtocolHandler").showRedialButton())&&!w;if(e||a)return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6"},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$22,ref:function(a){return this.$2=a?a.getDOMNode():a}.bind(this)},b("React").createElement(b("RTCP2PRedialButton.react"),null),this.props.shouldHideCloseButton?null:b("React").createElement(b("RTCCallControlsCloseWindowButton.react"),{showLabel:!0})));else if(w&&b("RTCP2PProtocolHandler").showRedialButton())return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11},b("React").createElement(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$12,ref:function(a){return this.$2=a?a.getDOMNode():a}.bind(this)},b("React").createElement(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:d,disabled:!b("FBRTCConfig").isVCEndpointCall(),initializeVideo:v,isP2P:!0,onToggle:this.$13,videoMuted:k.isVideoMuted()}),b("React").createElement(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:k.isAudioMuted(),conferenceState:d,isP2P:!0})));return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-7"});default:return b("React").createElement(b("RTCAppViewFooter.react"),{className:"_2s-7"})}};a.prototype.$16=function(){b("RTWebUserActionLogger").logClick({component:b("RTWebLoggingComponent").VIDEO_ESCALATE_DECLINE,surface:b("RTWebLoggingSurface").CALL_CONTROLS}),b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationDeclinedClick()}),b("RTCP2PCallEscalator").declineEscalation()};a.prototype.$24=function(){__p&&__p();if(this.$10===0||this.$1===0)return;var a=Math.min(0,this.$10/2-(this.$1/2+this.$8));if(a===this.$3)return;this.$3=a;if(this.$2){var b=this.$2.style;b.transition="none";this.$4=requestAnimationFrame(function(){b.transform="translateX("+this.$3+"px)",b.transition=""}.bind(this))}};a.prototype.$25=function(a){var b=this.props,c=b.localUser;b=b.videoIsAutoDisabled;a=a.forceVisible;b||c.hasStream()&&!c.hasVideo()?a===l.READY&&(this.setState({forceVisible:l.SHOWN}),this.$5=setTimeout(function(){this.setState({forceVisible:l.COMPLETE})}.bind(this),k)):a===l.SHOWN&&this.setState({forceVisible:l.COMPLETE})};a.prototype.$23=function(event,a){if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],function(b){return b.log(event,{peerID:this.props.remoteUserID,callID:Number(this.props.callID),eventDetails:a})}.bind(this),"RTCP2PAppViewFooter.react")};a.prototype.componentDidUpdate=function(a,b){this.$25(b)};a.prototype.componentWillUnmount=function(){cancelAnimationFrame(this.$4),clearTimeout(this.$5)};a.defaultProps={isRemoteVideoSupported:!0,videoIsAutoDisabled:!1};var o=function(a){var c=a.initializeVideo,d=a.isRemoteVideoSupported,e=a.localUser,f=a.peerName,g=a.referenceElement;a=a.videoIsAutoDisabled;var i=b("RTCP2PAppViewFooterUtils").getVideoCallControlPopoverTitle(!d,!e.hasVideo()&&c);d=b("RTCP2PAppViewFooterUtils").getVideoCallControlPopoverBody(!d,!e.hasVideo()&&c,a,f);return b("React").createElement(b("FBRTCCallControlPopover.react"),{body:d,className:"_26bw",hideOnBlur:!0,label:h._("Statut d\u2019erreur vid\u00e9o"),referenceElement:g,title:i,width:n})},p=function(a){var c=a.conferenceState,d=a.disabled,e=a.nodeRef,f=a.protocolHandler;a=a.stream;return b("FBRTCScreenSharingUtils").isScreenSharingSupported()?b("React").createElement(b("RTCCallControlsToggleScreenSharingWithFunnelButton.react"),{conferenceState:c,disabled:d,isP2P:!0,onExtensionInstallStart:function(){return b("UserAgent").isBrowser("Chrome")?b("CollabRTCChromeScreenSharingExtension").install(j()):b("Promise").reject("unexpected browser")},onShareStarted:function(a){return f.startScreenStream(a)},onShareStop:function(a){return f.stopScreenStream(a)},onShareStreamUpdate:function(a,b){return f.updateScreenStream(a,b)},ref:e,stream:a}):null},q=function(a){var c=a.canPeerReceiveScreenSharing,d=a.hasRemoteScreenStream,e=a.isAudioCall,f=a.peerName;a=a.referenceElement;if(!b("FBRTCScreenSharingUtils").isScreenSharingSupported())return null;var g=null;c=b("RTCP2PAppViewFooterUtils").getScreenSharingCallControlPopoverBody(!c,d,e,b("FBRTCConfig").isVCEndpointCall(),f);return b("React").createElement(b("FBRTCCallControlPopover.react"),{body:c,className:"_26bw",hideOnBlur:!0,label:h._("\u00c9tat du partage d\u2019\u00e9cran"),referenceElement:a,title:g,width:m})};e.exports=a}),null);
__d("RTCP2PAppViewFooterContainer.react",["FluxContainer","React","RTCAppDispatcher","RTCCallNUXStore","RTCCallStore","RTCP2PAppViewFooter.react","RTCP2PCallEscalationStore","RTCP2PCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=babelHelpers.inherits(h,b("React").PureComponent);g=a&&a.prototype;h.getStores=function(){return[b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCP2PCallEscalationStore"),b("RTCCallNUXStore")]};h.calculateState=function(){var a=b("RTCP2PCallEscalationStore").getState(),c=b("RTCP2PCallStore").getState(),d=b("RTCCallStore").getState();return{awaitingEscalationACK:a.awaitingACK,escalated:a.escalated,escalationInProgress:a.inProgress,escalationRequest:Boolean(a.request),isCaller:c.isCaller,offerEscalationSupport:c.offerEscalationSupport,protocolHandler:c.protocolHandler,remoteUsers:d.remoteUsers,showAddMemberNux:b("RTCCallNUXStore").getState().showAddGroupMemberNUX,wasStarRatingDone:c.wasStarRatingDone}};function h(){g.constructor.call(this),b("RTCAppDispatcher").explicitlyRegisterStores([].concat(h.getStores()))}h.prototype.render=function(){return b("React").createElement(b("RTCP2PAppViewFooter.react"),babelHelpers["extends"]({},this.props,this.state))};e.exports=b("FluxContainer").create(h)}),null);
__d("RTCUIPopoutIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.filledWindow;c=c===void 0?"front":c;a=babelHelpers.objectWithoutProperties(a,["filledWindow"]);return b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},c==="front"?b("React").createElement("path",{d:"M26 23H14.012a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2H26a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm9.994-8H24.006a2 2 0 0 0-2 2v4.997h2V17h11.988v8h-6.967v2h6.967a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2z"}):b("React").createElement("path",{d:"M36.01 14.996H24.02a2 2 0 0 0-2 2v4.997h4.028a3 3 0 0 1 3 3v2.003h6.96a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm-10.004 8.007H14.018a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11.988a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm0 10H14.018v-8h11.988v8z"})))};e.exports=a}),null);
__d("RTCCallControlsPopOutScreenContentButton.react",["cx","fbt","FluxContainer","React","RTCAppDispatcher","RTCCallControlsButton.react","RTCCallNUXActions","RTCCallNUXIDs","RTCCallNUXStore","RTCP2PCallActions","RTCUIPopoutIcon.react","XUIAmbientNUX.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;a.getStores=function(){return[b("RTCCallNUXStore")]};a.calculateState=function(a){a===void 0&&(a={});return babelHelpers["extends"]({},a,{showNUX:b("RTCCallNUXStore").getState().showRemoteScreenContentPopOutNUX})};function a(a){i.constructor.call(this,a),this.$2=function(){this.state.showNUX&&j(),b("RTCP2PCallActions").togglePopOutScreenContent(this.props.mediaStream)}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")])}a.prototype.render=function(){var a=this.props.mediaStream==null,c=a?h._("Afficher le contenu partag\u00e9"):h._("Ouvrir le contenu partag\u00e9 dans une nouvelle fen\u00eatre");return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCCallControlsButton.react"),{className:b("joinClasses")(this.props.className,"transparent icon-50"),onClick:this.props.onClick||this.$2,ref:function(a){return this.$1=a}.bind(this),title:this.props.title||c},b("React").createElement(b("RTCUIPopoutIcon.react"),{filledWindow:a?"back":"front"})),b("React").createElement(k,{contextRef:function(){return this.$1}.bind(this),shown:this.state.showNUX&&this.props.mediaStream!=null}))};a.prototype.componentDidMount=function(){this.$3()};a.prototype.componentDidUpdate=function(){this.$3()};a.prototype.$3=function(){this.state.showNUX&&this.props.mediaStream!=null&&b("RTCCallNUXActions").markNUXViewed(b("RTCCallNUXIDs").RTC_P2P_REMOTE_SCREEN_CONTENT_POP_OUT_NUX)};function j(){b("RTCCallNUXActions").dismissNUX(b("RTCCallNUXIDs").RTC_P2P_REMOTE_SCREEN_CONTENT_POP_OUT_NUX)}var k=function(a){return b("React").createElement(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:j,position:"below",width:"auto"},a),h._("Affichez le contenu partag\u00e9 dans une autre fen\u00eatre"))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCSettingsAudioOutputPreview.react",["cx","Promise","FBRTCLogger","FBRTCUtils","MercurySoundsConfig","React","ShimButton.react","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={currentTime:0,disabled:!0,duration:0,playing:!1},this.$5=function(){var a=this.$1;if(!a||this.state.disabled)return;this.state.playing?(a.pause(),a.currentTime=0,this.$11()):(this.setState({disabled:!0}),b("promiseDone")(b("Promise").resolve(a.play()),function(){return this.setState({disabled:!1})}.bind(this)))}.bind(this),this.$12=function(a){a&&(this.$2=a)}.bind(this),this.$13=function(a){a&&(a.volume=.3,this.$1=a)}.bind(this),this.$14=function(a){a=a.target;this.setState({disabled:!1,duration:a.duration})}.bind(this),this.$15=function(){clearInterval(this.$3);this.setState({playing:!0,currentTime:0});var a=Date.now(),b=function(){return this.setState({currentTime:(Date.now()-a)/1e3})}.bind(this);b();this.$3=setInterval(b,40)}.bind(this),this.$11=function(){clearInterval(this.$3),this.$3=setTimeout(function(){return this.setState({playing:!1,currentTime:0})}.bind(this),250)}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("ShimButton.react"),{className:"_10mu",onClick:this.$5,tabIndex:0},this.$6(),this.$7(),this.$8(),this.$9(),this.$10())};a.prototype.$6=function(){return b("React").createElement("audio",{ref:this.$12,autoPlay:!0})};a.prototype.$7=function(){return b("React").createElement("audio",{ref:this.$13,autoPlay:!1,loop:!1,preload:"auto",onDurationChange:this.$14,onPlay:this.$15,onEnded:this.$11},b("React").createElement("source",{src:b("MercurySoundsConfig").settings_preview_sound_mp3_url,type:"audio/mpeg"}),b("React").createElement("source",{src:b("MercurySoundsConfig").settings_preview_sound_ogg_url,type:"audio/ogg"}))};a.prototype.$8=function(){var a=this.state.playing?b("React").createElement("path",{d:"M7 5h2v10H7V5zm4 0h2v10H11V5z"}):b("React").createElement("path",{d:"M7 6l6 4-6 4"});return b("React").createElement("svg",{className:"_odh button",viewBox:"0 0 20 20"},a)};a.prototype.$9=function(){var a=this.state,c=a.duration;a=a.currentTime;return b("React").createElement("div",{className:"_odz"},b("React").createElement("div",{className:"_od-",style:{transform:"scaleX("+(c?a/c:0)+")"}}))};a.prototype.$10=function(){var a=this.state.playing?this.state.currentTime:this.state.duration;return b("React").createElement("div",{className:"_odh text"},Math.floor(a)+"s")};a.prototype.componentDidMount=function(){var a=this.props,b=a.sinkID;a=a.mediaStream;this.$16(a);this.$4=setTimeout(function(){return this.$17(b)}.bind(this),1e3)};a.prototype.componentDidUpdate=function(a){var b=this.props,c=b.sinkID;b=b.mediaStream;b!==a.mediaStream?(this.$16(b),this.$17(c)):c!==a.sinkID&&this.$17(c)};a.prototype.$16=function(a){this.$2&&a&&b("FBRTCUtils").attachMediaStream(this.$2,a)};a.prototype.$17=function(a){clearTimeout(this.$4);if(!this.$18()||!a)return;[this.$2,this.$1].reduce(function(b,c){return c?b.then(function(){return c.setSinkId(a)}):b},b("Promise").resolve())["catch"](function(a){})};a.prototype.$18=function(){var a=HTMLAudioElement;a=a.prototype;return"sinkId"in a&&typeof a.setSinkId==="function"};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.pause(),clearInterval(this.$3),clearTimeout(this.$4),this.$2=null,this.$1=null};a.defaultProps={sinkID:null};e.exports=a}),null);
__d("RTCSettingsDialog.react",["cx","fbt","FBRTCConfig","FBRTCLogger","FBRTCUtils","FBRTCVideo.react","Link.react","React","RTCDialog.react","RTCDialogBody.react","RTCDialogHeader.react","RTCDialogHeaderButton.react","RTCP2PProtocolHandler","RTCSettingsAudioInputPreview.react","RTCSettingsAudioOutputPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserMediaConstraints","RTCUserSettingsActions","RTCUtils","SUIMessengerRTCLightTheme","SUIText.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={audioInput:this.props.audioInput,audioOutput:this.props.audioOutput,mediaStream:null,videoInput:this.props.videoInput},this.$2=function(){b("RTCUserSettingsActions").cancel(),this.props.onHideDialog()}.bind(this),this.$3=function(){var a=this.state,c=a.audioInput,d=a.audioOutput;a=a.videoInput;b("RTCUserSettingsActions").save({audioInput:c,audioOutput:d,videoInput:a});this.props.onHideDialog()}.bind(this),c}a.prototype.componentDidMount=function(){b("RTCUserSettingsActions").edit(),this.$1()["catch"](r)};a.prototype.componentWillUnmount=function(){var a=this.state.mediaStream;a&&b("RTCUtils").stopMediaStream(a)};a.prototype.render=function(){return!this.props.devices?null:b("React").createElement(b("RTCDialog.react"),{label:"Video and audio call settings",onToggle:this.props.onHideDialog,width:544},b("React").createElement(m,{onCancel:this.$2,onSave:this.$3}),b("React").createElement(b("RTCDialogBody.react"),null,this.props.isAudioOnly?null:b("React").createElement(j,{devices:this.props.devices,mediaStream:this.state.mediaStream,onVideoInputChange:function(a){return this.$4({videoInput:a})}.bind(this),selectedVideoInput:this.state.videoInput}),b("React").createElement(k,{devices:this.props.devices,mediaStream:this.state.mediaStream,onAudioInputChange:function(a){return this.$4({audioInput:a})}.bind(this),selectedAudioInput:this.state.audioInput}),b("FBRTCUtils").supportsSetSink()?b("React").createElement(l,{devices:this.props.devices,mediaStream:this.props.remoteStream,onAudioOutputChange:function(a){return this.$4({audioOutput:a})}.bind(this),selectedAudioOutput:this.state.audioOutput}):null,b("React").createElement(n,null)))};a.prototype.$4=function(a){this.setState(a,function(){this.$1()["catch"](r)}.bind(this))};a.prototype.$1=function(){var a=this.state,c=a.audioInput,d=a.mediaStream;a=a.videoInput;return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(c),video:this.props.isAudioOnly?!1:b("RTCUserMediaConstraints").video(b("RTCP2PProtocolHandler").getDefaultVideoQuality(),a)}).then(function(a){d&&b("RTCUtils").stopMediaStream(d),this.setState({mediaStream:a})}.bind(this))};var j=function(a){return b("React").createElement(o,{className:"_10mn"},b("React").createElement(p,null,b("React").createElement(q,null,h._("Cam\u00e9ra"))),b("React").createElement(p,null,b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"videoinput"),onChange:a.onVideoInputChange,value:a.selectedVideoInput,width:212})),b("React").createElement(p,null,b("React").createElement(b("FBRTCVideo.react"),{className:"_10mo",mediaStream:a.mediaStream,muted:!0})))},k=function(a){return b("React").createElement(o,{className:"_10mn"},b("React").createElement(p,null,b("React").createElement(q,null,h._("Microphone"))),b("React").createElement(p,null,b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"audioinput"),onChange:a.onAudioInputChange,value:a.selectedAudioInput,width:212})),b("React").createElement(p,null,b("React").createElement(b("RTCSettingsAudioInputPreview.react"),{mediaStream:a.mediaStream})))},l=function(a){return b("React").createElement(o,{className:"_10mn"},b("React").createElement(p,null,b("React").createElement(q,null,h._("Sortie audio"))),b("React").createElement(p,null,b("React").createElement(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"audiooutput"),onChange:a.onAudioOutputChange,value:a.selectedAudioOutput,width:212})),b("React").createElement(p,null,b("React").createElement(b("RTCSettingsAudioOutputPreview.react"),{mediaStream:a.mediaStream,sinkID:a.selectedAudioOutput})))},m=function(a){return b("React").createElement(b("RTCDialogHeader.react"),null,b("React").createElement("h1",{className:"_10mm"},h._("Param\u00e8tres")),b("React").createElement(b("RTCDialogHeaderButton.react"),{label:h._("Annuler"),onClick:a.onCancel}),b("React").createElement(b("RTCDialogHeaderButton.react"),{label:h._("Enregistrer"),onClick:a.onSave}))},n=function(){return b("React").createElement("footer",{className:"_10mv _10mn"},b("React").createElement(p,null,b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"header4",theme:b("SUIMessengerRTCLightTheme")},h._("Conseil\u00a0: red\u00e9marrez le navigateur si vous avez des probl\u00e8mes avec votre cam\u00e9ra ou votre micro."))),b("React").createElement(p,null,b("React").createElement(b("SUIText.react"),{color:"blueLink",size:"header4",theme:b("SUIMessengerRTCLightTheme")},b("React").createElement(b("Link.react"),{href:b("FBRTCConfig").userMediaErrorUrl(),target:"_blank"},h._("Obtenir de l\u2019aide")))))},o=function(a){var c=a.children,d=a.className;a=babelHelpers.objectWithoutProperties(a,["children","className"]);return b("React").createElement("section",babelHelpers["extends"]({className:b("joinClasses")(d,"_10mx")},a),c)},p=function(a){var c=a.children;a=babelHelpers.objectWithoutProperties(a,["children"]);return b("React").createElement("div",babelHelpers["extends"]({className:"_10my"},a),c)},q=function(a){a=a.children;return b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"header3",theme:b("SUIMessengerRTCLightTheme")},a)};function r(a){}e.exports=a}),null);
__d("RTCSettingsContainer.react",["FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCCallType","RTCMediaDevicesStore","RTCP2PCallStore","RTCSettingsDialog.react","RTCUserSettingsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=babelHelpers.inherits(h,b("React").PureComponent);g=a&&a.prototype;function h(a){g.constructor.call(this,a),b("RTCAppDispatcher").explicitlyRegisterStores([].concat(h.getStores())),b("RTCMediaDevicesStore").refresh()}h.getStores=function(){return[b("RTCMediaDevicesStore"),b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};h.calculateState=function(){var a=b("RTCCallStore").getState();a=a.remoteUsers;var c=b("RTCP2PCallStore").getState();c=c.callType;var d=b("RTCUserSettingsStore").getState(),e=d.audioInput,f=d.audioOutput;d=d.videoInput;a=a?a.first():null;return{audioInput:e,audioOutput:f,devices:b("RTCMediaDevicesStore").getState(),isAudioOnly:c===b("RTCCallType").AUDIO_ONLY,remoteStream:a?a.streams.first():null,videoInput:d}};h.prototype.render=function(){return b("React").createElement(b("RTCSettingsDialog.react"),babelHelpers["extends"]({},this.props,this.state))};e.exports=b("FluxContainer").create(h)}),null);
__d("RTCUISettingsCogIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1="",this.$2=function(a){a&&(this.$1=a.getURL(),this.forceUpdate())}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.variant,d=a.shadow;a=babelHelpers.objectWithoutProperties(a,["variant","shadow"]);return d?b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement("defs",null,b("React").createElement(b("RTCSVGIconDropShadowFilter.react"),{height:24,ref:this.$2,width:24})),b("React").createElement("g",{filter:this.$1},b("React").createElement(h,{variant:c})))):b("React").createElement(b("RTCSVGIcon.react"),a,b("React").createElement("svg",{viewBox:"0 0 50 50"},b("React").createElement(h,{variant:c})))};a.defaultProps={variant:"outline"};var h=function(a){a=a.variant;return a==="outline"?b("React").createElement("g",{strokeWidth:"2"},b("React").createElement("path",{d:"M34.1 23.4l-1.4-.2c-1.1-.2-1.7-1.5-1-2.4l.8-1.1c.3-.4.3-1-.1-1.3l-.9-.9c-.3-.4-.9-.4-1.3-.1l-1.1.8c-.9.7-2.2.1-2.4-1l-.2-1.4c-.1-.5-.5-.9-1-.9h-1.3c-.5 0-.9.4-1 .9l-.2 1.4c-.2 1.1-1.5 1.7-2.4 1l-1.1-.8c-.4-.3-1-.3-1.3.1l-.9.9c-.3.4-.4.9-.1 1.3l.8 1.1c.7.9.1 2.2-1 2.4l-1.4.2c-.5.1-.9.5-.9 1v1.3c0 .5.4.9.9 1l1.4.2c1.1.2 1.7 1.5 1 2.4l-.8 1.1c-.3.4-.3 1 .1 1.3l.9.9c.3.4.9.4 1.3.1l1.1-.8c.9-.7 2.2-.1 2.4 1l.2 1.4c.1.5.5.9 1 .9h1.3c.5 0 .9-.4 1-.9l.2-1.4c.2-1.1 1.5-1.7 2.4-1l1.1.8c.4.3 1 .3 1.3-.1l.9-.9c.4-.4.4-.9.1-1.3l-.8-1.1c-.7-.9-.1-2.2 1-2.4l1.4-.2c.5-.1.9-.5.9-1v-1.3c0-.5-.4-1-.9-1z",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),b("React").createElement("circle",{cx:"25",cy:"25",fill:"none",r:"3.5"})):b("React").createElement("path",{d:"M34.2 22.9l-1.4-.2c-.4-.1-.6-.3-.8-.6-.1-.3-.1-.7.1-1L33 20c.4-.6.4-1.4-.1-2l-.9-.9c-.3-.3-.7-.4-1.1-.4-.3 0-.6.1-.9.3l-1.1.8c-.2.1-.4.2-.6.2-.4 0-.9-.3-1-.9l-.2-1.4c-.1-.7-.7-1.3-1.5-1.3h-1.3c-.7 0-1.4.5-1.5 1.3l-.2 1.4c-.1.6-.6.9-1 .9-.2 0-.4-.1-.6-.2l-1-.8c-.3-.2-.6-.3-.9-.3-.4 0-.8.2-1.1.4l-.9.9c-.5.5-.6 1.4-.1 2l.8 1.1c.2.3.3.6.1 1-.1.3-.4.6-.8.6l-1.4.2c-.7.1-1.3.7-1.3 1.5v1.3c0 .7.5 1.4 1.3 1.5l1.4.2c.3.1.6.3.8.6s.1.7-.1 1l-.8 1c-.4.6-.4 1.4.1 2l.9.9c.3.3.7.4 1.1.4.3 0 .6-.1.9-.3l1.1-.8c.2-.1.4-.2.6-.2.4 0 .9.3 1 .9l.2 1.4c.1.7.7 1.3 1.5 1.3h1.3c.7 0 1.4-.5 1.5-1.3l.2-1.4c.1-.6.6-.9 1-.9.2 0 .4.1.6.2l1 .8c.3.2.6.3.9.3.4 0 .8-.2 1.1-.4l.9-.9c.5-.5.6-1.4.1-2l-.8-1.1c-.2-.3-.3-.7-.1-1 .1-.3.4-.6.8-.6l1.4-.2c.7-.1 1.3-.7 1.3-1.5v-1.3c-.1-.7-.6-1.3-1.4-1.4zM25 28.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"})};e.exports=a}),null);
__d("RTCCallControlsShowSettingsButton.react",["cx","fbt","FBRTCUserSettings","FluxContainer","React","RTCAppDispatcher","RTCCallControlsButton.react","RTCCallNUXActions","RTCCallNUXIDs","RTCCallNUXStore","RTCCallStore","RTCHotKeys","RTCHotKeysConfig","RTCSettingsContainer.react","RTCUISettingsCogIcon.react","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","XUIAmbientNUX.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RTCHotKeysConfig").RTCHotKey;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;a.getStores=function(){return[b("RTCCallNUXStore")]};a.calculateState=function(a){a===void 0&&(a={highlighted:!1,pressed:!1});return babelHelpers["extends"]({},a,{showNux:b("RTCCallNUXStore").getState().showSettingsNUX})};function a(a){i.constructor.call(this,a),this.$3=function(){if(!b("FBRTCUserSettings").isEnabled())return;var a=this.context;a&&a.dialogShow&&a.dialogHide&&(a.dialogShow(b("React").createElement(b("RTCSettingsContainer.react"),{onHideDialog:this.$4})),this.setState({highlighted:!0}));this.state.showNux&&k();a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logClick(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").SETTINGS,surface:b("RTWebLoggingSurface").CALL_CONTROLS}))}.bind(this),this.$4=function(){this.setState({highlighted:!1}),this.context.dialogHide()}.bind(this),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")])}a.prototype.render=function(){__p&&__p();var a=this.state,c=a.highlighted;a=a.pressed;var d=this.props,e=d.isAudioOnly;d=d.className;a=c?a?"outline":"filled":a?"filled":"outline";return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCCallControlsButton.react"),{className:b("joinClasses")("transparent icon-50",d),highlighted:c,onClick:this.$3,onMouseDown:function(){return this.setState({pressed:!0})}.bind(this),onMouseUp:function(){return this.setState({pressed:!1})}.bind(this),ref:function(a){return this.$2=a}.bind(this),title:h._("Param\u00e8tres")},b("React").createElement(b("RTCUISettingsCogIcon.react"),{shadow:!e,variant:a})),b("React").createElement(l,{contextRef:function(){return this.$2}.bind(this),shown:this.state.showNux}))};a.prototype.componentDidMount=function(){this.$5();var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logImpression(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:b("RTWebLoggingComponent").SETTINGS,surface:b("RTWebLoggingSurface").CALL_CONTROLS}));this.$1=b("RTCHotKeys").register(j.SETTINGS,this.$3)};a.prototype.componentDidUpdate=function(){this.$5()};a.prototype.$5=function(){this.state.showNux&&b("RTCCallNUXActions").markNUXViewed(b("RTCCallNUXIDs").RTC_P2P_SETTINGS_NUX)};a.prototype.componentWillUnmount=function(){var a=this.context;this.state.highlighted&&a&&a.dialogHide&&a.dialogHide();this.$1&&this.$1.remove()};a.contextTypes={dialogShow:c.func,dialogHide:c.func};function k(){b("RTCCallNUXActions").dismissNUX(b("RTCCallNUXIDs").RTC_P2P_SETTINGS_NUX)}var l=function(a){return b("React").createElement(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:k,position:"below",width:"auto"},a),h._("Changez de microphone, cam\u00e9ra ou haut-parleur"))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PAppViewHeader.react",["FBRTCConfig","FBRTCUserSettings","JSResource","Placeholder.react","React","RTCAppViewHeader.react","RTCCallControls.react","RTCCallControlsChatButton.react","RTCCallControlsPopOutScreenContentButton.react","RTCCallControlsShowSettingsButton.react","RTCCallControlsToggleFullScreenButton.react","RTCCallNUXStore","RTCConferenceState","RTCP2PCallStore","UserAgent","lazyLoadComponent","BootloaderResource"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("lazyLoadComponent")(b("JSResource")("RTCCallControlsShowCameraControlsButton.react").__setRef("RTCP2PAppViewHeader.react")),h=b("lazyLoadComponent")(b("JSResource")("RTCMediaStateController.react").__setRef("RTCP2PAppViewHeader.react"));a=function(a){var c=a.callID,d=a.conferenceName,e=a.conferenceState,f=a.isAudioCall,l=a.isScreenContentPoppedOut;a=a.remoteUser;var m=!k({callID:c,conferenceName:d,conferenceState:e,isAudioCall:f,isScreenContentPoppedOut:l,remoteUser:a});b("FBRTCConfig").isVCEndpointCall()&&(b("BootloaderResource").preload(b("JSResource")("RTCMediaStateController.react").__setRef("RTCP2PAppViewHeader.react")),b("BootloaderResource").preload(b("JSResource")("RTCCallControlsShowCameraControlsButton.react").__setRef("RTCP2PAppViewHeader.react")));switch(e){case b("RTCConferenceState").AWAITING_USER_START:return b("FBRTCConfig").isVCEndpointCall()?b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:f},b("React").createElement(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:m}),b("React").createElement(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:f,isP2P:!0}),b("React").createElement(j,{isAudioOnly:f,peer:a}),b("React").createElement(b("RTCCallControlsChatButton.react"),{conferenceState:e,isP2P:!0}))):b("React").createElement(i,{autoHide:m,callID:c,conferenceName:d,conferenceState:e,isAudioCall:f});case b("RTCConferenceState").CONNECTED:return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:f},b("React").createElement(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:m}),a&&a.hasScreenStream()?b("React").createElement(b("RTCCallControlsPopOutScreenContentButton.react"),{mediaStream:l?null:a.getScreenStream()}):null,b("FBRTCConfig").isVCEndpointCall()?b("React").createElement(b("Placeholder.react"),{fallback:null},b("React").createElement(g,null),",",b("React").createElement(h,null),","):null,b("React").createElement(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:f,isP2P:!0}),b("React").createElement(j,{isAudioOnly:f,peer:a}),b("React").createElement(b("RTCCallControlsChatButton.react"),{conferenceState:e,isP2P:!0})));default:return b("React").createElement(i,{autoHide:m,callID:c,conferenceName:d,conferenceState:e,isAudioCall:f})}};var i=function(a){var c=a.autoHide;a.callID;a.conferenceName;var d=a.conferenceState;a=a.isAudioCall;return b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:a},b("React").createElement(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:c}),b("React").createElement(b("RTCCallControlsChatButton.react"),{conferenceState:d,isP2P:!0})))},j=function(a){var c=a.isAudioOnly;a=a.peer;var d=b("RTCP2PCallStore").getState();d=d.isPeerOnMobile;d=d&&b("UserAgent").isBrowser("Firefox");d=b("FBRTCUserSettings").isEnabled()&&!d;return d?b("React").createElement(b("RTCCallControlsShowSettingsButton.react"),{isAudioOnly:c,isP2P:!0,remoteStream:a?a.streams.first():null}):null};function k(a){__p&&__p();a.callID;a.conferenceName;var c=a.conferenceState,d=a.isAudioCall,e=a.isScreenContentPoppedOut;a=a.remoteUser;if(d)return!0;if(c!==b("RTCConferenceState").CONNECTED)return!1;d=b("RTCCallNUXStore").getState();c=d.showRemoteCameraControlsNUX;var f=d.showRemoteScreenContentPopOutNUX,g=d.showRemoteStreamsSliderNUX;d=d.showSettingsNUX;return d||b("FBRTCConfig").isVCEndpointCall()&&c||!!a&&a.hasScreenStream()&&!e&&(g||f)}e.exports=a}),null);
__d("RTCP2PAppView.react",["cx","CssBackgroundImage.react","MercuryIDs","MessengerParticipants.bs","React","RTCAppSpinner.react","RTCAppView.react","RTCAppViewFooter.react","RTCAppViewHeader.react","RTCAppViewMain.react","RTCGrantUserMediaAccessView.react","RTCP2PAppViewContentContainer.react","RTCP2PAppViewFooterContainer.react","RTCP2PAppViewHeader.react","RTCPeerConnectionStats.react","RTCUserMediaRequestState","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.callID,d=a.conferenceName,e=a.conferenceState,f=a.initializeVideo,g=a.isAudioCall,h=a.isScreenContentPoppedOut,i=a.remoteUser,j=a.userMediaRequest;switch(j.state){case b("RTCUserMediaRequestState").PENDING:case b("RTCUserMediaRequestState").REJECTED:return b("React").createElement(b("RTCAppView.react"),{isAudioCall:g},b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:g}),b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},b("React").createElement(b("RTCGrantUserMediaAccessView.react"),{isAudioCall:g,userMediaRequest:j})),b("React").createElement(b("RTCAppViewFooter.react"),null));case b("RTCUserMediaRequestState").FULFILLED:j=b("MercuryIDs").getParticipantIDFromUserID(a.remoteUserFBID);j=b("MessengerParticipants.bs").getNow(j);return b("React").createElement(b("RTCAppView.react"),{isAudioCall:g&&!a.acceptedEscalation},b("RTWebClientFeatureGating").callUnification()?b("React").createElement(b("CssBackgroundImage.react"),{backgroundPosition:"center center",className:"_6qmp",height:"100%",imageURI:j.image_src,width:"100%"}):null,b("React").createElement(b("RTCP2PAppViewHeader.react"),{callID:c,conferenceName:d,conferenceState:e,isAudioCall:g,isScreenContentPoppedOut:h,remoteUser:i}),b("React").createElement(b("RTCP2PAppViewContentContainer.react"),{conferenceName:a.conferenceName,conferenceState:e,connectionStatus:a.connectionStatus,endCallReason:a.endCallReason,isAudioCall:g,isScreenContentPoppedOut:h,remoteUser:i}),b("React").createElement(b("RTCP2PAppViewFooterContainer.react"),{callID:c,canPeerReceiveScreenSharing:a.canPeerReceiveScreenSharing,conferenceName:d,conferenceState:e,hasRemoteScreenStream:i?i.hasScreenStream():!1,initializeVideo:f,isAudioCall:g,localUser:a.localUser,remotePeerName:i?i.userName:"",remoteUserID:i?i.FBID:"",shouldHideCloseButton:a.shouldHideCloseButton}),b("React").createElement(b("RTCPeerConnectionStats.react"),{connection:a.connection,style:{marginBottom:40}}));default:return b("React").createElement(b("RTCAppView.react"),{isAudioCall:g},b("React").createElement(b("RTCAppViewHeader.react"),{isAudioCall:g}),b("React").createElement(b("RTCAppViewMain.react"),{fullBleed:!0},b("React").createElement(b("RTCAppSpinner.react"),null)),b("React").createElement(b("RTCAppViewFooter.react"),null))}};e.exports=a}),null);
__d("RTCP2PAppViewContainer.react",["FBRTCScreenSharingUtils","FluxContainer","React","RTCAppDispatcher","RTCP2PAppView.react","RTCP2PCallEscalationStore","RTCP2PCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=babelHelpers.inherits(h,b("React").PureComponent);g=a&&a.prototype;h.getStores=function(){return[b("RTCP2PCallEscalationStore"),b("RTCP2PCallStore")]};h.calculateState=function(){var a=b("RTCP2PCallStore").getState(),c=a.connectionStatus,d=a.endCallReason,e=a.isScreenContentPoppedOut;a=a.signalingExperiments;return{acceptedEscalation:b("RTCP2PCallEscalationStore").getState().response,connectionStatus:c,endCallReason:d,canPeerReceiveScreenSharing:b("FBRTCScreenSharingUtils").canPeerReceiveScreenSharing(a),isAudioCall:b("RTCP2PCallStore").isAudioOnly(),isScreenContentPoppedOut:e}};function h(){g.constructor.call(this),b("RTCAppDispatcher").explicitlyRegisterStores([].concat(h.getStores()))}h.prototype.render=function(){return b("React").createElement(b("RTCP2PAppView.react"),babelHelpers["extends"]({},this.props,this.state))};e.exports=b("FluxContainer").create(h)}),null);
__d("RTWebGetUserMediaWithRetryOnPermissionChange",["Promise","DateConsts","UserAgent","UserMediaRequestError","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2*b("DateConsts").MS_PER_SEC;function h(a,c,d,e){__p&&__p();return d()["catch"](function(f){__p&&__p();e&&e(f);var i=window.navigator.permissions;if(b("UserAgent").isBrowser("Chrome")&&i&&i.query)return new(b("Promise"))(function(a,b){__p&&__p();i.query({name:"microphone"}).then(function(e){if(e.state==="granted"){b(f);return}var h=setTimeout(function(){return b(f)},c*g);e.onchange=function(){e.state==="granted"&&(clearTimeout(h),a(d()))}})["catch"](function(a){throw f})});else return new(b("Promise"))(function(e,i){f.name==="NotAllowedError"&&a<c?setTimeout(function(){h(a+1,c,d,b("emptyFunction")).then(function(a){return e(a)})["catch"](function(a){return i(a)})},g):i(f)})})}a={gen:function(a,b,c){return h(0,a,b,c)}};e.exports=a}),null);
__d("RTCP2PCallView.react",["cx","fbt","PageHooks","Bootloader","CollabCallMessengerBrowserEventEnum","CollabInitStreamTriggerType","CSS","FBRTCConfig","FBRTCConstants","FBRTCLogger","FBRTCMessageListener","FBRTCStatsHelpers","MercuryIDs","MessengerBugNub.react","MessengerRTCFunnelLogger","React","RTCCallActions","RTCCallInitUtils","RTCCallStore","RTCCallType","RTCChatViewWrapper.react","RTCConferenceState","RTCConfig","RTCMediaDevices","RTCP2PAppViewContainer.react","RTCP2PCallActions","RTCP2PCallWindowHandler","RTCP2PConnectionStatus","RTCP2PProtocolHandler","RTCUserMediaErrorDialogController","RTCUserMediaRequest","RTCUserMediaRequestState","RTWebClientFeatureGating","RTWebGetUserMediaWithRetryOnPermissionChange","RTWebLoggingSurface","RTWebUserActionLogger","Run"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("PageHooks");var j=b("FBRTCConstants").SignalingProtocol,k=60,l=150;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(a){__p&&__p();i.constructor.call(this,a);this.state={userMediaRequest:new(b("RTCUserMediaRequest"))()};this.$1=null;this.$2=b("FBRTCLogger").getInstance();this.$3=function(){return this.props.conferenceState===b("RTCConferenceState").CONNECTED?h._("Quitter cette page mettra fin \u00e0 votre appel."):null}.bind(this);this.$4=function(){__p&&__p();if(this.props.conferenceState===b("RTCConferenceState").TERMINATED)return;var a=b("FBRTCConstants").CallEndReason.HANGUP_CALL,c="BrowserClosed",d=this.state.userMediaRequest;if(d.state===b("RTCUserMediaRequestState").PENDING)a=b("FBRTCConstants").CallEndReason.CLIENT_ERROR,c="MediaPending";else if(d.state===b("RTCUserMediaRequestState").REJECTED){d=d.error;a=b("FBRTCConstants").CallEndReason.CLIENT_ERROR;c=!d||d.name==="NotAllowedError"?"MediaDenied":d.getEndCallSubReason()}this.props.protocolHandler.endCall(a,c,!0)}.bind(this);this.props.nonce&&b("MessengerRTCFunnelLogger").setWindowNonce(this.props.nonce);b("Run").onBeforeUnload(this.$3,!1);b("Run").onUnload(this.$4);if(!a.allowsMWEscalation){a=this.props.conferenceName;b("RTCCallActions").initialize(j.P2P,a,null,a);b("RTCP2PCallActions").setCallType(this.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO)}b("RTCP2PCallActions").setIsCaller(this.props.isCaller)}a.prototype.componentDidMount=function(){__p&&__p();b("RTCP2PCallWindowHandler").init(window);document.documentElement!=null&&b("CSS").addClass(document.documentElement,"_2ujx");this.$2.logCallAction(this.$5(),this.$6(),b("FBRTCLogger").CallAction.POPUP_OPENED);b("RTCCallInitUtils").initializeCallSummary({peerID:this.$5(),callID:String(this.$6()),isCaller:this.props.isCaller,isAudio:this.props.isInitiallyAudioCall,protocol:b("FBRTCConstants").SignalingProtocol.P2P});this.props.protocolHandler.init(this.$5(),this.$6());var a=[this.props.localUser.FBID,this.props.remoteUserFBID];b("RTCCallInitUtils").initializeRTCUsers(a,function(){this.$1=setTimeout(function(){this.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("state",a.state||b("RTCUserMediaRequestState").PENDING)}})}.bind(this),2e3),this.$7().then(function(a){clearTimeout(this.$1),b("RTCCallActions").addLocalStream(a),this.$8()}.bind(this))["catch"](m)}.bind(this))};a.prototype.$5=function(){return this.props.remoteUserFBID};a.prototype.$6=function(){return Number(this.props.conferenceName)};a.prototype.$9=function(){return b("RTCP2PProtocolHandler").initStream(this.props.initializeVideo)};a.prototype.$10=function(){var a=this.props.isCaller?l:k;return b("RTWebGetUserMediaWithRetryOnPermissionChange").gen(a,function(){return this.$9()}.bind(this),function(a){this.setState(function(c){c=c.userMediaRequest;return{userMediaRequest:c.set("error",a).set("state",b("RTCUserMediaRequestState").REJECTED)}})}.bind(this))};a.prototype.$7=function(){__p&&__p();b("MessengerRTCFunnelLogger").appendAction("user_media_requested");b("RTCCallStore").mutateCallSummary(function(a){return a.onMediaRequested()});var a=b("RTWebClientFeatureGating").waitForMediaPermission();return(a?this.$10():this.$9()).then(function(a){__p&&__p();var c=!this.props.isInitiallyAudioCall,d=a.getVideoTracks().length>0;if(c&&!d){b("RTCCallStore").mutateCallSummary(function(a){return a.onFellbackToAudio()});c=this.props.conferenceName;d=b("RTCConfig").CollabPrecallScreen&&b("FBRTCConfig").isVCEndpointCall();!d&&this.props.initializeVideo&&b("RTCUserMediaErrorDialogController").showMediaErrorDialog(!1,c)}this.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("state",b("RTCUserMediaRequestState").FULFILLED)}});b("RTCCallStore").mutateCallSummary(function(a){a.onMediaSucceeded()});b("RTCMediaDevices").enumerateDevices().then(function(c){b("RTCCallStore").mutateCallSummary(function(d){b("FBRTCStatsHelpers").logCapabilities(d,a,c)})})["catch"](m);b("MessengerRTCFunnelLogger").appendAction("user_media_succeeded");return a}.bind(this))["catch"](function(a){this.setState(function(c){c=c.userMediaRequest;return{userMediaRequest:c.set("error",a).set("state",b("RTCUserMediaRequestState").REJECTED)}});this.props.connectionStatus===b("RTCP2PConnectionStatus").INIT&&b("RTCCallStore").mutateCallSummary(function(c){return c.onCallEnded(b("FBRTCConstants").CallEndReason.CLIENT_ERROR,!1,!0,"MediaDenied: "+a.name+", "+a.constraint)});this.$2.logError(this.$5(),this.$6(),"MediaDenied: "+a.name+", "+a.constraint);b("MessengerRTCFunnelLogger").appendAction("user_media_rejected");this.$11(a,b("CollabInitStreamTriggerType").USER_MEDIA_REQUEST);throw a}.bind(this))};a.prototype.$8=function(){this.props.protocolHandler.fetchTURNCredentials().then(function(){var a=b("FBRTCMessageListener").setParentWindowStartCallHandler(function(){this.props.protocolHandler.startCall(),a&&(a(),a=null)}.bind(this));b("FBRTCMessageListener").init(!0,this.$5());setTimeout(function(){b("RTCCallActions").waitForUserInput(),a&&(a(),a=null)},1500)}.bind(this))["catch"](function(a){return b("MessengerRTCFunnelLogger").appendAction("start_call_failed")})};a.prototype.$11=function(a,c){this.$12(b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,JSON.stringify({error:a.name,constraint:a.constraint,trigger:c})),b("RTWebUserActionLogger").logError({errorDomain:b("CollabCallMessengerBrowserEventEnum").GET_USER_MEDIA_ERROR,errorType:JSON.stringify(a),surface:b("RTWebLoggingSurface").CALL_CONTAINER})};a.prototype.$12=function(event,a){if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],function(b){return b.log(event,{peerID:this.props.remoteUserFBID,callID:this.$6(),eventDetails:a})}.bind(this),"RTCP2PCallView.react")};a.prototype.render=function(){return b("React").createElement(b("RTCChatViewWrapper.react"),{callerID:this.props.localUser.FBID,chatWindowVisible:this.props.chatWindowVisible,threadID:b("MercuryIDs").getThreadIDFromUserID(this.$5())},b("React").createElement("div",null,b("React").createElement(b("RTCP2PAppViewContainer.react"),{allowsMWEscalation:this.props.allowsMWEscalation,callID:this.$6().toString(),conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,connection:this.props.connection,initializeVideo:this.props.initializeVideo,localUser:this.props.localUser,remoteUser:this.props.remoteUser,remoteUserFBID:this.$5(),shouldHideCloseButton:!this.props.nonce||this.isParentWindow(),userMediaRequest:this.state.userMediaRequest}),b("React").createElement(b("MessengerBugNub.react"),{isBetaEnabled:this.props.isBetaEnabled,unixName:this.props.unixName}),this.props.children))};a.prototype.componentDidUpdate=function(a){__p&&__p();if(a.userSettings.editing&&!this.props.userSettings.editing){var c=this.props.userSettings,d=c.audioInput;c=c.videoInput;(a.userSettings.audioInput!==d||a.userSettings.videoInput!==c)&&b("RTCP2PProtocolHandler").initStream(!this.props.isAudioCall,d,c).then(function(a){return b("RTCP2PProtocolHandler").replaceLocalStream(a,!0)})["catch"](function(a){return this.$11(a,b("CollabInitStreamTriggerType").USER_SETTINGS_CHANGED)}.bind(this))}this.props.conferenceState!==a.conferenceState&&this.$2.logToConsole('UI: state change - from "'+a.conferenceState+'" to "'+this.props.conferenceState+'"');this.state.userMediaRequest.state===b("RTCUserMediaRequestState").PENDING&&this.props.connectionStatus===b("RTCP2PConnectionStatus").INIT&&b("RTCCallStore").mutateCallSummary(function(a){return a.onCallEnded(b("FBRTCConstants").CallEndReason.CLIENT_ERROR,!1,!0,"MediaPending")})};a.prototype.componentWillUnmount=function(){clearTimeout(this.$1),document.documentElement!=null&&b("CSS").removeClass(document.documentElement,"_2ujx")};a.prototype.isParentWindow=function(){return!window.opener};function m(a){}e.exports=a}),null);
__d("RTCP2PLoggerStore",["Bootloader","CollabCallMessengerBrowserEventEnum","FBRTCConfig","FBRTCLogger","FluxReduceStore","RTCAppDispatcher","RTCCallActionTypes","RTCCallStore","RTCUserSettingsActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){__p&&__p();var d=b("RTCCallStore").getState(),e=d.remoteUsers;d=d.callInfo;if(!e.count())return a;var f=b("FBRTCLogger").getInstance();e=e.first().FBID;switch(c.type){case b("RTCCallActionTypes").AUDIO_MUTED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_MUTE,!0);break;case b("RTCCallActionTypes").AUDIO_UNMUTED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_MUTE,!1);break;case b("RTCCallActionTypes").VIDEO_MUTED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_VIDEO_ON,!1);break;case b("RTCCallActionTypes").VIDEO_UNMUTED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_VIDEO_ON,!0);break;case b("RTCCallActionTypes").SELF_VIEW_COLLAPSED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_SELF_VIEW_ON,!1);break;case b("RTCCallActionTypes").SELF_VIEW_UNCOLLAPSED:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_SELF_VIEW_ON,!0);break;case b("RTCCallActionTypes").ADD_LOCAL_STREAM:this.$RTCP2PLoggerStore1(b("CollabCallMessengerBrowserEventEnum").LOCAL_STREAM_SET,c.stream,e,Number(d.conferenceName));break;case b("RTCUserSettingsActionTypes").USER_SETTINGS_SAVE:case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_INPUT:case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_AUDIO_OUTPUT:case b("RTCUserSettingsActionTypes").USER_SETTINGS_SET_VIDEO_INPUT:f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.USER_SETTINGS_CHANGED),this.$RTCP2PLoggerStore1(b("CollabCallMessengerBrowserEventEnum").USER_SETTINGS_CHANGED,c,e,Number(d.conferenceName))}return a};a.prototype.$RTCP2PLoggerStore1=function(event,a,b,c){h(function(d){return d.log(event,{peerID:b,callID:c,eventDetails:a})})};function a(){g.apply(this,arguments)}a.__moduleID=e.id;function h(a){if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],a,"RTCP2PLoggerStore")}e.exports=new a(b("RTCAppDispatcher"))}),null);
__d("RTCP2PCallContainer.react",["BootloadOnRender.react","ChannelManager","FBRTCConfig","FluxContainer","JSResource","LazyComponent.react","React","RTCAppData","RTCAppDispatcher","RTCCallActions","RTCCallNUXStore","RTCCallStore","RTCCallType","RTCCoExperienceStore","RTCGroupCallEscalationStore","RTCMediaDevicesStore","RTCP2PCallActions","RTCP2PCallEscalationStore","RTCP2PCallStore","RTCP2PCallView.react","RTCP2PLoggerStore","RTCUserSettingsStore","RTWebFluxDebugger","RTWebLoggingCallType","RTWebLoggingSurface","RTWebUserActionLogger","dangerouslyBypassDispatchError","generateRTCCallID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("generateRTCCallID")().toString();a=babelHelpers.inherits(i,b("React").PureComponent);g=a&&a.prototype;i.getStores=function(){return[b("RTCCallStore"),b("RTCCoExperienceStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};i.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo,d=c.conferenceState;c=c.conferenceName;var e=a.connections,f=a.localUser;a=a.remoteUsers;var g=b("RTCCoExperienceStore").getState();g=g.chatWindowVisible;var h=b("RTCP2PCallStore").getState(),i=h.callType,j=h.protocolHandler;h=h.connectionStatus;return{chatWindowVisible:g,conferenceName:c,conferenceState:d,connection:e.first(),connectionStatus:h,isAudioCall:i===b("RTCCallType").AUDIO_ONLY,localUser:f,protocolHandler:j,remoteUser:a.first(),userSettings:b("RTCUserSettingsStore").getState()}};function i(a){g.constructor.call(this,a);b("ChannelManager").startChannelManagerForApp(b("RTCAppData").getChannelManagerAppName());a=[].concat(i.getStores(),[b("RTCGroupCallEscalationStore"),b("RTCMediaDevicesStore"),b("RTCP2PCallEscalationStore"),b("RTCCallNUXStore"),b("RTCP2PLoggerStore")]);b("RTCAppDispatcher").explicitlyRegisterStores(a);b("RTWebFluxDebugger").attach(b("RTCAppDispatcher"),a);b("RTCP2PCallActions").setCallType(this.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"RTCP2PCallContainer_created",callID:this.$1(),callType:b("RTWebLoggingCallType").P2P,isCaller:this.props.isCaller,mediaType:b("RTWebUserActionLogger").getMediaType(this.props.isInitiallyAudioCall)})}i.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({surface:b("RTWebLoggingSurface").CALL_CONTAINER,conferenceState:this.state.conferenceState})};i.prototype.componentDidUpdate=function(a,c){var d=this.state.remoteUser;if(b("FBRTCConfig").isVCEndpointCall()&&d!=null&&this.$2()){a=b("RTCCallStore").getState();var e=a.remoteUsers,f=this.$3(d);b("dangerouslyBypassDispatchError")(function(){return b("RTCCallActions").updateRemoteUsers(e["delete"](d).add(f))})}};i.prototype.$1=function(){return this.state&&this.state.conferenceName||this.props.conferenceName||h};i.prototype.$3=function(a){var b=this.props,c=b.meetingID,d=b.meetingPassword;b=b.roomLocation;if(a.getRoomLocation()==null&&b!=null)return a.setRoomLocation(b);b=a;a.getMeetingID()==null&&c!=null&&(b=a.setMeetingID(c),a.getMeetingPassword()==null&&d!=null&&(b=a.setMeetingPassword(d)));return b};i.prototype.$2=function(){var a=this.state.remoteUser,b=this.props,c=b.meetingID;b=b.roomLocation;return a==null?!1:a.getRoomLocation()==null&&b!=null||a.getMeetingID()==null&&c!=null};i.prototype.render=function(){var a=this.props;a.conferenceName;a.roomLocation;a.meetingID;a.meetingPassword;a=babelHelpers.objectWithoutProperties(a,["conferenceName","roomLocation","meetingID","meetingPassword"]);return b("React").createElement(b("RTCP2PCallView.react"),babelHelpers["extends"]({},a,this.state,{conferenceName:this.$1(),initializeVideo:this.props.initializeVideo}),b("React").createElement(j,null))};var j=function(){return!b("FBRTCConfig").isVCEndpointCall()?null:b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),null),loader:b("JSResource")("RTCCollabActionLoggerBootloader.react").__setRef("RTCP2PCallContainer.react"),placeholder:b("React").createElement("div",null)})};e.exports=b("FluxContainer").create(i)}),null);
__d("RTCCallContainer.react",["fbt","PageHooks","BootloadOnRender.react","FBRTCConstants","FBRTCGroupCallStore","FBRTCHangupReason","FBRTCMWProtocolStore","FluxContainer","RTCCallNotificationContainer.react","RTCCallNotificationStore","immutable","JSResource","LazyComponent.react","MessengerBugNub.react","React","MessengerRTCFunnelLogger","RoboticsPermission","RTCGroupCallView.react","RTCMWProtocolHandler","RTCP2PCallContainer.react","RTCGroupCallEscalationStore","RTCP2PCallEscalationStore","RTCUserMediaRequest","RTCUserMediaRequestState","RTCAppDispatcher","RTCCallActions","RTCCallStore","RTCCallType","RTCCoExperienceStore","RTCConferenceState","RTCMediaDevicesStore","RTCP2PCallActions","RTCCallNUXStore","RTCP2PCallStore","RTCP2PLoggerStore","RTCUserSettingsStore","Run","generateRTCCallID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("PageHooks");var i=b("FBRTCConstants").SignalingProtocol;a=babelHelpers.inherits(j,b("React").PureComponent);h=a&&a.prototype;j.getStores=function(){return[b("FBRTCGroupCallStore"),b("RTCCallStore"),b("RTCGroupCallEscalationStore")]};j.calculateState=function(){var a=b("RTCGroupCallEscalationStore").getState();a=a.readyToTransition;var c=b("RTCCallStore").getState(),d=c.callInfo,e=c.connections;c=c.localUser;var f=b("FBRTCGroupCallStore").getState(),g=f.layout;f=f.participants;var h=b("RTCCallStore").getSortedRemoteUsers();return{conferenceState:d.conferenceState,connection:e.first(),layout:g,localUser:c,participants:f,protocol:d.protocol,remoteUsers:h,serverInfoData:d.serverInfoData,useGroupCallView:a}};function j(a){__p&&__p();h.constructor.call(this,a),this.state=babelHelpers["extends"]({},j.calculateState()),this.$3=function(){__p&&__p();if(this.state.conferenceState===b("RTCConferenceState").TERMINATED)return;var a=b("FBRTCConstants").CallEndReason.HANGUP_CALL,c="BrowserClosed";this.state.protocol===i.P2P&&b("RTCP2PCallStore").getState().protocolHandler.endCall(a,c,!0);if(this.state.protocol===i.MULTIWAY){a=b("RTCCallStore").getState().callInfo;var d=a.conferenceName;a=a.serverInfoData;b("RTCMWProtocolHandler").endCall(d,a,b("FBRTCHangupReason").HANGUP_CALL,c)}}.bind(this),this.$2=function(){return this.state.conferenceState===b("RTCConferenceState").CONNECTED?g._("Quitter cette page mettra fin \u00e0 votre appel."):undefined}.bind(this),document.documentElement&&(document.documentElement.style.overflow="hidden"),b("RTCAppDispatcher").explicitlyRegisterStores([b("FBRTCGroupCallStore"),b("RTCCallNotificationStore"),b("RTCCallStore"),b("RTCP2PCallEscalationStore"),b("RTCCallNUXStore"),b("RTCP2PCallStore"),b("RTCCoExperienceStore"),b("RTCP2PLoggerStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore"),b("RTCGroupCallEscalationStore"),b("FBRTCMWProtocolStore")]),this.$1=this.props.conferenceName||b("generateRTCCallID")().toString(),b("RTCCallActions").initialize(i.P2P,this.$1,null,this.$1),b("RTCP2PCallActions").setCallType(this.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO),b("Run").onBeforeUnload(this.$2,!1),b("Run").onUnload(this.$3)}j.prototype.render=function(){__p&&__p();var a=null;if(this.props.allowsMWEscalation&&this.state.useGroupCallView){var c=b("RTCP2PCallStore").getState();c=c.escalationConferenceName;var d=!b("RTCCallStore").hasRemoteVideo(),e=new(b("RTCUserMediaRequest"))();e=e.set("state",b("RTCUserMediaRequestState").FULFILLED);a=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCGroupCallView.react"),{chatWindowVisible:!1,conferenceName:c||"",conferenceState:this.state.conferenceState,connection:this.state.connection,endCallReason:null,isAudioCall:d,layout:this.state.layout,localUser:this.state.localUser,onStartCallClick:this.$4,participants:this.state.participants,remoteUsers:this.state.remoteUsers,serverInfoData:this.state.serverInfoData,thread:null,userMediaRequest:e}),b("React").createElement(b("MessengerBugNub.react"),{isBetaEnabled:this.props.isBetaEnabled,unixName:this.props.unixName}))}else a=b("React").createElement(b("RTCP2PCallContainer.react"),{allowsMWEscalation:this.props.allowsMWEscalation,conferenceName:this.$1,initializeVideo:this.props.initializeVideo,isBetaEnabled:this.props.isBetaEnabled,isCaller:this.props.isCaller,isInitiallyAudioCall:this.props.isInitiallyAudioCall,nonce:this.props.nonce,remoteUserFBID:this.props.remoteUserFBID,unixName:this.props.unixName});return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("RTCCallNotificationContainer.react"),{conferenceState:this.state.conferenceState}),b("React").createElement(k,null),a)};j.prototype.$4=function(a,c,d){b("MessengerRTCFunnelLogger").appendAction("click_start_call_button")};var k=function(){return!b("RoboticsPermission").is_authorized_robot?null:b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),null),loader:b("JSResource")("RobotRTCCallStoreBootloader.react").__setRef("RTCCallContainer.react"),placeholder:b("React").createElement("div",null)})};e.exports=b("FluxContainer").create(j)}),null);
__d("MessengerBannerOverlay.react",["cx","React","ReactCSSTransitionGroup"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=6e3,j={enter:"_3fa9",enterActive:"_3faa",leave:"_3fab",leaveActive:"_3fad"};c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={hide:!1},b}a.prototype.componentDidUpdate=function(a){a.children!=this.props.children&&this.setState({hide:!1}),this.props.useTimeout&&!this.state.hide&&setTimeout(function(){this.setState({hide:!0})}.bind(this),i)};a.prototype.$1=function(){return!this.state.hide&&this.props.display&&this.props.children?b("React").createElement("div",{className:"_qxg"},b("React").createElement("h2",{className:"_qxh"},this.props.children)):null};a.prototype.render=function(){return b("React").createElement(b("ReactCSSTransitionGroup"),{component:"div",transitionName:j,transitionEnterTimeout:600,transitionLeaveTimeout:600},this.$1())};a.BANNER_TIMEOUT=i;e.exports=a}),null);
__d("MessengerChatLinksFunnelLogger",["FunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="WWW_MESSENGER_CHAT_LINKS_FUNNEL";function a(a){b("FunnelLogger").startFunnel(g),h(a)}function c(a){b("FunnelLogger").appendAction(g,a)}function h(a){a&&a.forEach(function(a){return b("FunnelLogger").addFunnelTag(g,a)})}d={startFunnel:a,appendAction:c,addFunnelTag:h};e.exports=d}),null);