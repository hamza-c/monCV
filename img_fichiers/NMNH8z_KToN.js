if (self.CavalryLogger) { CavalryLogger.start_js(["MOABx"]); }

__d("ManyRequestsSubscribeCallout",["AsyncRequest","CSS","DOM","Event"],(function(a,b,c,d,e,f){var g={listen:function(a){a&&b("Event").listen(a,"click",g.removeCallout.bind(this))},removeCallout:function(event){var a=b("DOM").scry(document.body,".enableSubscribePrompt");a.forEach(b("CSS").hide);new(b("AsyncRequest"))().setURI("/ajax/follow/remove_many_reqs_callout.php").send()},handleDisplayCallout:function(){new(b("AsyncRequest"))().setURI("/ajax/follow/show_many_reqs_callout.php").send()},reachedCalloutLimit:function(){new(b("AsyncRequest"))().setURI("/ajax/follow/remove_many_reqs_callout.php").send()}};e.exports=g}),null);
__d("XFriendJewelNotifsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/friendjewel/friendconfirmednotifications/",{alert_ids:{type:"IntVector",required:!0},action:{type:"String",required:!0}})}),null);
__d("FriendConfirmedNotifs",["Arbiter","AsyncRequest","CSS","DataStore","DOM","Event","Parent","RequestsJewelController","XFriendJewelNotifsController","ge","shield"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";__p&&__p();this.$3=function(){if(!this.$2.length)return;this.$7(this.$2,"mark_read");this.$2=[]}.bind(this);this.$4=function(){};var c=a.close;for(var d=0;d<c.length;++d)b("Event").listen(c[d],"click",this.$1.bind(this));this.$2=a.unread_notifs;this.$2.length&&(b("RequestsJewelController").isOpen()?this.$3():(b("Arbiter").subscribeOnce("requestsJewel/opened",b("shield")(this.$3,this)),b("Arbiter").subscribeOnce("requestsJewel/closed",b("shield")(this.$3,this))));b("Arbiter").subscribeOnce("requestsJewel/closed",b("shield")(this.$4,this));this.$5=a.notifids}a.prototype.$6=function(a){"use strict";var c=!1,d=b("ge")("fbRequestsJewel"),e=b("DOM").find(d,".requestsUnitTitle");a=b("DOM").scry(a,".friendConfirmedNotifsUnitTitle")[0];a||(c=!0,a=b("DOM").find(d,".friendConfirmedNotifsUnitTitle"));c?(b("CSS").show(b("DOM").find(d,".requestsJewelLinks")),b("DOM").replace(a,e)):b("CSS").hide(a)};a.prototype.$1=function(event){"use strict";__p&&__p();var a=event.getTarget(),c,d=[],e=b("Parent").byClass(a,"friendConfirmedNotifsUnitDisaggregated");e&&(d=b("DataStore").get(e,"notifids"),c=e.parentElement.parentElement,b("CSS").hide(e));e=b("Parent").byClass(a,"friendConfirmedNotifsUnitAggregated");e&&(d=b("DataStore").get(e,"notifids"),c=e.parentElement.parentElement,b("CSS").hide(e));for(var a=0;a<d.length;++a){e=this.$5.indexOf(d[a]);e>-1&&this.$5.splice(e,1)}this.$5.length||this.$6(c);this.$7(d,"xout")};a.prototype.$7=function(a,c){"use strict";a=b("XFriendJewelNotifsController").getURIBuilder().setIntVector("alert_ids",a).setString("action",c).getURI();new(b("AsyncRequest"))().setURI(a).send()};e.exports=a}),null);
__d("FriendConfirmedNotifsClickLogging",["AsyncSignal","Event"],(function(a,b,c,d,e,f){a={addClickLoggingListener:function(a,c){b("Event").listen(a,"click",function(){new(b("AsyncSignal"))(c).send()})}};e.exports=a}),null);
__d("FollowUpNotifEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:FollowUpNotifEventLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:FollowUpNotifEventLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FollowUpNotifEventLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setNotifEvent=function(a){this.$1.notif_event=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={notif_event:!0,vc:!0};e.exports=a}),null);
__d("FollowUpNotifEventUtils",["Event","FollowUpNotifEventTypedLogger","ReactComposerActionTypes","ReactComposerDispatcher"],(function(a,b,c,d,e,f){a={attachFollowUpClickListener:function(a,c){b("Event").listen(a,"click",function(event){new(b("FollowUpNotifEventTypedLogger"))().setNotifEvent(c).log()})},attachFollowUpPostListener:function(a){b("ReactComposerDispatcher").register(function(c){c.type===b("ReactComposerActionTypes").POST_STARTED&&new(b("FollowUpNotifEventTypedLogger"))().setNotifEvent(a).log()})}};e.exports=a}),null);
__d("JewelFollowupUnit",["csx","Arbiter","CSS","DOM","FollowUpNotifEventTypedLogger"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,c,d,e,f){__p&&__p();f===void 0&&(f=null);this._followup=c;this._followup_event=f;this._parentContainer=this._followup.parentNode;this._friendRequest=this._parentContainer.firstChild;d&&b("Arbiter").subscribe(d,function(b,c){c.uid==a&&this._showFollowup()}.bind(this));c=b("DOM").scry(this._parentContainer,"._e7")[0];c&&(c.onclick=this._hideFollowup.bind(this));e&&b("Arbiter").subscribe(e,function(b,c){c.uid==a&&this._hideFollowup()}.bind(this))}Object.assign(a.prototype,{_showFollowup:function(){this._followup_event!==null&&new(b("FollowUpNotifEventTypedLogger"))().setNotifEvent(this._followup_event).log(),this._updateRequestAnimClass(),b("CSS").addClass(this._followup,"active"),b("CSS").addClass(this._parentContainer,"followupActivated")},_hideFollowup:function(){this._updateRequestAnimClass(),b("CSS").removeClass(this._followup,"active"),b("CSS").removeClass(this._parentContainer,"followupActivated")},_updateRequestAnimClass:function(){b("CSS").conditionClass(this._friendRequest,"animated",b("CSS").hasClass(this._followup,"animated"))}});e.exports=a}),null);
__d("InnerStickyArea",["cx","ContextualLayer","CSS","DataStore","DOM","Event","IntersectionObserver","LayerHideOnTransition","Locale","Parent","Scroll","Style","Vector","gkx","removeFromArray"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){a=b("Parent").byClass(a,"scrollable")||b("Style").getScrollParent(a.parentNode);return a}function a(a){"use strict";var c=h(a);this.node=a;this._extracted=!1;this._placeholder=b("DOM").create("div",{className:"_ptr"});i.getInstance(c).register(this)}a.prototype.update=function(){"use strict";this._extracted?(b("Vector").getElementDimensions(this._placeholder).setElementWidth(this.node),b("Vector").getElementDimensions(this.node).setElementHeight(this._placeholder)):b("Vector").getElementDimensions(this.node).setElementWidth(this.node).setElementHeight(this._placeholder);return this};a.prototype.setExtracted=function(a){"use strict";if(a===this._extracted)return this;a?(this.update(),b("DOM").replace(this.node,this._placeholder)):(b("Style").set(this.node,"height",null),b("Style").set(this.node,"width",null),this._placeholder.parentNode?b("DOM").replace(this._placeholder,this.node):b("DOM").remove(this.node));this._extracted=a;return this};a.prototype.getInlineNode=function(){"use strict";return this._extracted?this._placeholder:this.node};a.prototype.isDisplayed=function(){"use strict";var a=this.getInlineNode();return a.offsetWidth>0&&a.offsetHeight>0};a.prototype.getStickyContainer=function(){"use strict";return this._stickyContainer};a.prototype.updateContainer=function(){"use strict";var a=h(this.node);i.getInstance(a).register(this)};a.prototype.destroy=function(){"use strict";this.getStickyContainer().unregister(this)};a.getStickyContainer=function(a){"use strict";return i.getInstance(h(a))};function i(a){"use strict";this.node=a,this._areas=[],this._fixTarget=null,this._fixedArea=null,this._initialized=!1,this._layer=new(b("ContextualLayer"))({permanent:!0},b("DOM").create("div")).setInsertParent(this.node.parentNode).disableBehavior(b("LayerHideOnTransition")),b("gkx")("AT7asMnBN5b1Qp7dmFqHmoeeujm5LsaQOVCO-5qZ0ZfK35BCGV-YUcRNQsz1ZVZ3zvwg1eU4yMTdpGqbFsFFOizs899dXgcv6pTh3nA7RDkslQ")?this._observer=null:this._listener=b("Event").listen(a,"scroll",this.update.bind(this)),b("CSS").addClass(a,"_pts"),b("DataStore").set(a,"StickyContainer",this)}i.prototype.isDisplayed=function(){"use strict";return this.node.offsetWidth>0&&this.node.offsetHeight>0};i.prototype.register=function(a){"use strict";a.getStickyContainer()&&a.getStickyContainer().unregister(a);a._stickyContainer=this;this._areas.push(a);b("gkx")("AT7asMnBN5b1Qp7dmFqHmoeeujm5LsaQOVCO-5qZ0ZfK35BCGV-YUcRNQsz1ZVZ3zvwg1eU4yMTdpGqbFsFFOizs899dXgcv6pTh3nA7RDkslQ")&&(this._observer===null&&(this._observer=new(b("IntersectionObserver"))(function(a){this.update()}.bind(this),{root:this.node,rootMargin:-b("Vector").getElementDimensions(a.node).y+"px 0px 0px 0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),this._observer.observe(a.node),this._observer.observe(a._placeholder));this.update();return this};i.prototype.unregister=function(a){"use strict";b("removeFromArray")(this._areas,a),b("gkx")("AT7asMnBN5b1Qp7dmFqHmoeeujm5LsaQOVCO-5qZ0ZfK35BCGV-YUcRNQsz1ZVZ3zvwg1eU4yMTdpGqbFsFFOizs899dXgcv6pTh3nA7RDkslQ")&&(this._observer!==null&&(this._observer.unobserve(a.node),this._observer.unobserve(a._placeholder))),this.update()};i.prototype.update=function(){"use strict";__p&&__p();if(!this.isDisplayed())return this;var a=null,c=this,d=b("Scroll").getTop(this.node),e;for(var f=0;f<this._areas.length;f++){var g=this._areas[f],h=g.getInlineNode();if(!g.isDisplayed())continue;if(!b("DOM").contains(this.node.parentNode,h))continue;h=h.offsetTop;if(h<=d)(e===undefined||h>e)&&(a=g,e=h);else if(a){var i=b("Vector").getElementDimensions(a.node).y;h-i<d&&(c=g);break}}this._fixedArea===a&&this._fixTarget===c?this._fixedArea&&this._fixedArea.update():(this._fixedArea&&this._fixedArea!==a&&this._unfixArea(this._fixedArea),a&&this._fixAreaTo(a,c),this._fixedArea=a,this._fixTarget=c);return this};i.prototype.destroy=function(){"use strict";b("gkx")("AT7asMnBN5b1Qp7dmFqHmoeeujm5LsaQOVCO-5qZ0ZfK35BCGV-YUcRNQsz1ZVZ3zvwg1eU4yMTdpGqbFsFFOizs899dXgcv6pTh3nA7RDkslQ")?this._observer!==null&&(this._observer.disconnect(),this._observer=null):(this._listener&&this._listener.remove(),this._listener=null)};i.prototype._fixAreaTo=function(a,c){"use strict";this._layer.hide(),a.setExtracted(!0),c instanceof i?this._layer.setInsertParent(this.node.parentNode).setAlignment(b("Locale").isRTL()?"right":"left").setContext(this.node):this._layer.setInsertParent(this.node).setContext(c.node),this._layer.setContent(a.node).show(),b("CSS").addClass(a.node,"_57kj")};i.prototype._unfixArea=function(a){"use strict";this._layer.hide(),a.setExtracted(!1),b("CSS").removeClass(a.node,"_57kj")};i.getInstance=function(a){"use strict";var c=b("DataStore").get(a,"StickyContainer");return c||new i(a)};e.exports=a}),null);